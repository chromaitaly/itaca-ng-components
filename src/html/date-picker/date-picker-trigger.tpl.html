<ng-form name="chDatePickerTriggerForm" class="flex no-padding layout-column">
	<md-button class="ch-date-picker-button flex minimal-button text-lowercase text-center {{$ctrl.buttonClass}}" 
		ng-click="$ctrl.$openPanel($event)" aria-label="Change date" ng-disabled="$ctrl.ngDisabled" ng-readonly="$ctrl.ngReadonly">
		<div class="{{$ctrl.wrapperClass}} layout-align-center-center" ng-class="$ctrl.labelPosition == 'top' ? 'layout-column' : 'layout-row'">
 			<div ng-if="!$ctrl.hideLabel" class="no-padding row-mini"><small class="row-mini text-initial" ng-bind-html="$ctrl.label"></small></div>
			<div class="layout-row layout-padding-sm layout-align-center-center">
				<span><md-icon class="mdi mdi-calendar" ng-class="{'md-32': $ctrl.size == 'big', 'md-24': $ctrl.size == 'medium', 'md-18': $ctrl.size == 'small'}"></md-icon></span>
				<span ng-class="{'md-display-1': $ctrl.size == 'big', 'md-title': $ctrl.size == 'medium', 'md-subhead': $ctrl.size == 'small'}">{{$ctrl.ngModel|date:"dd"}}</span>
				<span class="layout-column" ng-class="$ctrl.size == 'small' ? 'text-small row-1' : 'row-mini'">
					<span class="text-lowercase">{{$ctrl.ngModel|date:"MMM"}}</span>
					<span>{{$ctrl.ngModel|date:"yyyy"}}</span>
				</span>
			</div>
		</div>
		<md-input-container class="md-block no-margin">
			<input type="hidden" style="visibility: hidden;" name="date" ng-model="$ctrl.ngModel" ng-required="$ctrl.ngRequired">
			
			<div ng-messages="chDatePickerTriggerForm.date.$error" ng-show="chDatePickerTriggerForm.$submitted || chDatePickerTriggerForm.date.$touched || chDatePickerTriggerForm.date.$dirty">
				<div ng-repeat="errorObj in $ctrl.errorMessages" ng-message="{{errorObj.error}}" class="no-padding">
					<span ng-if="errorObj.message" ng-bind="{{errorObj.message}}"></span>
	       			<span ng-if="!errorObj.message && errorObj.messageKey" translate="{{errorObj.messageKey}}" 
	       				translate-values="errorObj.messageKeyParams"></span>
	       		</div>
			</div>
		</md-input-container>
	</md-button>
</ng-form>