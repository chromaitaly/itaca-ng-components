/*******************************************************************************
********************************************************************************
********************************************************************************
***	   itaca-ng-components														 
***    Copyright (C) 2016-2018  Chroma Italy Hotels srl	 
***                                                                          
***    This program is free software: you can redistribute it and/or modify  
***    it under the terms of the GNU General Public License as published by  
***    the Free Software Foundation, either version 3 of the License, or     
***    (at your option) any later version.                                   
***                                                                          
***    This program is distributed in the hope that it will be useful,       
***    but WITHOUT ANY WARRANTY; without even the implied warranty of        
***    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the         
***    GNU General Public License for more details.                          
***                                                                          
***    You should have received a copy of the GNU General Public License     
***    along with this program.  If not, see <http://www.gnu.org/licenses/>. 
********************************************************************************
********************************************************************************
*******************************************************************************/
var colorPicker=function(){"use strict";function I(t){return null==t}function O(t){return null!=t}function D(t){return!0===t}function $(t){return"string"==typeof t||"number"==typeof t||"boolean"==typeof t}function B(t){return null!==t&&"object"==typeof t}function c(t){return"[object Object]"===He.call(t)}function i(t){var e=parseFloat(t);return 0<=e&&Math.floor(e)===e&&isFinite(t)}function t(t){return null==t?"":"object"==typeof t?JSON.stringify(t,null,2):String(t)}function N(t){var e=parseFloat(t);return isNaN(e)?t:e}function a(t,e){for(var n=Object.create(null),a=t.split(","),i=0;i<a.length;i++)n[a[i]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}function l(t,e){if(t.length){var n=t.indexOf(e);if(-1<n)return t.splice(n,1)}}function d(t,e){return Ge.call(t,e)}function e(e){var n=Object.create(null);return function(t){return n[t]||(n[t]=e(t))}}function o(n,a){function t(t){var e=arguments.length;return e?1<e?n.apply(a,arguments):n.call(a,t):n.call(a)}return t._length=n.length,t}function s(t,e){e=e||0;for(var n=t.length-e,a=new Array(n);n--;)a[n]=t[n+e];return a}function h(t,e){for(var n in e)t[n]=e[n];return t}function r(t){for(var e={},n=0;n<t.length;n++)t[n]&&h(e,t[n]);return e}function p(t,e,n){}function m(e,n){if(e===n)return!0;var t=B(e),a=B(n);if(!t||!a)return!t&&!a&&String(e)===String(n);try{var i=Array.isArray(e),o=Array.isArray(n);if(i&&o)return e.length===n.length&&e.every(function(t,e){return m(t,n[e])});if(i||o)return!1;var l=Object.keys(e),s=Object.keys(n);return l.length===s.length&&l.every(function(t){return m(e[t],n[t])})}catch(e){return!1}}function u(t,e){for(var n=0;n<t.length;n++)if(m(t[n],e))return n;return-1}function U(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function g(t,e,n,a){Object.defineProperty(t,e,{value:n,enumerable:!!a,writable:!0,configurable:!0})}function f(t,e,n){if(an.errorHandler)an.errorHandler.call(null,t,e,n);else{if(!cn||"undefined"==typeof console)throw t;console.error(t)}}function v(t){return"function"==typeof t&&/native code/.test(t.toString())}function b(t,e){var n;if(B(t))return d(t,"__ob__")&&t.__ob__ instanceof Tn?n=t.__ob__:En.shouldConvert&&!xn()&&(Array.isArray(t)||c(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Tn(t)),e&&n&&n.vmCount++,n}function y(n,t,a,e,i){var o=new An,l=Object.getOwnPropertyDescriptor(n,t);if(!l||!1!==l.configurable){var s=l&&l.get,r=l&&l.set,c=!i&&b(a);Object.defineProperty(n,t,{enumerable:!0,configurable:!0,get:function(){var t=s?s.call(n):a;return An.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(t)&&function t(e){for(var n=void 0,a=0,i=e.length;a<i;a++)(n=e[a])&&n.__ob__&&n.__ob__.dep.depend(),Array.isArray(n)&&t(n)}(t))),t},set:function(t){var e=s?s.call(n):a;t===e||t!=t&&e!=e||(r?r.call(n,t):a=t,c=!i&&b(t),o.notify())}})}}function w(t,e,n){if(Array.isArray(t)&&i(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(d(t,e))return t[e]=n;var a=t.__ob__;return t._isVue||a&&a.vmCount||(a?(y(a.value,e,n),a.dep.notify()):t[e]=n),n}function n(t,e){if(Array.isArray(t)&&i(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||d(t,e)&&(delete t[e],n&&n.dep.notify())}}function x(t,e){if(!e)return t;for(var n,a,i,o=Object.keys(e),l=0;l<o.length;l++)a=t[n=o[l]],i=e[n],d(t,n)?c(a)&&c(i)&&x(a,i):w(t,n,i);return t}function C(n,a,i){return i?n||a?function(){var t="function"==typeof a?a.call(i):a,e="function"==typeof n?n.call(i):n;return t?x(t,e):e}:void 0:a?n?function(){return x("function"==typeof a?a.call(this):a,"function"==typeof n?n.call(this):n)}:a:n}function S(t,e){return e?t?t.concat(e):Array.isArray(e)?e:[e]:t}function k(t,e){var n=Object.create(t||null);return e?h(n,e):n}function R(n,a,i){function t(t){var e=Ln[t]||In;r[t]=e(n[t],a[t],i,t)}"function"==typeof a&&(a=a.options),function(t){var e=t.props;if(e){var n,a,i={};if(Array.isArray(e))for(n=e.length;n--;)"string"==typeof(a=e[n])&&(i[Ke(a)]={type:null});else if(c(e))for(var o in e)a=e[o],i[Ke(o)]=c(a)?a:{type:a};t.props=i}}(a),function(t){var e=t.inject;if(Array.isArray(e))for(var n=t.inject={},a=0;a<e.length;a++)n[e[a]]=e[a]}(a),function(t){var e=t.directives;if(e)for(var n in e){var a=e[n];"function"==typeof a&&(e[n]={bind:a,update:a})}}(a);var e=a.extends;if(e&&(n=R(n,e,i)),a.mixins)for(var o=0,l=a.mixins.length;o<l;o++)n=R(n,a.mixins[o],i);var s,r={};for(s in n)t(s);for(s in a)d(n,s)||t(s);return r}function A(t,e,n,a){if("string"==typeof n){var i=t[e];if(d(i,n))return i[n];var o=Ke(n);if(d(i,o))return i[o];var l=We(o);return d(i,l)?i[l]:i[n]||i[o]||i[l]}}function _(t,e,n,a){var i=e[t],o=!d(n,t),l=n[t];if(M(Boolean,i.type)&&(o&&!d(i,"default")?l=!1:M(String,i.type)||""!==l&&l!==Qe(t)||(l=!0)),void 0===l){l=function(t,e,n){if(d(e,"default")){var a=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"==typeof a&&"Function"!==P(e.type)?a.call(t):a}}(a,i,t);var s=En.shouldConvert;En.shouldConvert=!0,b(l),En.shouldConvert=s}return l}function P(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function M(t,e){if(!Array.isArray(e))return P(e)===P(t);for(var n=0,a=e.length;n<a;n++)if(P(e[n])===P(t))return!0;return!1}function E(t){return new On(void 0,void 0,void 0,String(t))}function T(t,e){var n=new On(t.tag,t.data,t.children,t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return n.ns=t.ns,n.isStatic=t.isStatic,n.key=t.key,n.isComment=t.isComment,n.isCloned=!0,e&&t.children&&(n.children=L(t.children)),n}function L(t,e){for(var n=t.length,a=new Array(n),i=0;i<n;i++)a[i]=T(t[i],e);return a}function z(t){function i(){var t=arguments,e=i.fns;if(!Array.isArray(e))return e.apply(null,arguments);for(var n=e.slice(),a=0;a<n.length;a++)n[a].apply(null,t)}return i.fns=t,i}function q(t,e){return t.plain?-1:e.plain?1:0}function F(t,e,n,a,i){var o,l,s,r,c=[],d=!1;for(o in t)l=t[o],s=e[o],(r=zn(o)).plain||(d=!0),I(l)||(I(s)?(I(l.fns)&&(l=t[o]=z(l)),r.handler=l,c.push(r)):l!==s&&(s.fns=l,t[o]=s));if(c.length){d&&c.sort(q);for(var p=0;p<c.length;p++){var m=c[p];n(m.name,m.handler,m.once,m.capture,m.passive)}}for(o in e)I(t[o])&&a((r=zn(o)).name,e[o],r.capture)}function j(t,e,n){function a(){n.apply(this,arguments),l(i.fns,a)}var i,o=t[e];I(o)?i=z([a]):O(o.fns)&&D(o.merged)?(i=o).fns.push(a):i=z([o,a]),i.merged=!0,t[e]=i}function H(t,e,n,a,i){if(O(e)){if(d(e,n))return t[n]=e[n],i||delete e[n],!0;if(d(e,a))return t[n]=e[a],i||delete e[a],!0}return!1}function V(t){return $(t)?[E(t)]:Array.isArray(t)?function t(e,n){var a,i,o,l=[];for(a=0;a<e.length;a++)I(i=e[a])||"boolean"==typeof i||(o=l[l.length-1],Array.isArray(i)?l.push.apply(l,t(i,(n||"")+"_"+a)):$(i)?G(o)?o.text+=String(i):""!==i&&l.push(E(i)):G(i)&&G(o)?l[l.length-1]=E(o.text+i.text):(D(e._isVList)&&O(i.tag)&&I(i.key)&&O(n)&&(i.key="__vlist"+n+"_"+a+"__"),l.push(i)));return l}(t):void 0}function G(t){return O(t)&&O(t.text)&&!1===t.isComment}function Y(t,e){return t.__esModule&&t.default&&(t=t.default),B(t)?e.extend(t):t}function K(t){return t.isComment&&t.asyncFactory}function W(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(O(n)&&(O(n.componentOptions)||K(n)))return n}}function X(t,e,n){n?Nn.$once(t,e):Nn.$on(t,e)}function Q(t,e){Nn.$off(t,e)}function J(t,e,n){Nn=t,F(e,n||{},X,Q)}function Z(t,e){var n={};if(!t)return n;for(var a=[],i=0,o=t.length;i<o;i++){var l=t[i],s=l.data;if(s&&s.attrs&&s.attrs.slot&&delete s.attrs.slot,l.context!==e&&l.functionalContext!==e||!s||null==s.slot)a.push(l);else{var r=l.data.slot,c=n[r]||(n[r]=[]);"template"===l.tag?c.push.apply(c,l.children):c.push(l)}}return a.every(tt)||(n.default=a),n}function tt(t){return t.isComment||" "===t.text}function et(t,e){e=e||{};for(var n=0;n<t.length;n++)Array.isArray(t[n])?et(t[n],e):e[t[n].key]=t[n].fn;return e}function nt(t){for(;t&&(t=t.$parent);)if(t._inactive)return!0;return!1}function at(t,e){if(e){if(t._directInactive=!1,nt(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)at(t.$children[n]);it(t,"activated")}}function it(t,e){var n=t.$options[e];if(n)for(var a=0,i=n.length;a<i;a++)try{n[a].call(t)}catch(n){f(n,t,e+" hook")}t._hasHookEvent&&t.$emit("hook:"+e)}function ot(){var t,e;for(Gn=!0,Fn.sort(function(t,e){return t.id-e.id}),Yn=0;Yn<Fn.length;Yn++)e=(t=Fn[Yn]).id,Hn[e]=null,t.run();var n=jn.slice(),a=Fn.slice();Yn=Fn.length=jn.length=0,Vn=Gn=!(Hn={}),function(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,at(t[e],!0)}(n),function(t){for(var e=t.length;e--;){var n=t[e],a=n.vm;a._watcher===n&&a._isMounted&&it(a,"updated")}}(a),Cn&&an.devtools&&Cn.emit("flush")}function lt(t){aa.clear(),function t(e,n){var a,i,o=Array.isArray(e);if((o||B(e))&&Object.isExtensible(e)){if(e.__ob__){var l=e.__ob__.dep.id;if(n.has(l))return;n.add(l)}if(o)for(a=e.length;a--;)t(e[a],n);else for(a=(i=Object.keys(e)).length;a--;)t(e[i[a]],n)}}(t,aa)}function st(t,e,n){ia.get=function(){return this[e][n]},ia.set=function(t){this[e][n]=t},Object.defineProperty(t,n,ia)}function rt(t){t._watchers=[];var e=t.$options;e.props&&function(n,a){var i=n.$options.propsData||{},o=n._props={},l=n.$options._propKeys=[],t=!n.$parent;for(var e in En.shouldConvert=t,a)!function(t){l.push(t);var e=_(t,a,i,n);y(o,t,e),t in n||st(n,"_props",t)}(e);En.shouldConvert=!0}(t,e.props),e.methods&&function(t,e){for(var n in e)t[n]=null==e[n]?p:o(e[n],t)}(t,e.methods),e.data?function(t){var e=t.$options.data;c(e=t._data="function"==typeof e?function(t,e){try{return t.call(e)}catch(t){return f(t,e,"data()"),{}}}(e,t):e||{})||(e={});for(var n=Object.keys(e),a=t.$options.props,i=n.length;i--;){var o=n[i];a&&d(a,o)||(void 0,36===(l=(o+"").charCodeAt(0))||95===l)||st(t,"_data",o)}var l;b(e,!0)}(t):b(t._data={},!0),e.computed&&function(t,e){var n=t._computedWatchers=Object.create(null),a=xn();for(var i in e){var o=e[i],l="function"==typeof o?o:o.get;a||(n[i]=new Wn(t,l||p,p,oa)),i in t||ct(t,i,o)}}(t,e.computed),e.watch&&e.watch!==fn&&function(t,e){for(var n in e){var a=e[n];if(Array.isArray(a))for(var i=0;i<a.length;i++)pt(t,n,a[i]);else pt(t,n,a)}}(t,e.watch)}function ct(t,e,n){var a=!xn();"function"==typeof n?(ia.get=a?dt(e):n,ia.set=p):(ia.get=n.get?a&&!1!==n.cache?dt(e):n.get:p,ia.set=n.set?n.set:p),Object.defineProperty(t,e,ia)}function dt(e){return function(){var t=this._computedWatchers&&this._computedWatchers[e];if(t)return t.dirty&&t.evaluate(),An.target&&t.depend(),t.value}}function pt(t,e,n,a){return c(n)&&(n=(a=n).handler),"string"==typeof n&&(n=t[n]),t.$watch(e,n,a)}function mt(e,t){if(e){for(var n=Object.create(null),a=Sn?Reflect.ownKeys(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}):Object.keys(e),i=0;i<a.length;i++)for(var o=a[i],l=e[o],s=t;s;){if(s._provided&&l in s._provided){n[o]=s._provided[l];break}s=s.$parent}return n}}function ut(t,e){for(var n in e)t[Ke(n)]=e[n]}function gt(t,e,n,a,i){if(!I(t)){var o=n.$options._base;if(B(t)&&(t=o.extend(t)),"function"==typeof t){var l;if(I(t.cid)&&void 0===(t=function(e,n,t){if(D(e.error)&&O(e.errorComp))return e.errorComp;if(O(e.resolved))return e.resolved;if(D(e.loading)&&O(e.loadingComp))return e.loadingComp;if(!O(e.contexts)){var a=e.contexts=[t],i=!0,o=function(){for(var t=0,e=a.length;t<e;t++)a[t].$forceUpdate()},l=U(function(t){e.resolved=Y(t,n),i||o()}),s=U(function(t){O(e.errorComp)&&(e.error=!0,o())}),r=e(l,s);return B(r)&&("function"==typeof r.then?I(e.resolved)&&r.then(l,s):O(r.component)&&"function"==typeof r.component.then&&(r.component.then(l,s),O(r.error)&&(e.errorComp=Y(r.error,n)),O(r.loading)&&(e.loadingComp=Y(r.loading,n),0===r.delay?e.loading=!0:setTimeout(function(){I(e.resolved)&&I(e.error)&&(e.loading=!0,o())},r.delay||200)),O(r.timeout)&&setTimeout(function(){I(e.resolved)&&s(null)},r.timeout))),i=!1,e.loading?e.loadingComp:e.resolved}e.contexts.push(t)}(l=t,o,n)))return p=l,m=e,u=n,g=a,$=i,(h=Un()).asyncFactory=p,h.asyncMeta={data:m,context:u,children:g,tag:$},h;e=e||{},At(t),O(e.model)&&function(t,e){var n=t.model&&t.model.prop||"value",a=t.model&&t.model.event||"input";(e.props||(e.props={}))[n]=e.model.value;var i=e.on||(e.on={});O(i[a])?i[a]=[e.model.callback].concat(i[a]):i[a]=e.model.callback}(t.options,e);var s=function(t,e,n){var a=e.options.props;if(!I(a)){var i={},o=t.attrs,l=t.props;if(O(o)||O(l))for(var s in a){var r=Qe(s);H(i,l,s,r,!0)||H(i,o,s,r,!1)}return i}}(e,t);if(D(t.options.functional))return function(t,e,n,a,i){var o={},l=t.options.props;if(O(l))for(var s in l)o[s]=_(s,l,e||on);else O(n.attrs)&&ut(o,n.attrs),O(n.props)&&ut(o,n.props);var r=Object.create(a),c=t.options.render.call(null,function(t,e,n,a){return ht(r,t,e,n,a,!0)},{data:n,props:o,children:i,parent:a,listeners:n.on||on,injections:mt(t.options.inject,a),slots:function(){return Z(i,a)}});return c instanceof On&&(c.functionalContext=a,c.functionalOptions=t.options,n.slot&&((c.data||(c.data={})).slot=n.slot)),c}(t,s,e,n,a);var r=e.on;if(e.on=e.nativeOn,D(t.options.abstract)){var c=e.slot;e={},c&&(e.slot=c)}!function(t){t.hook||(t.hook={});for(var e=0;e<sa.length;e++){var n=sa[e],a=t.hook[n],i=la[n];t.hook[n]=a?$t(i,a):i}}(e);var d=t.options.name||i;return new On("vue-component-"+t.cid+(d?"-"+d:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:s,listeners:r,tag:i,children:a},l)}}var p,m,u,g,$,h}function $t(i,o){return function(t,e,n,a){i(t,e,n,a),o(t,e,n,a)}}function ht(t,e,n,a,i,o){return(Array.isArray(n)||$(n))&&(i=a,a=n,n=void 0),D(o)&&(i=ca),function(t,e,n,a,i){if(O(n)&&O(n.__ob__))return Un();if(O(n)&&O(n.is)&&(e=n.is),!e)return Un();var o,l,s;Array.isArray(a)&&"function"==typeof a[0]&&((n=n||{}).scopedSlots={default:a[0]},a.length=0),i===ca?a=V(a):i===ra&&(a=function(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}(a)),"string"==typeof e?(l=t.$vnode&&t.$vnode.ns||an.getTagNamespace(e),o=an.isReservedTag(e)?new On(an.parsePlatformTagName(e),n,a,void 0,void 0,t):O(s=A(t.$options,"components",e))?gt(s,n,t,a,e):new On(e,n,a,void 0,void 0,t)):o=gt(e,n,t,a);return O(o)?(l&&function t(e,n){if(e.ns=n,"foreignObject"!==e.tag&&O(e.children))for(var a=0,i=e.children.length;a<i;a++){var o=e.children[a];O(o.tag)&&I(o.ns)&&t(o,n)}}(o,l),o):Un()}(t,e,n,a,i)}function ft(t,e){var n,a,i,o,l;if(Array.isArray(t)||"string"==typeof t)for(n=new Array(t.length),a=0,i=t.length;a<i;a++)n[a]=e(t[a],a);else if("number"==typeof t)for(n=new Array(t),a=0;a<t;a++)n[a]=e(a+1,a);else if(B(t))for(o=Object.keys(t),n=new Array(o.length),a=0,i=o.length;a<i;a++)l=o[a],n[a]=e(t[l],l,a);return O(n)&&(n._isVList=!0),n}function vt(t,e,n,a){var i=this.$scopedSlots[t];return i?(n=n||{},a&&(n=h(h({},a),n)),i(n)||e):this.$slots[t]||e}function bt(t){return A(this.$options,"filters",t)||Ze}function yt(t,e,n){var a=an.keyCodes[e]||n;return Array.isArray(a)?-1===a.indexOf(t):a!==t}function wt(n,a,i,o,l){if(i&&B(i)){Array.isArray(i)&&(i=r(i));var s,t=function(e){if("class"===e||"style"===e||Ve(e))s=n;else{var t=n.attrs&&n.attrs.type;s=o||an.mustUseProp(a,t,e)?n.domProps||(n.domProps={}):n.attrs||(n.attrs={})}e in s||(s[e]=i[e],l&&((n.on||(n.on={}))["update:"+e]=function(t){i[e]=t}))};for(var e in i)t(e)}return n}function xt(t,e){var n=this._staticTrees[t];return n&&!e?Array.isArray(n)?L(n):T(n):(St(n=this._staticTrees[t]=this.$options.staticRenderFns[t].call(this._renderProxy),"__static__"+t,!1),n)}function Ct(t,e,n){return St(t,"__once__"+e+(n?"_"+n:""),!0),t}function St(t,e,n){if(Array.isArray(t))for(var a=0;a<t.length;a++)t[a]&&"string"!=typeof t[a]&&kt(t[a],e+"_"+a,n);else kt(t,e,n)}function kt(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function Rt(t,e){if(e&&c(e)){var n=t.on=t.on?h({},t.on):{};for(var a in e){var i=n[a],o=e[a];n[a]=i?[].concat(o,i):o}}return t}function At(t){var e=t.options;if(t.super){var n=At(t.super);if(n!==t.superOptions){t.superOptions=n;var a=function(t){var e,n=t.options,a=t.extendOptions,i=t.sealedOptions;for(var o in n)n[o]!==i[o]&&(e||(e={}),e[o]=Dt(n[o],a[o],i[o]));return e}(t);a&&h(t.extendOptions,a),(e=t.options=R(n,t.extendOptions)).name&&(e.components[e.name]=t)}}return e}function Dt(t,e,n){if(Array.isArray(t)){var a=[];n=Array.isArray(n)?n:[n],e=Array.isArray(e)?e:[e];for(var i=0;i<t.length;i++)(0<=e.indexOf(t[i])||n.indexOf(t[i])<0)&&a.push(t[i]);return a}return t}function _t(t){this._init(t)}function Pt(t){t.cid=0;var l=1;t.extend=function(t){t=t||{};var e=this,n=e.cid,a=t._Ctor||(t._Ctor={});if(a[n])return a[n];var i=t.name||e.options.name,o=function(t){this._init(t)};return((o.prototype=Object.create(e.prototype)).constructor=o).cid=l++,o.options=R(e.options,t),o.super=e,o.options.props&&function(t){var e=t.options.props;for(var n in e)st(t.prototype,"_props",n)}(o),o.options.computed&&function(t){var e=t.options.computed;for(var n in e)ct(t.prototype,n,e[n])}(o),o.extend=e.extend,o.mixin=e.mixin,o.use=e.use,en.forEach(function(t){o[t]=e[t]}),i&&(o.options.components[i]=o),o.superOptions=e.options,o.extendOptions=t,o.sealedOptions=h({},o.options),a[n]=o}}function Mt(t){return t&&(t.Ctor.options.name||t.tag)}function Et(t,e){return Array.isArray(t)?-1<t.indexOf(e):"string"==typeof t?-1<t.split(",").indexOf(e):(n=t,!("[object RegExp]"!==He.call(n))&&t.test(e));var n}function Tt(t,e,n){for(var a in t){var i=t[a];if(i){var o=Mt(i.componentOptions);o&&!n(o)&&(i!==e&&Lt(i),t[a]=null)}}}function Lt(t){t&&t.componentInstance.$destroy()}function It(t){for(var e=t.data,n=t,a=t;O(a.componentInstance);)(a=a.componentInstance._vnode).data&&(e=Ot(a.data,e));for(;O(n=n.parent);)n.data&&(e=Ot(e,n.data));return i=e.staticClass,o=e.class,O(i)||O(o)?Bt(i,Nt(o)):"";var i,o}function Ot(t,e){return{staticClass:Bt(t.staticClass,e.staticClass),class:O(t.class)?[t.class,e.class]:e.class}}function Bt(t,e){return t?e?t+" "+e:t:e||""}function Nt(t){return Array.isArray(t)?function(t){for(var e,n="",a=0,i=t.length;a<i;a++)O(e=Nt(t[a]))&&""!==e&&(n&&(n+=" "),n+=e);return n}(t):B(t)?function(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}(t):"string"==typeof t?t:""}function Ut(t,e){var n=t.data.ref;if(n){var a=t.context,i=t.componentInstance||t.elm,o=a.$refs;e?Array.isArray(o[n])?l(o[n],i):o[n]===i&&(o[n]=void 0):t.data.refInFor?Array.isArray(o[n])?o[n].indexOf(i)<0&&o[n].push(i):o[n]=[i]:o[n]=i}}function zt(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&O(t.data)===O(e.data)&&function(t,e){if("input"!==t.tag)return!0;var n,a=O(n=t.data)&&O(n=n.attrs)&&n.type,i=O(n=e.data)&&O(n=n.attrs)&&n.type;return a===i||Ma(a)&&Ma(i)}(t,e)||D(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&I(e.asyncFactory.error))}function qt(t,e,n){var a,i,o={};for(a=e;a<=n;++a)O(i=t[a].key)&&(o[i]=a);return o}function Ft(t,e){(t.data.directives||e.data.directives)&&function(e,n){var t,a,i,o=e===La,l=n===La,s=jt(e.data.directives,e.context),r=jt(n.data.directives,n.context),c=[],d=[];for(t in r)a=s[t],i=r[t],a?(i.oldValue=a.value,Ht(i,"update",n,e),i.def&&i.def.componentUpdated&&d.push(i)):(Ht(i,"bind",n,e),i.def&&i.def.inserted&&c.push(i));if(c.length){var p=function(){for(var t=0;t<c.length;t++)Ht(c[t],"inserted",n,e)};o?j(n.data.hook||(n.data.hook={}),"insert",p):p()}if(d.length&&j(n.data.hook||(n.data.hook={}),"postpatch",function(){for(var t=0;t<d.length;t++)Ht(d[t],"componentUpdated",n,e)}),!o)for(t in s)r[t]||Ht(s[t],"unbind",e,e,l)}(t,e)}function jt(t,e){var n,a,i,o=Object.create(null);if(!t)return o;for(n=0;n<t.length;n++)(a=t[n]).modifiers||(a.modifiers=Ba),(o[(i=a,i.rawName||i.name+"."+Object.keys(i.modifiers||{}).join("."))]=a).def=A(e.$options,"directives",a.name);return o}function Ht(t,e,n,a,i){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,a,i)}catch(a){f(a,n.context,"directive "+t.name+" "+e+" hook")}}function Vt(t,e){var n=e.componentOptions;if(!(O(n)&&!1===n.Ctor.options.inheritAttrs||I(t.data.attrs)&&I(e.data.attrs))){var a,i,o=e.elm,l=t.data.attrs||{},s=e.data.attrs||{};for(a in O(s.__ob__)&&(s=e.data.attrs=h({},s)),s)i=s[a],l[a]!==i&&Gt(o,a,i);for(a in mn&&s.value!==l.value&&Gt(o,"value",s.value),l)I(s[a])&&(Ca(a)?o.removeAttributeNS(xa,Sa(a)):ya(a)||o.removeAttribute(a))}}function Gt(t,e,n){wa(e)?ka(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):ya(e)?t.setAttribute(e,ka(n)||"false"===n?"false":"true"):Ca(e)?ka(n)?t.removeAttributeNS(xa,Sa(e)):t.setAttributeNS(xa,e,n):ka(n)?t.removeAttribute(e):t.setAttribute(e,n)}function Yt(t,e){var n=e.elm,a=e.data,i=t.data;if(!(I(a.staticClass)&&I(a.class)&&(I(i)||I(i.staticClass)&&I(i.class)))){var o=It(e),l=n._transitionClasses;O(l)&&(o=Bt(o,Nt(l))),o!==n._prevClass&&(n.setAttribute("class",o),n._prevClass=o)}}function Kt(e,n,t,a,i){if(t){var o=n,l=ha;n=function(t){null!==(1===arguments.length?o(t):o.apply(null,arguments))&&Wt(e,n,a,l)}}ha.addEventListener(e,n,vn?{capture:a,passive:i}:a)}function Wt(t,e,n,a){(a||ha).removeEventListener(t,e,n)}function Xt(t,e){if(!I(t.data.on)||!I(e.data.on)){var n=e.data.on||{},a=t.data.on||{};ha=e.elm,O((i=n)[qa])&&(i[o=pn?"change":"input"]=[].concat(i[qa],i[o]||[]),delete i[qa]),O(i[Fa])&&(i[o=hn?"click":"change"]=[].concat(i[Fa],i[o]||[]),delete i[Fa]),F(n,a,Kt,Wt,e.context)}var i,o}function Qt(t,e){if(!I(t.data.domProps)||!I(e.data.domProps)){var n,a,i=e.elm,o=t.data.domProps||{},l=e.data.domProps||{};for(n in O(l.__ob__)&&(l=e.data.domProps=h({},l)),o)I(l[n])&&(i[n]="");for(n in l)if(a=l[n],"textContent"!==n&&"innerHTML"!==n||(e.children&&(e.children.length=0),a!==o[n]))if("value"===n){var s=I(i._value=a)?"":String(a);u=e,g=s,!(m=i).composing&&("option"===u.tag||function(t,e){var n=!0;try{n=document.activeElement!==t}catch(t){}return n&&t.value!==e}(m,g)||(c=g,p=d=void 0,d=(r=m).value,O(p=r._vModifiers)&&p.number?N(d)!==N(c):O(p)&&p.trim?d.trim()!==c.trim():d!==c))&&(i.value=s)}else i[n]=a}var r,c,d,p,m,u,g}function Jt(t){var e=Zt(t.style);return t.staticStyle?h(t.staticStyle,e):e}function Zt(t){return Array.isArray(t)?r(t):"string"==typeof t?Va(t):t}function te(t,e){var n=e.data,a=t.data;if(!(I(n.staticStyle)&&I(n.style)&&I(a.staticStyle)&&I(a.style))){var i,o,l=e.elm,s=a.staticStyle,r=a.normalizedStyle||a.style||{},c=s||r,d=Zt(e.data.style)||{};e.data.normalizedStyle=O(d.__ob__)?h({},d):d;var p=function(t,e){var n,a={};if(e)for(var i=t;i.componentInstance;)(i=i.componentInstance._vnode).data&&(n=Jt(i.data))&&h(a,n);(n=Jt(t.data))&&h(a,n);for(var o=t;o=o.parent;)o.data&&(n=Jt(o.data))&&h(a,n);return a}(e,!0);for(o in c)I(p[o])&&Ka(l,o,"");for(o in p)(i=p[o])!==c[o]&&Ka(l,o,null==i?"":i)}}function ee(e,t){if(t&&(t=t.trim()))if(e.classList)-1<t.indexOf(" ")?t.split(/\s+/).forEach(function(t){return e.classList.add(t)}):e.classList.add(t);else{var n=" "+(e.getAttribute("class")||"")+" ";n.indexOf(" "+t+" ")<0&&e.setAttribute("class",(n+t).trim())}}function ne(e,t){if(t&&(t=t.trim()))if(e.classList)-1<t.indexOf(" ")?t.split(/\s+/).forEach(function(t){return e.classList.remove(t)}):e.classList.remove(t),e.classList.length||e.removeAttribute("class");else{for(var n=" "+(e.getAttribute("class")||"")+" ",a=" "+t+" ";0<=n.indexOf(a);)n=n.replace(a," ");(n=n.trim())?e.setAttribute("class",n):e.removeAttribute("class")}}function ae(t){if(t){if("object"==typeof t){var e={};return!1!==t.css&&h(e,Ja(t.name||"v")),h(e,t),e}return"string"==typeof t?Ja(t):void 0}}function ie(t){li(function(){li(t)})}function oe(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),ee(t,e))}function le(t,e){t._transitionClasses&&l(t._transitionClasses,e),ne(t,e)}function se(e,t,n){var a=re(e,t),i=a.type,o=a.timeout,l=a.propCount;if(!i)return n();var s=i===ti?ai:oi,r=0,c=function(){e.removeEventListener(s,d),n()},d=function(t){t.target===e&&++r>=l&&c()};setTimeout(function(){r<l&&c()},o+1),e.addEventListener(s,d)}function re(t,e){var n,a=window.getComputedStyle(t),i=a[ni+"Delay"].split(", "),o=a[ni+"Duration"].split(", "),l=ce(i,o),s=a[ii+"Delay"].split(", "),r=a[ii+"Duration"].split(", "),c=ce(s,r),d=0,p=0;return e===ti?0<l&&(n=ti,d=l,p=o.length):e===ei?0<c&&(n=ei,d=c,p=r.length):p=(n=0<(d=Math.max(l,c))?c<l?ti:ei:null)?n===ti?o.length:r.length:0,{type:n,timeout:d,propCount:p,hasTransform:n===ti&&si.test(a[ni+"Property"])}}function ce(n,t){for(;n.length<t.length;)n=n.concat(n);return Math.max.apply(null,t.map(function(t,e){return de(t)+de(n[e])}))}function de(t){return 1e3*Number(t.slice(0,-1))}function pe(n,t){var a=n.elm;O(a._leaveCb)&&(a._leaveCb.cancelled=!0,a._leaveCb());var e=ae(n.data.transition);if(!I(e)&&!O(a._enterCb)&&1===a.nodeType){for(var i=e.css,o=e.type,l=e.enterClass,s=e.enterToClass,r=e.enterActiveClass,c=e.appearClass,d=e.appearToClass,p=e.appearActiveClass,m=e.beforeEnter,u=e.enter,g=e.afterEnter,$=e.enterCancelled,h=e.beforeAppear,f=e.appear,v=e.afterAppear,b=e.appearCancelled,y=e.duration,w=qn,x=qn.$vnode;x&&x.parent;)w=(x=x.parent).context;var C=!w._isMounted||!n.isRootInsert;if(!C||f||""===f){var S=C&&c?c:l,k=C&&p?p:r,R=C&&d?d:s,A=C&&h||m,D=C&&"function"==typeof f?f:u,_=C&&v||g,P=C&&b||$,M=N(B(y)?y.enter:y),E=!1!==i&&!mn,T=ge(D),L=a._enterCb=U(function(){E&&(le(a,R),le(a,k)),L.cancelled?(E&&le(a,S),P&&P(a)):_&&_(a),a._enterCb=null});n.data.show||j(n.data.hook||(n.data.hook={}),"insert",function(){var t=a.parentNode,e=t&&t._pending&&t._pending[n.key];e&&e.tag===n.tag&&e.elm._leaveCb&&e.elm._leaveCb(),D&&D(a,L)}),A&&A(a),E&&(oe(a,S),oe(a,k),ie(function(){oe(a,R),le(a,S),L.cancelled||T||(ue(M)?setTimeout(L,M):se(a,o,L))})),n.data.show&&(t&&t(),D&&D(a,L)),E||T||L()}}}function me(t,e){function n(){b.cancelled||(t.data.show||((a.parentNode._pending||(a.parentNode._pending={}))[t.key]=t),d&&d(a),h&&(oe(a,s),oe(a,c),ie(function(){oe(a,r),le(a,s),b.cancelled||f||(ue(v)?setTimeout(b,v):se(a,l,b))})),p&&p(a,b),h||f||b())}var a=t.elm;O(a._enterCb)&&(a._enterCb.cancelled=!0,a._enterCb());var i=ae(t.data.transition);if(I(i))return e();if(!O(a._leaveCb)&&1===a.nodeType){var o=i.css,l=i.type,s=i.leaveClass,r=i.leaveToClass,c=i.leaveActiveClass,d=i.beforeLeave,p=i.leave,m=i.afterLeave,u=i.leaveCancelled,g=i.delayLeave,$=i.duration,h=!1!==o&&!mn,f=ge(p),v=N(B($)?$.leave:$),b=a._leaveCb=U(function(){a.parentNode&&a.parentNode._pending&&(a.parentNode._pending[t.key]=null),h&&(le(a,r),le(a,c)),b.cancelled?(h&&le(a,s),u&&u(a)):(e(),m&&m(a)),a._leaveCb=null});g?g(n):n()}}function ue(t){return"number"==typeof t&&!isNaN(t)}function ge(t){if(I(t))return!1;var e=t.fns;return O(e)?ge(Array.isArray(e)?e[0]:e):1<(t._length||t.length)}function $e(t,e){!0!==e.data.show&&pe(e)}function he(t,e,n){fe(t,e,n),(pn||un)&&setTimeout(function(){fe(t,e,n)},0)}function fe(t,e,n){var a=e.value,i=t.multiple;if(!i||Array.isArray(a)){for(var o,l,s=0,r=t.options.length;s<r;s++)if(l=t.options[s],i)o=-1<u(a,be(l)),l.selected!==o&&(l.selected=o);else if(m(be(l),a))return void(t.selectedIndex!==s&&(t.selectedIndex=s));i||(t.selectedIndex=-1)}}function ve(e,t){return t.every(function(t){return!m(t,e)})}function be(t){return"_value"in t?t._value:t.value}function ye(t){t.target.composing=!0}function we(t){t.target.composing&&(t.target.composing=!1,xe(t.target,"input"))}function xe(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function Ce(t){return!t.componentInstance||t.data&&t.data.transition?t:Ce(t.componentInstance._vnode)}function Se(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?Se(W(e.children)):t}function ke(t){var e={},n=t.$options;for(var a in n.propsData)e[a]=t[a];var i=n._parentListeners;for(var o in i)e[Ke(o)]=i[o];return e}function Re(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function Ae(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function De(t){t.data.newPos=t.elm.getBoundingClientRect()}function _e(t){var e=t.data.pos,n=t.data.newPos,a=e.left-n.left,i=e.top-n.top;if(a||i){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+a+"px,"+i+"px)",o.transitionDuration="0s"}}function Pe(t,e){return t.__proto__=e,t}function Me(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function Ee(){return Reflect.construct(HTMLElement,[],this.__proto__.constructor)}function Te(t){function i(){!0===o.shadow&&HTMLElement.prototype.attachShadow&&this.attachShadow({mode:"open"}),"function"==typeof o.constructorCallback&&o.constructorCallback.call(this)}function e(){"function"==typeof o.connectedCallback&&o.connectedCallback.call(this)}function n(){"function"==typeof o.disconnectedCallback&&o.disconnectedCallback.call(this)}function a(t,e,n){"function"==typeof o.attributeChangedCallback&&o.attributeChangedCallback.call(this,t,e,n)}var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};if("undefined"!=typeof customElements){if(gi){var l=function(t){function a(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,a);var e=Me(this,(a.__proto__||Object.getPrototypeOf(a)).call(this)),n=t?HTMLElement.call(t):e;return i.call(n),Me(e,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(a,Ee),$i(a,null,[{key:"observedAttributes",get:function(){return o.observedAttributes||[]}}]),a}();return l.prototype.connectedCallback=e,l.prototype.disconnectedCallback=n,l.prototype.attributeChangedCallback=a,customElements.define(t,l),l}var s=function(t){var e=t?HTMLElement.call(t):this;return i.call(e),e};return s.observedAttributes=o.observedAttributes||[],(s.prototype=Object.create(HTMLElement.prototype,{constructor:{configurable:!0,writable:!0,value:s}})).connectedCallback=e,s.prototype.disconnectedCallback=n,s.prototype.attributeChangedCallback=a,customElements.define(t,s),s}}function Le(t){for(var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=t.length-e,a=new Array(n);n--;)a[n]=t[n+e];return a}function Ie(t){var e=t,n=-1<["true","false"].indexOf(t),a=parseFloat(e,10),i=!isNaN(a)&&isFinite(e);return n?e="true"===e:i&&(e=a),e}function Oe(t,n){if(t&&t.length)t.forEach(function(t){var e=fi(t);-1===n.camelCase.indexOf(e)&&n.camelCase.push(e)});else if(t&&"object"===(void 0===t?"undefined":yi(t)))for(var e in t){var a=fi(e);-1===n.camelCase.indexOf(a)&&n.camelCase.push(a)}}function Be(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},e={camelCase:[],hyphenate:[]};return t.mixins&&t.mixins.forEach(function(t){Oe(t.props,e)}),t.extends&&t.extends.props&&Oe(t.extends.props,e),Oe(t.props,e),e.camelCase.forEach(function(t){e.hyphenate.push(bi(t))}),e}function Ne(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],i=arguments[1],o=[];return Le(t).forEach(function(t){if("#text"===t.nodeName)t.nodeValue.trim()&&o.push(i("span",t.nodeValue));else{var e=(a={},Le(t.attributes).forEach(function(t){a["vue-slot"===t.nodeName?"slot":t.nodeName]=t.nodeValue}),a),n={attrs:e,domProps:{innerHTML:t.innerHTML}};e.slot&&(n.slot=e.slot,e.slot=void 0),o.push(i(t.tagName,n))}var a}),o}function Ue(t,e){for(var n=arguments.length,a=Array(2<n?n-2:0),i=2;i<n;i++)a[i-2]=arguments[i];var o,l,s,r,c=(o=e,l=[].concat(a),s={bubbles:!1,cancelable:!1,detail:l},r=void 0,"function"==typeof window.CustomEvent?r=new CustomEvent(o,s):(r=document.createEvent("CustomEvent")).initCustomEvent(o,s.bubbles,s.cancelable,s.detail),r);t.dispatchEvent(c)}function ze(i,t,e,a,n){if(!i.__vue_custom_element__){var o=t.util.extend({},e),l=(h=i,f=a,v=o.propsData||{},f.hyphenate.forEach(function(t,e){var n=h.attributes[t]&&h.attributes[t].nodeValue;void 0!==n&&""!==n&&(v[f.camelCase[e]]=Ie(n))}),v),s=t.version&&parseInt(t.version.split(".")[0],10)||0,r={};o._Ctor&&(r=o._Ctor[0].options),o.methods=r.methods=o.methods||{},o.methods.$emit=r.methods.$emit=function(){for(var t,e=arguments.length,n=Array(e),a=0;a<e;a++)n[a]=arguments[a];Ue.apply(void 0,[i].concat(n)),this.__proto__&&(t=this.__proto__.$emit).call.apply(t,[this].concat(n))};var c=void 0;if(2<=s){var d=i.cloneNode(!0).childNodes;c={propsData:l,props:a.camelCase,computed:{reactiveProps:function(){var e=this,n={};return a.camelCase.forEach(function(t){n[t]=e[t]}),n}},render:function(t){var e={props:this.reactiveProps};return t(o,e,Ne(d,t))}}}else if(1===s)(c=o).propsData=l;else{c=o;var p={};Object.keys(l).forEach(function(t){p[t]={default:l[t]}}),c.props=p}var m=2<=s?"<div></div>":("<div>"+i.innerHTML+"</div>").replace(/vue-slot=/g,"slot=");if(n.shadow&&i.shadowRoot?(i.shadowRoot.innerHTML=m,c.el=i.shadowRoot.children[0]):(i.innerHTML=m,c.el=i.children[0]),g=i,($=a).camelCase.forEach(function(t,n){Object.defineProperty(g,t,{get:function(){return this.__vue_custom_element__[t]},set:function(t){if("object"!==(void 0===t?"undefined":yi(t))&&"function"!=typeof t||!this.__vue_custom_element__)this.setAttribute($.hyphenate[n],Ie(t));else{var e=$.camelCase[n];this.__vue_custom_element__[e]=t}}})}),i.__vue_custom_element__=new t(c),n.shadow&&n.shadowCss&&i.shadowRoot){var u=document.createElement("style");u.type="text/css",u.appendChild(document.createTextNode(n.shadowCss)),i.shadowRoot.appendChild(u)}i.removeAttribute("vce-cloak"),i.setAttribute("vce-ready",""),Ue(i,"vce-ready")}var g,$,h,f,v}function qe(r){r.customElement=function(a,i){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},l="function"==typeof i,t=l&&{props:o.props||[]},s=Be(l?t:i);return Te(a,{constructorCallback:function(){"function"==typeof o.constructorCallback&&o.constructorCallback.call(this)},connectedCallback:function(){var n=this,t=l&&i(),e=t&&t.then&&"function"==typeof t.then;if(l&&!e)throw new Error("Async component "+a+" do not returns Promise");this.__detached__||(e?t.then(function(t){var e=Be(t);ze(n,r,t,e,o)}):ze(this,r,i,s,o)),this.__detached__=!1},disconnectedCallback:function(){var t=this;this.__detached__=!0,"function"==typeof o.disconnectedCallback&&o.disconnectedCallback.call(this),setTimeout(function(){t.__detached__&&t.__vue_custom_element__&&t.__vue_custom_element__.$destroy(!0)},o.destroyTimeout||3e3)},attributeChangedCallback:function(t,e,n){if(this.__vue_custom_element__&&void 0!==n){var a=fi(t);"function"==typeof o.attributeChangedCallback&&o.attributeChangedCallback.call(this,t,e,n),this.__vue_custom_element__[a]=Ie(n)}},observedAttributes:s.hyphenate,shadow:!!o.shadow&&!!HTMLElement.prototype.attachShadow})}}function Fe(t,e){for(var n=t.length;n--;)if(t[n]===e)return!0;return!1}function je(e){var n=[];return Object.keys(e).forEach(function(t){n.push(e[t])}),n}!function(i,t){function n(){var t=S.splice(0,S.length);for(Xt=0;t.length;)t.shift().call(null,t.shift())}function r(t,e){for(var n=0,a=t.length;n<a;n++)l(t[n],e)}function c(e){return function(t){Bt(t)&&(l(t,e),st.length&&r(t.querySelectorAll(st),e))}}function d(t){var e=Ft.call(t,"is"),n=t.nodeName.toUpperCase(),a=ct.call(ot,e?nt+e.toUpperCase():et+n);return e&&-1<a&&!s(n,e)?-1:a}function s(t,e){return-1<st.indexOf(t+'[is="'+e+'"]')}function p(t){var e=t.currentTarget,n=t.attrChange,a=t.attrName,i=t.target,o=t[X]||2,l=t[J]||3;ne&&(!i||i===e)&&e[H]&&"style"!==a&&(t.prevValue!==t.newValue||""===t.newValue&&(n===o||n===l))&&e[H](a,n===o?null:t.prevValue,n===l?null:t.newValue)}function m(t){var e=c(t);return function(t){S.push(e,t.target),Xt&&clearTimeout(Xt),Xt=setTimeout(n,1)}}function u(t){ee&&(ee=!1,t.currentTarget.removeEventListener(tt,u)),st.length&&r((t.target||w).querySelectorAll(st),t.detail===F?F:z),It&&function(){for(var t,e=0,n=Nt.length;e<n;e++)t=Nt[e],rt.contains(t)||(n--,Nt.splice(e--,1),l(t,F))}()}function a(t,e){Vt.call(this,t,e),k.call(this,{target:this})}function o(t,e){Et(t,e),D?D.observe(t,Kt):(te&&(t.setAttribute=a,t[N]=A(t),t[U]("DOMSubtreeModified",k)),t[U](Z,p)),t[K]&&ne&&(t.created=!0,t[K](),t.created=!1)}function g(t){throw new Error("A "+t+" type is already registered")}function l(t,e){var n,a,i=d(t);-1<i&&(P(t,lt[i]),i=0,e!==z||t[z]?e===F&&!t[F]&&(t[z]=!1,t[F]=!0,a="disconnected",i=1):(t[F]=!1,t[z]=!0,a="connected",i=1,It&&ct.call(Nt,t)<0&&Nt.push(t)),i&&(n=t[e+q]||t[a+q])&&n.call(t))}function $(){}function h(t,e,n){var a=n&&n[j]||"",i=e.prototype,o=Mt(i),l=e.observedAttributes||gt,s={prototype:o};Ot(o,K,{value:function(){if(Rt)Rt=!1;else if(!this[yt]){this[yt]=!0,new e(this),i[K]&&i[K].call(this);var t=At[_t.get(e)];(!xt||1<t.create.length)&&v(this)}}}),Ot(o,H,{value:function(t){-1<ct.call(l,t)&&i[H].apply(this,arguments)}}),i[G]&&Ot(o,V,{value:i[G]}),i[Y]&&Ot(o,W,{value:i[Y]}),a&&(s[j]=a),t=t.toUpperCase(),At[t]={constructor:e,create:a?[a,Pt(t)]:[t]},_t.set(e,t),w[B](t.toLowerCase(),s),b(t),Dt[t].r()}function e(t){var e=At[t.toUpperCase()];return e&&e.constructor}function f(t){return"string"==typeof t?t:t&&t.is||""}function v(t){for(var e,n=t[H],a=n?t.attributes:gt,i=a.length;i--;)e=a[i],n.call(t,e.name||e.nodeName,null,e.value||e.nodeValue)}function b(e){return(e=e.toUpperCase())in Dt||(Dt[e]={},Dt[e].p=new kt(function(t){Dt[e].r=t})),Dt[e].p}function y(){wt&&delete i.customElements,ut(i,"customElements",{configurable:!0,value:new $}),ut(i,"CustomElementRegistry",{configurable:!0,value:$});for(var t=function(e){var a=i[e];if(a){i[e]=function(t){var e,n;return t||(t=this),t[yt]||(Rt=!0,e=At[_t.get(t.constructor)],(t=(n=xt&&1===e.create.length)?Reflect.construct(a,gt,e.constructor):w.createElement.apply(w,e.create))[yt]=!0,Rt=!1,n||v(t)),t},i[e].prototype=a.prototype;try{a.prototype.constructor=i[e]}catch(t){!0,ut(a,yt,{value:i[e]})}}},e=C.get(/^HTML[A-Z]*[a-z]/),n=e.length;n--;t(e[n]));w.createElement=function(t,e){var n=f(e);return n?Yt.call(this,t,Pt(n)):Yt.call(this,t)},Qt||(Zt=!0,w[B](""))}var w=i.document,x=i.Object,C=function(t){var e,n,a,i,o=/^[A-Z]+[a-z]/,l=function(t,e){(e=e.toLowerCase())in s||(s[t]=(s[t]||[]).concat(e),s[e]=s[e.toUpperCase()]=t)},s=(x.create||x)(null),r={};for(n in t)for(i in t[n])for(a=t[n][i],s[i]=a,e=0;e<a.length;e++)s[a[e].toLowerCase()]=s[a[e].toUpperCase()]=i;return r.get=function(t){return"string"==typeof t?s[t]||(o.test(t)?[]:""):function(t){var e,n=[];for(e in s)t.test(e)&&n.push(e);return n}(t)},r.set=function(t,e){return o.test(t)?l(t,e):l(e,t),r},r}({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}});"object"!=typeof t&&(t={type:t||"auto"});var S,k,R,A,D,_,P,M,E,T,L,I,O,B="registerElement",N="__"+B+(1e5*i.Math.random()>>0),U="addEventListener",z="attached",q="Callback",F="detached",j="extends",H="attributeChanged"+q,V=z+q,G="connected"+q,Y="disconnected"+q,K="created"+q,W=F+q,X="ADDITION",Q="MODIFICATION",J="REMOVAL",Z="DOMAttrModified",tt="DOMContentLoaded",et="<",nt="=",at=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,it=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],ot=[],lt=[],st="",rt=w.documentElement,ct=ot.indexOf||function(t){for(var e=this.length;e--&&this[e]!==t;);return e},dt=x.prototype,pt=dt.hasOwnProperty,mt=dt.isPrototypeOf,ut=x.defineProperty,gt=[],$t=x.getOwnPropertyDescriptor,ht=x.getOwnPropertyNames,ft=x.getPrototypeOf,vt=x.setPrototypeOf,bt=!!x.__proto__,yt="__dreCEv1",wt=i.customElements,xt=!/^force/.test(t.type)&&!!(wt&&wt.define&&wt.get&&wt.whenDefined),Ct=x.create||x,St=i.Map||function(){var n,a=[],i=[];return{get:function(t){return i[ct.call(a,t)]},set:function(t,e){(n=ct.call(a,t))<0?i[a.push(t)-1]=e:i[n]=e}}},kt=i.Promise||function(t){function e(t){for(a=!0;n.length;)n.shift()(t)}var n=[],a=!1,i={catch:function(){return i},then:function(t){return n.push(t),a&&setTimeout(e,1),i}};return t(e),i},Rt=!1,At=Ct(null),Dt=Ct(null),_t=new St,Pt=function(t){return t.toLowerCase()},Mt=x.create||function t(e){return e?(t.prototype=e,new t):this},Et=vt||(bt?function(t,e){return t.__proto__=e,t}:ht&&$t?function(){function n(t,e){for(var n,a=ht(e),i=0,o=a.length;i<o;i++)n=a[i],pt.call(t,n)||ut(t,n,$t(e,n))}return function(t,e){for(;n(t,e),(e=ft(e))&&!mt.call(e,t););return t}}():function(t,e){for(var n in e)t[n]=e[n];return t}),Tt=i.MutationObserver||i.WebKitMutationObserver,Lt=(i.HTMLElement||i.Element||i.Node).prototype,It=!mt.call(Lt,rt),Ot=It?function(t,e,n){return t[e]=n.value,t}:ut,Bt=It?function(t){return 1===t.nodeType}:function(t){return mt.call(Lt,t)},Nt=It&&[],Ut=Lt.attachShadow,zt=Lt.cloneNode,qt=Lt.dispatchEvent,Ft=Lt.getAttribute,jt=Lt.hasAttribute,Ht=Lt.removeAttribute,Vt=Lt.setAttribute,Gt=w.createElement,Yt=Gt,Kt=Tt&&{attributes:!0,characterData:!0,attributeOldValue:!0},Wt=Tt||function(t){te=!1,rt.removeEventListener(Z,Wt)},Xt=0,Qt=B in w&&!/^force-all/.test(t.type),Jt=!0,Zt=!1,te=!0,ee=!0,ne=!0;if(Qt||(vt||bt?(P=function(t,e){mt.call(e,t)||o(t,e)},M=o):M=P=function(t,e){t[N]||(t[N]=x(!0),o(t,e))},It?(te=!1,E=$t(Lt,U),T=E.value,L=function(t){var e=new CustomEvent(Z,{bubbles:!0});e.attrName=t,e.prevValue=Ft.call(this,t),e.newValue=null,e[J]=e.attrChange=2,Ht.call(this,t),qt.call(this,e)},I=function(t,e){var n=jt.call(this,t),a=n&&Ft.call(this,t),i=new CustomEvent(Z,{bubbles:!0});Vt.call(this,t,e),i.attrName=t,i.prevValue=n?a:null,i.newValue=e,n?i[Q]=i.attrChange=1:i[X]=i.attrChange=0,qt.call(this,i)},O=function(t){var e,n=t.currentTarget,a=n[N],i=t.propertyName;a.hasOwnProperty(i)&&(a=a[i],(e=new CustomEvent(Z,{bubbles:!0})).attrName=a.name,e.prevValue=a.value||null,e.newValue=a.value=n[i]||null,null==e.prevValue?e[X]=e.attrChange=0:e[Q]=e.attrChange=1,qt.call(n,e))},E.value=function(t,e,n){t===Z&&this[H]&&this.setAttribute!==I&&(this[N]={className:{name:"class",value:this.className}},this.setAttribute=I,this.removeAttribute=L,T.call(this,"propertychange",O)),T.call(this,t,e,n)},ut(Lt,U,E)):Tt||(rt[U](Z,Wt),rt.setAttribute(N,1),rt.removeAttribute(N),te&&(k=function(t){var e,n,a,i=this;if(i===t.target){for(a in e=i[N],i[N]=n=A(i),n){if(!(a in e))return R(0,i,a,e[a],n[a],X);if(n[a]!==e[a])return R(1,i,a,e[a],n[a],Q)}for(a in e)if(!(a in n))return R(2,i,a,e[a],n[a],J)}},R=function(t,e,n,a,i,o){var l={attrChange:t,currentTarget:e,attrName:n,prevValue:a,newValue:i};l[o]=t,p(l)},A=function(t){for(var e,n,a={},i=t.attributes,o=0,l=i.length;o<l;o++)"setAttribute"!==(n=(e=i[o]).name)&&(a[n]=e.value);return a})),w[B]=function(t,e){if(n=t.toUpperCase(),Jt&&(Jt=!1,Tt?(D=function(l,s){function r(t,e){for(var n=0,a=t.length;n<a;e(t[n++]));}return new Tt(function(t){for(var e,n,a,i=0,o=t.length;i<o;i++)"childList"===(e=t[i]).type?(r(e.addedNodes,l),r(e.removedNodes,s)):(n=e.target,ne&&n[H]&&"style"!==e.attributeName&&(a=Ft.call(n,e.attributeName))!==e.oldValue&&n[H](e.attributeName,e.oldValue,a))})}(c(z),c(F)),(_=function(t){return D.observe(t,{childList:!0,subtree:!0}),t})(w),Ut&&(Lt.attachShadow=function(){return _(Ut.apply(this,arguments))})):(S=[],w[U]("DOMNodeInserted",m(z)),w[U]("DOMNodeRemoved",m(F))),w[U](tt,u),w[U]("readystatechange",u),Lt.cloneNode=function(t){var e=zt.call(this,!!t),n=d(e);return-1<n&&M(e,lt[n]),t&&st.length&&function(t){for(var e,n=0,a=t.length;n<a;n++)e=t[n],M(e,lt[d(e)])}(e.querySelectorAll(st)),e}),Zt)return Zt=!1;if(-2<ct.call(ot,nt+n)+ct.call(ot,et+n)&&g(t),!at.test(n)||-1<ct.call(it,n))throw new Error("The type "+t+" is invalid");var n,a,i=function(){return l?w.createElement(s,n):w.createElement(s)},o=e||dt,l=pt.call(o,j),s=l?e[j].toUpperCase():n;return l&&-1<ct.call(ot,et+s)&&g(s),a=ot.push((l?nt:et)+n)-1,st=st.concat(st.length?",":"",l?s+'[is="'+t.toLowerCase()+'"]':s),i.prototype=lt[a]=pt.call(o,"prototype")?o.prototype:Mt(Lt),st.length&&r(w.querySelectorAll(st),z),i},w.createElement=Yt=function(t,e){var n=f(e),a=n?Gt.call(w,t,Pt(n)):Gt.call(w,t),i=""+t,o=ct.call(ot,(n?nt:et)+(n||i).toUpperCase()),l=-1<o;return n&&(a.setAttribute("is",n=n.toLowerCase()),l&&(l=s(i.toUpperCase(),n))),ne=!w.createElement.innerHTMLHelper,l&&M(a,lt[o]),a}),$.prototype={constructor:$,define:xt?function(t,e,n){if(n)h(t,e,n);else{var a=t.toUpperCase();At[a]={constructor:e,create:[a]},_t.set(e,a),wt.define(t,e)}}:h,get:xt?function(t){return wt.get(t)||e(t)}:e,whenDefined:xt?function(t){return kt.race([wt.whenDefined(t),b(t)])}:b},!wt||/^force/.test(t.type))y();else if(!t.noBuiltIn)try{!function(t,e,n){if(e[j]="a",(t.prototype=Mt(HTMLAnchorElement.prototype)).constructor=t,i.customElements.define(n,t,e),Ft.call(w.createElement("a",{is:n}),"is")!==n||xt&&Ft.call(new t,"is")!==n)throw e}(function t(){return Reflect.construct(HTMLAnchorElement,[],t)},{},"document-register-element-a")}catch(i){y()}if(!t.noBuiltIn)try{Gt.call(w,"a","a")}catch(i){Pt=function(t){return{is:t.toLowerCase()}}}}(window);var He=Object.prototype.toString,Ve=(a("slot,component",!0),a("key,ref,slot,is")),Ge=Object.prototype.hasOwnProperty,Ye=/-(\w)/g,Ke=e(function(t){return t.replace(Ye,function(t,e){return e?e.toUpperCase():""})}),We=e(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),Xe=/\B([A-Z])/g,Qe=e(function(t){return t.replace(Xe,"-$1").toLowerCase()}),Je=function(t,e,n){return!1},Ze=function(t){return t},tn="data-server-rendered",en=["component","directive","filter"],nn=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated"],an={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:Je,isReservedAttr:Je,isUnknownElement:Je,getTagNamespace:p,parsePlatformTagName:Ze,mustUseProp:Je,_lifecycleHooks:nn},on=Object.freeze({}),ln=/[^\w.$]/,sn=p,rn="__proto__"in{},cn="undefined"!=typeof window,dn=cn&&window.navigator.userAgent.toLowerCase(),pn=dn&&/msie|trident/.test(dn),mn=dn&&0<dn.indexOf("msie 9.0"),un=dn&&0<dn.indexOf("edge/"),gn=dn&&0<dn.indexOf("android"),$n=dn&&/iphone|ipad|ipod|ios/.test(dn),hn=dn&&/chrome\/\d+/.test(dn)&&!un,fn={}.watch,vn=!1;if(cn)try{var bn={};Object.defineProperty(bn,"passive",{get:function(){vn=!0}}),window.addEventListener("test-passive",null,bn)}catch(I){}var yn,wn,xn=function(){return void 0===yn&&(yn=!cn&&"undefined"!=typeof global&&"server"===global.process.env.VUE_ENV),yn},Cn=cn&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__,Sn="undefined"!=typeof Symbol&&v(Symbol)&&"undefined"!=typeof Reflect&&v(Reflect.ownKeys),kn=function(){function t(){o=!1;for(var t=i.slice(0),e=i.length=0;e<t.length;e++)t[e]()}var a,i=[],o=!1;if("undefined"!=typeof Promise&&v(Promise)){var e=Promise.resolve(),n=function(t){console.error(t)};a=function(){e.then(t).catch(n),$n&&setTimeout(p)}}else if(pn||"undefined"==typeof MutationObserver||!v(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())a=function(){setTimeout(t,0)};else{var l=1,s=new MutationObserver(t),r=document.createTextNode(String(l));s.observe(r,{characterData:!0}),a=function(){l=(l+1)%2,r.data=String(l)}}return function(t,e){var n;if(i.push(function(){if(t)try{t.call(e)}catch(t){f(t,e,"nextTick")}else n&&n(e)}),o||(o=!0,a()),!t&&"undefined"!=typeof Promise)return new Promise(function(t,e){n=t})}}();wn="undefined"!=typeof Set&&v(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var Rn=0,An=function(){this.id=Rn++,this.subs=[]};An.prototype.addSub=function(t){this.subs.push(t)},An.prototype.removeSub=function(t){l(this.subs,t)},An.prototype.depend=function(){An.target&&An.target.addDep(this)},An.prototype.notify=function(){for(var t=this.subs.slice(),e=0,n=t.length;e<n;e++)t[e].update()},An.target=null;var Dn=[],_n=Array.prototype,Pn=Object.create(_n);["push","pop","shift","unshift","splice","sort","reverse"].forEach(function(o){var l=_n[o];g(Pn,o,function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var n,a=l.apply(this,t),i=this.__ob__;switch(o){case"push":case"unshift":n=t;break;case"splice":n=t.slice(2)}return n&&i.observeArray(n),i.dep.notify(),a})});var Mn=Object.getOwnPropertyNames(Pn),En={shouldConvert:!0},Tn=function(t){this.value=t,this.dep=new An,this.vmCount=0,g(t,"__ob__",this),Array.isArray(t)?((rn?function(t,e,n){t.__proto__=e}:function(t,e,n){for(var a=0,i=n.length;a<i;a++){var o=n[a];g(t,o,e[o])}})(t,Pn,Mn),this.observeArray(t)):this.walk(t)};Tn.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)y(t,e[n],t[e[n]])},Tn.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)b(t[e])};var Ln=an.optionMergeStrategies;Ln.data=function(t,e,n){return n?C(t,e,n):e&&"function"!=typeof e?t:C.call(this,t,e)},nn.forEach(function(t){Ln[t]=S}),en.forEach(function(t){Ln[t+"s"]=k}),Ln.watch=function(t,e){if(t===fn&&(t=void 0),e===fn&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var n={};for(var a in h(n,t),e){var i=n[a],o=e[a];i&&!Array.isArray(i)&&(i=[i]),n[a]=i?i.concat(o):Array.isArray(o)?o:[o]}return n},Ln.props=Ln.methods=Ln.inject=Ln.computed=function(t,e){if(!t)return e;var n=Object.create(null);return h(n,t),e&&h(n,e),n},Ln.provide=C;var In=function(t,e){return void 0===e?t:e},On=function(t,e,n,a,i,o,l,s){this.tag=t,this.data=e,this.children=n,this.text=a,this.elm=i,this.ns=void 0,this.context=o,this.functionalContext=void 0,this.key=e&&e.key,this.componentOptions=l,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},Bn={child:{}};Bn.child.get=function(){return this.componentInstance},Object.defineProperties(On.prototype,Bn);var Nn,Un=function(t){void 0===t&&(t="");var e=new On;return e.text=t,e.isComment=!0,e},zn=e(function(t){var e="&"===t.charAt(0),n="~"===(t=e?t.slice(1):t).charAt(0),a="!"===(t=n?t.slice(1):t).charAt(0);return{name:t=a?t.slice(1):t,plain:!(e||n||a),once:n,capture:a,passive:e}}),qn=null,Fn=[],jn=[],Hn={},Vn=!1,Gn=!1,Yn=0,Kn=0,Wn=function(t,e,n,a){(this.vm=t)._watchers.push(this),a?(this.deep=!!a.deep,this.user=!!a.user,this.lazy=!!a.lazy,this.sync=!!a.sync):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++Kn,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new wn,this.newDepIds=new wn,this.expression="","function"==typeof e?this.getter=e:(this.getter=function(t){if(!ln.test(t)){var n=t.split(".");return function(t){for(var e=0;e<n.length;e++){if(!t)return;t=t[n[e]]}return t}}}(e),this.getter||(this.getter=function(){})),this.value=this.lazy?void 0:this.get()};Wn.prototype.get=function(){var t;t=this,An.target&&Dn.push(An.target),An.target=t;var e,n=this.vm;try{e=this.getter.call(n,n)}catch(e){if(!this.user)throw e;f(e,n,'getter for watcher "'+this.expression+'"')}finally{this.deep&&lt(e),An.target=Dn.pop(),this.cleanupDeps()}return e},Wn.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},Wn.prototype.cleanupDeps=function(){for(var t=this.deps.length;t--;){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},Wn.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():function(t){var e=t.id;if(null==Hn[e]){if(Hn[e]=!0,Gn){for(var n=Fn.length-1;Yn<n&&Fn[n].id>t.id;)n--;Fn.splice(n+1,0,t)}else Fn.push(t);Vn||(Vn=!0,kn(ot))}}(this)},Wn.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||B(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(t){f(t,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},Wn.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},Wn.prototype.depend=function(){for(var t=this.deps.length;t--;)this.deps[t].depend()},Wn.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||l(this.vm._watchers,this);for(var t=this.deps.length;t--;)this.deps[t].removeSub(this);this.active=!1}};var Xn,Qn,Jn,Zn,ta,ea,na,aa=new wn,ia={enumerable:!0,configurable:!0,get:p,set:p},oa={lazy:!0},la={init:function(t,e,n,a){if(!t.componentInstance||t.componentInstance._isDestroyed)(t.componentInstance=(o=t,l=qn,s=n,r=a,c=o.componentOptions,d={_isComponent:!0,parent:l,propsData:c.propsData,_componentTag:c.tag,_parentVnode:o,_parentListeners:c.listeners,_renderChildren:c.children,_parentElm:s||null,_refElm:r||null},p=o.data.inlineTemplate,O(p)&&(d.render=p.render,d.staticRenderFns=p.staticRenderFns),new c.Ctor(d))).$mount(e?t.elm:void 0,e);else if(t.data.keepAlive){var i=t;la.prepatch(i,i)}var o,l,s,r,c,d,p},prepatch:function(t,e){var n=e.componentOptions;!function(t,e,n,a,i){var o=!!(i||t.$options._renderChildren||a.data.scopedSlots||t.$scopedSlots!==on);if(t.$options._parentVnode=a,t.$vnode=a,t._vnode&&(t._vnode.parent=a),t.$options._renderChildren=i,t.$attrs=a.data&&a.data.attrs||on,t.$listeners=n||on,e&&t.$options.props){En.shouldConvert=!1;for(var l=t._props,s=t.$options._propKeys||[],r=0;r<s.length;r++){var c=s[r];l[c]=_(c,t.$options.props,e,t)}En.shouldConvert=!0,t.$options.propsData=e}if(n){var d=t.$options._parentListeners;t.$options._parentListeners=n,J(t,n,d)}o&&(t.$slots=Z(i,a.context),t.$forceUpdate())}(e.componentInstance=t.componentInstance,n.propsData,n.listeners,e,n.children)},insert:function(t){var e,n=t.context,a=t.componentInstance;a._isMounted||(a._isMounted=!0,it(a,"mounted")),t.data.keepAlive&&(n._isMounted?((e=a)._inactive=!1,jn.push(e)):at(a,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?function t(e,n){if(!(n&&(e._directInactive=!0,nt(e))||e._inactive)){e._inactive=!0;for(var a=0;a<e.$children.length;a++)t(e.$children[a]);it(e,"deactivated")}}(e,!0):e.$destroy())}},sa=Object.keys(la),ra=1,ca=2,da=0;_t.prototype._init=function(t){var e,n,a,i,o,l,s,r=this;r._uid=da++,r._isVue=!0,t&&t._isComponent?(l=t,(s=(o=r).$options=Object.create(o.constructor.options)).parent=l.parent,s.propsData=l.propsData,s._parentVnode=l._parentVnode,s._parentListeners=l._parentListeners,s._renderChildren=l._renderChildren,s._componentTag=l._componentTag,s._parentElm=l._parentElm,s._refElm=l._refElm,l.render&&(s.render=l.render,s.staticRenderFns=l.staticRenderFns)):r.$options=R(At(r.constructor),t||{},r),function(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){for(;n.$options.abstract&&n.$parent;)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}((r._renderProxy=r)._self=r),function(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&J(t,e)}(r),function(i){i._vnode=null,i._staticTrees=null;var t=i.$vnode=i.$options._parentVnode,e=t&&t.context;i.$slots=Z(i.$options._renderChildren,e),i.$scopedSlots=on,i._c=function(t,e,n,a){return ht(i,t,e,n,a,!1)},i.$createElement=function(t,e,n,a){return ht(i,t,e,n,a,!0)};var n=t&&t.data;y(i,"$attrs",n&&n.attrs||on,0,!0),y(i,"$listeners",i.$options._parentListeners||on,0,!0)}(r),it(r,"beforeCreate"),(i=mt((a=r).$options.inject,a))&&(En.shouldConvert=!1,Object.keys(i).forEach(function(t){y(a,t,i[t])}),En.shouldConvert=!0),rt(r),(n=(e=r).$options.provide)&&(e._provided="function"==typeof n?n.call(e):n),it(r,"created"),r.$options.el&&r.$mount(r.$options.el)},ta=_t,ea={get:function(){return this._data}},na={get:function(){return this._props}},Object.defineProperty(ta.prototype,"$data",ea),Object.defineProperty(ta.prototype,"$props",na),ta.prototype.$set=w,ta.prototype.$delete=n,ta.prototype.$watch=function(t,e,n){if(c(e))return pt(this,t,e,n);(n=n||{}).user=!0;var a=new Wn(this,t,e,n);return n.immediate&&e.call(this,a.value),function(){a.teardown()}},Zn=/^hook:/,(Jn=_t).prototype.$on=function(t,e){if(Array.isArray(t))for(var n=0,a=t.length;n<a;n++)this.$on(t[n],e);else(this._events[t]||(this._events[t]=[])).push(e),Zn.test(t)&&(this._hasHookEvent=!0);return this},Jn.prototype.$once=function(t,e){function n(){a.$off(t,n),e.apply(a,arguments)}var a=this;return n.fn=e,a.$on(t,n),a},Jn.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var a=0,i=t.length;a<i;a++)this.$off(t[a],e);return n}var o=n._events[t];if(!o)return n;if(1===arguments.length)return n._events[t]=null,n;if(e)for(var l,s=o.length;s--;)if((l=o[s])===e||l.fn===e){o.splice(s,1);break}return n},Jn.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=1<n.length?s(n):n;for(var a=s(arguments,1),i=0,o=n.length;i<o;i++)try{n[i].apply(e,a)}catch(n){f(n,e,'event handler for "'+t+'"')}}return e},(Qn=_t).prototype._update=function(t,e){var n=this;n._isMounted&&it(n,"beforeUpdate");var a=n.$el,i=n._vnode,o=qn;(qn=n)._vnode=t,i?n.$el=n.__patch__(i,t):(n.$el=n.__patch__(n.$el,t,e,!1,n.$options._parentElm,n.$options._refElm),n.$options._parentElm=n.$options._refElm=null),qn=o,a&&(a.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},Qn.prototype.$forceUpdate=function(){this._watcher&&this._watcher.update()},Qn.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){it(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||l(e.$children,t),t._watcher&&t._watcher.teardown();for(var n=t._watchers.length;n--;)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),it(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null)}},(Xn=_t).prototype.$nextTick=function(t){return kn(t,this)},Xn.prototype._render=function(){var t,e=this,n=e.$options,a=n.render,i=n.staticRenderFns,o=n._parentVnode;if(e._isMounted)for(var l in e.$slots){var s=e.$slots[l];s._rendered&&(e.$slots[l]=L(s,!0))}e.$scopedSlots=o&&o.data.scopedSlots||on,i&&!e._staticTrees&&(e._staticTrees=[]),e.$vnode=o;try{t=a.call(e._renderProxy,e.$createElement)}catch(n){f(n,e,"render function"),t=e._vnode}return t instanceof On||(t=Un()),t.parent=o,t},Xn.prototype._o=Ct,Xn.prototype._n=N,Xn.prototype._s=t,Xn.prototype._l=ft,Xn.prototype._t=vt,Xn.prototype._q=m,Xn.prototype._i=u,Xn.prototype._m=xt,Xn.prototype._f=bt,Xn.prototype._k=yt,Xn.prototype._b=wt,Xn.prototype._v=E,Xn.prototype._e=Un,Xn.prototype._u=et,Xn.prototype._g=Rt;var pa,ma,ua,ga=[String,RegExp,Array],$a={KeepAlive:{name:"keep-alive",abstract:!0,props:{include:ga,exclude:ga},created:function(){this.cache=Object.create(null)},destroyed:function(){for(var t in this.cache)Lt(this.cache[t])},watch:{include:function(e){Tt(this.cache,this._vnode,function(t){return Et(e,t)})},exclude:function(e){Tt(this.cache,this._vnode,function(t){return!Et(e,t)})}},render:function(){var t=W(this.$slots.default),e=t&&t.componentOptions;if(e){var n=Mt(e);if(n&&(this.include&&!Et(this.include,n)||this.exclude&&Et(this.exclude,n)))return t;var a=null==t.key?e.Ctor.cid+(e.tag?"::"+e.tag:""):t.key;this.cache[a]?t.componentInstance=this.cache[a].componentInstance:this.cache[a]=t,t.data.keepAlive=!0}return t}}};pa=_t,ua={get:function(){return an}},Object.defineProperty(pa,"config",ua),pa.util={warn:sn,extend:h,mergeOptions:R,defineReactive:y},pa.set=w,pa.delete=n,pa.nextTick=kn,pa.options=Object.create(null),en.forEach(function(t){pa.options[t+"s"]=Object.create(null)}),h((pa.options._base=pa).options.components,$a),pa.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(-1<e.indexOf(t))return this;var n=s(arguments,1);return n.unshift(this),"function"==typeof t.install?t.install.apply(t,n):"function"==typeof t&&t.apply(null,n),e.push(t),this},pa.mixin=function(t){return this.options=R(this.options,t),this},Pt(pa),ma=pa,en.forEach(function(n){ma[n]=function(t,e){return e?("component"===n&&c(e)&&(e.name=e.name||t,e=this.options._base.extend(e)),"directive"===n&&"function"==typeof e&&(e={bind:e,update:e}),this.options[n+"s"][t]=e):this.options[n+"s"][t]}}),Object.defineProperty(_t.prototype,"$isServer",{get:xn}),Object.defineProperty(_t.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),_t.version="2.4.4";var ha,fa,va=a("style,class"),ba=a("input,textarea,option,select,progress"),ya=a("contenteditable,draggable,spellcheck"),wa=a("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),xa="http://www.w3.org/1999/xlink",Ca=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},Sa=function(t){return Ca(t)?t.slice(6,t.length):""},ka=function(t){return null==t||!1===t},Ra={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},Aa=a("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),Da=a("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),_a=function(t){return Aa(t)||Da(t)},Pa=Object.create(null),Ma=a("text,number,password,search,email,tel,url"),Ea=Object.freeze({createElement:function(t,e){var n=document.createElement(t);return"select"!==t||e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n},createElementNS:function(t,e){return document.createElementNS(Ra[t],e)},createTextNode:function(t){return document.createTextNode(t)},createComment:function(t){return document.createComment(t)},insertBefore:function(t,e,n){t.insertBefore(e,n)},removeChild:function(t,e){t.removeChild(e)},appendChild:function(t,e){t.appendChild(e)},parentNode:function(t){return t.parentNode},nextSibling:function(t){return t.nextSibling},tagName:function(t){return t.tagName},setTextContent:function(t,e){t.textContent=e},setAttribute:function(t,e,n){t.setAttribute(e,n)}}),Ta={create:function(t,e){Ut(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Ut(t,!0),Ut(e))},destroy:function(t){Ut(t,!0)}},La=new On("",{},[]),Ia=["create","activate","update","remove","destroy"],Oa={create:Ft,update:Ft,destroy:function(t){Ft(t,La)}},Ba=Object.create(null),Na=[Ta,Oa],Ua={create:Vt,update:Vt},za={create:Yt,update:Yt},qa="__r",Fa="__c",ja={create:Xt,update:Xt},Ha={create:Qt,update:Qt},Va=e(function(t){var n={},a=/:(.+)/;return t.split(/;(?![^(]*\))/g).forEach(function(t){if(t){var e=t.split(a);1<e.length&&(n[e[0].trim()]=e[1].trim())}}),n}),Ga=/^--/,Ya=/\s*!important$/,Ka=function(t,e,n){if(Ga.test(e))t.style.setProperty(e,n);else if(Ya.test(n))t.style.setProperty(e,n.replace(Ya,""),"important");else{var a=Xa(e);if(Array.isArray(n))for(var i=0,o=n.length;i<o;i++)t.style[a]=n[i];else t.style[a]=n}},Wa=["Webkit","Moz","ms"],Xa=e(function(t){if(fa=fa||document.createElement("div").style,"filter"!==(t=Ke(t))&&t in fa)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<Wa.length;n++){var a=Wa[n]+e;if(a in fa)return a}}),Qa={create:te,update:te},Ja=e(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),Za=cn&&!mn,ti="transition",ei="animation",ni="transition",ai="transitionend",ii="animation",oi="animationend";Za&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(ni="WebkitTransition",ai="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(ii="WebkitAnimation",oi="webkitAnimationEnd"));var li=cn&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout,si=/\b(transform|all)(,|$)/,ri=function(t){function o(t){var e=A.parentNode(t);O(e)&&A.removeChild(e,t)}function v(t,e,n,a,i){if(t.isRootInsert=!i,!function(t,e,n,a){var i=t.data;if(O(i)){var o=O(t.componentInstance)&&i.keepAlive;if(O(i=i.hook)&&O(i=i.init)&&i(t,!1,n,a),O(t.componentInstance))return d(t,e),D(o)&&function(t,e,n,a){for(var i,o=t;o.componentInstance;)if(o=o.componentInstance._vnode,O(i=o.data)&&O(i=i.transition)){for(i=0;i<R.activate.length;++i)R.activate[i](La,o);e.push(o);break}r(n,t.elm,a)}(t,e,n,a),!0}}(t,e,n,a)){var o=t.data,l=t.children,s=t.tag;O(s)?(t.elm=t.ns?A.createElementNS(t.ns,s):A.createElement(s,t),c(t),p(t,l,e),O(o)&&m(t,e)):D(t.isComment)?t.elm=A.createComment(t.text):t.elm=A.createTextNode(t.text),r(n,t.elm,a)}}function d(t,e){O(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,b(t)?(m(t,e),c(t)):(Ut(t),e.push(t))}function r(t,e,n){O(t)&&(O(n)?n.parentNode===t&&A.insertBefore(t,e,n):A.appendChild(t,e))}function p(t,e,n){if(Array.isArray(e))for(var a=0;a<e.length;++a)v(e[a],n,t.elm,null,!0);else $(t.text)&&A.appendChild(t.elm,A.createTextNode(t.text))}function b(t){for(;t.componentInstance;)t=t.componentInstance._vnode;return O(t.tag)}function m(t,e){for(var n=0;n<R.create.length;++n)R.create[n](La,t);O(u=t.data.hook)&&(O(u.create)&&u.create(La,t),O(u.insert)&&e.push(t))}function c(t){for(var e,n=t;n;)O(e=n.context)&&O(e=e.$options._scopeId)&&A.setAttribute(t.elm,e,""),n=n.parent;O(e=qn)&&e!==t.context&&O(e=e.$options._scopeId)&&A.setAttribute(t.elm,e,"")}function f(t,e,n,a,i,o){for(;a<=i;++a)v(n[a],o,t,e)}function y(t){var e,n,a=t.data;if(O(a))for(O(e=a.hook)&&O(e=e.destroy)&&e(t),e=0;e<R.destroy.length;++e)R.destroy[e](t);if(O(e=t.children))for(n=0;n<t.children.length;++n)y(t.children[n])}function w(t,e,n,a){for(;n<=a;++n){var i=e[n];O(i)&&(O(i.tag)?(l(i),y(i)):o(i.elm))}}function l(t,e){if(O(e)||O(t.data)){var n,a=R.remove.length+1;for(O(e)?e.listeners+=a:e=function(t,e){function n(){0==--n.listeners&&o(t)}return n.listeners=e,n}(t.elm,a),O(n=t.componentInstance)&&O(n=n._vnode)&&O(n.data)&&l(n,e),n=0;n<R.remove.length;++n)R.remove[n](t,e);O(n=t.data.hook)&&O(n=n.remove)?n(t,e):e()}else o(t.elm)}function x(t,e,n,a){for(var i=n;i<a;i++){var o=e[i];if(O(o)&&zt(t,o))return i}}function C(t,e,n,a){if(t!==e){var i=e.elm=t.elm;if(D(t.isAsyncPlaceholder))O(e.asyncFactory.resolved)?k(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(D(e.isStatic)&&D(t.isStatic)&&e.key===t.key&&(D(e.isCloned)||D(e.isOnce)))e.componentInstance=t.componentInstance;else{var o,l=e.data;O(l)&&O(o=l.hook)&&O(o=o.prepatch)&&o(t,e);var s=t.children,r=e.children;if(O(l)&&b(e)){for(o=0;o<R.update.length;++o)R.update[o](t,e);O(o=l.hook)&&O(o=o.update)&&o(t,e)}I(e.text)?O(s)&&O(r)?s!==r&&function(t,e,n,a,i){for(var o,l,s,r=0,c=0,d=e.length-1,p=e[0],m=e[d],u=n.length-1,g=n[0],$=n[u],h=!i;r<=d&&c<=u;)I(p)?p=e[++r]:I(m)?m=e[--d]:zt(p,g)?(C(p,g,a),p=e[++r],g=n[++c]):zt(m,$)?(C(m,$,a),m=e[--d],$=n[--u]):zt(p,$)?(C(p,$,a),h&&A.insertBefore(t,p.elm,A.nextSibling(m.elm)),p=e[++r],$=n[--u]):(zt(m,g)?(C(m,g,a),h&&A.insertBefore(t,m.elm,p.elm),m=e[--d]):(I(o)&&(o=qt(e,r,d)),I(l=O(g.key)?o[g.key]:x(g,e,r,d))?v(g,a,t,p.elm):zt(s=e[l],g)?(C(s,g,a),e[l]=void 0,h&&A.insertBefore(t,s.elm,p.elm)):v(g,a,t,p.elm)),g=n[++c]);d<r?f(t,I(n[u+1])?null:n[u+1].elm,n,c,u,a):u<c&&w(0,e,r,d)}(i,s,r,n,a):O(r)?(O(t.text)&&A.setTextContent(i,""),f(i,null,r,0,r.length-1,n)):O(s)?w(0,s,0,s.length-1):O(t.text)&&A.setTextContent(i,""):t.text!==e.text&&A.setTextContent(i,e.text),O(l)&&O(o=l.hook)&&O(o=o.postpatch)&&o(t,e)}}}function S(t,e,n){if(D(n)&&O(t.parent))t.parent.data.pendingInsert=e;else for(var a=0;a<e.length;++a)e[a].data.hook.insert(e[a])}function k(t,e,n){if(D(e.isComment)&&O(e.asyncFactory))return e.elm=t,e.isAsyncPlaceholder=!0;e.elm=t;var a=e.tag,i=e.data,o=e.children;if(O(i)&&(O(u=i.hook)&&O(u=u.init)&&u(e,!0),O(u=e.componentInstance)))return d(e,n),!0;if(O(a)){if(O(o))if(t.hasChildNodes())if(O(u=i)&&O(u=u.domProps)&&O(u=u.innerHTML)){if(u!==t.innerHTML)return!1}else{for(var l=!0,s=t.firstChild,r=0;r<o.length;r++){if(!s||!k(s,o[r],n)){l=!1;break}s=s.nextSibling}if(!l||s)return!1}else p(e,o,n);if(O(i))for(var c in i)if(!g(c)){m(e,n);break}}else t.data!==e.text&&(t.data=e.text);return!0}var u,e,R={},n=t.modules,A=t.nodeOps;for(u=0;u<Ia.length;++u)for(R[Ia[u]]=[],e=0;e<n.length;++e)O(n[e][Ia[u]])&&R[Ia[u]].push(n[e][Ia[u]]);var g=a("attrs,style,class,staticClass,staticStyle,key");return function(t,e,n,a,i,o){if(!I(e)){var l=!1,s=[];if(I(t))l=!0,v(e,s,i,o);else{var r=O(t.nodeType);if(!r&&zt(t,e))C(t,e,s,a);else{if(r){if(1===t.nodeType&&t.hasAttribute(tn)&&(t.removeAttribute(tn),n=!0),D(n)&&k(t,e,s))return S(e,s,!0),t;f=t,t=new On(A.tagName(f).toLowerCase(),{},[],void 0,f)}var c=t.elm,d=A.parentNode(c);if(v(e,s,c._leaveCb?null:d,A.nextSibling(c)),O(e.parent))for(var p=e.parent,m=b(e);p;){for(var u=0;u<R.destroy.length;++u)R.destroy[u](p);if(p.elm=e.elm,m){for(var g=0;g<R.create.length;++g)R.create[g](La,p);var $=p.data.hook.insert;if($.merged)for(var h=1;h<$.fns.length;h++)$.fns[h]()}p=p.parent}O(d)?w(0,[t],0,0):O(t.tag)&&y(t)}}return S(e,s,l),e.elm}var f;O(t)&&y(t)}}({nodeOps:Ea,modules:[Ua,za,ja,Ha,Qa,cn?{create:$e,activate:$e,remove:function(t,e){!0!==t.data.show?me(t,e):e()}}:{}].concat(Na)});mn&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&xe(t,"input")});var ci={model:{inserted:function(t,e,n){"select"===n.tag?(he(t,e,n.context),t._vOptions=[].map.call(t.options,be)):("textarea"===n.tag||Ma(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("change",we),gn||(t.addEventListener("compositionstart",ye),t.addEventListener("compositionend",we)),mn&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){he(t,e,n.context);var a=t._vOptions,i=t._vOptions=[].map.call(t.options,be);i.some(function(t,e){return!m(t,a[e])})&&(t.multiple?e.value.some(function(t){return ve(t,i)}):e.value!==e.oldValue&&ve(e.value,i))&&xe(t,"change")}}},show:{bind:function(t,e,n){var a=e.value,i=(n=Ce(n)).data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;a&&i?(n.data.show=!0,pe(n,function(){t.style.display=o})):t.style.display=a?o:"none"},update:function(t,e,n){var a=e.value;a!==e.oldValue&&((n=Ce(n)).data&&n.data.transition?(n.data.show=!0,a?pe(n,function(){t.style.display=t.__vOriginalDisplay}):me(n,function(){t.style.display="none"})):t.style.display=a?t.__vOriginalDisplay:"none")},unbind:function(t,e,n,a,i){i||(t.style.display=t.__vOriginalDisplay)}}},di={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]},pi={name:"transition",props:di,abstract:!0,render:function(t){var e,n,a=this,i=this.$options._renderChildren;if(i&&(i=i.filter(function(t){return t.tag||K(t)})).length){var o=this.mode,l=i[0];if(function(t){for(;t=t.parent;)if(t.data.transition)return!0}(this.$vnode))return l;var s=Se(l);if(!s)return l;if(this._leaving)return Re(t,l);var r="__transition-"+this._uid+"-";s.key=null==s.key?s.isComment?r+"comment":r+s.tag:$(s.key)?0===String(s.key).indexOf(r)?s.key:r+s.key:s.key;var c=(s.data||(s.data={})).transition=ke(this),d=this._vnode,p=Se(d);if(s.data.directives&&s.data.directives.some(function(t){return"show"===t.name})&&(s.data.show=!0),p&&p.data&&(e=s,(n=p).key!==e.key||n.tag!==e.tag)&&!K(p)){var m=p&&(p.data.transition=h({},c));if("out-in"===o)return this._leaving=!0,j(m,"afterLeave",function(){a._leaving=!1,a.$forceUpdate()}),Re(t,l);if("in-out"===o){if(K(s))return d;var u,g=function(){u()};j(c,"afterEnter",g),j(c,"enterCancelled",g),j(m,"delayLeave",function(t){u=t})}}return l}}},mi=h({tag:String,moveClass:String},di);delete mi.mode;var ui={Transition:pi,TransitionGroup:{props:mi,render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),a=this.prevChildren=this.children,i=this.$slots.default||[],o=this.children=[],l=ke(this),s=0;s<i.length;s++){var r=i[s];r.tag&&null!=r.key&&0!==String(r.key).indexOf("__vlist")&&(o.push(r),((n[r.key]=r).data||(r.data={})).transition=l)}if(a){for(var c=[],d=[],p=0;p<a.length;p++){var m=a[p];m.data.transition=l,m.data.pos=m.elm.getBoundingClientRect(),n[m.key]?c.push(m):d.push(m)}this.kept=t(e,null,c),this.removed=d}return t(e,null,o)},beforeUpdate:function(){this.__patch__(this._vnode,this.kept,!1,!0),this._vnode=this.kept},updated:function(){var t=this.prevChildren,a=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,a)&&(t.forEach(Ae),t.forEach(De),t.forEach(_e),t.forEach(function(t){if(t.data.moved){var n=t.elm,e=n.style;oe(n,a),e.transform=e.WebkitTransform=e.transitionDuration="",n.addEventListener(ai,n._moveCb=function t(e){e&&!/transform$/.test(e.propertyName)||(n.removeEventListener(ai,t),n._moveCb=null,le(n,a))})}}))},methods:{hasMove:function(t,e){if(!Za)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){ne(n,t)}),ee(n,e),n.style.display="none",this.$el.appendChild(n);var a=re(n);return this.$el.removeChild(n),this._hasMove=a.hasTransform}}}};_t.config.mustUseProp=function(t,e,n){return"value"===n&&ba(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},_t.config.isReservedTag=_a,_t.config.isReservedAttr=va,_t.config.getTagNamespace=function(t){return Da(t)?"svg":"math"===t?"math":void 0},_t.config.isUnknownElement=function(t){if(!cn)return!0;if(_a(t))return!1;if(t=t.toLowerCase(),null!=Pa[t])return Pa[t];var e=document.createElement(t);return-1<t.indexOf("-")?Pa[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:Pa[t]=/HTMLUnknownElement/.test(e.toString())},h(_t.options.directives,ci),h(_t.options.components,ui),_t.prototype.__patch__=cn?ri:p,_t.prototype.$mount=function(t,e){return t=t&&cn?"string"==typeof(l=t)?document.querySelector(l)||document.createElement("div"):l:void 0,a=t,i=e,(n=this).$el=a,n.$options.render||(n.$options.render=Un),it(n,"beforeMount"),o=function(){n._update(n._render(),i)},n._watcher=new Wn(n,o,p),i=!1,null==n.$vnode&&(n._isMounted=!0,it(n,"mounted")),n;var n,a,i,o,l},setTimeout(function(){an.devtools&&Cn&&Cn.emit("init",_t)},0),Object.setPrototypeOf=Object.setPrototypeOf||Pe,Pe.bind(Object);var gi="undefined"!=typeof Symbol&&"undefined"!=typeof Reflect,$i=function(){function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}return function(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}}();Object.setPrototypeOf(Ee.prototype,HTMLElement.prototype),Object.setPrototypeOf(Ee,HTMLElement);var hi=/-(\w)/g,fi=function(t){return t.replace(hi,function(t,e){return e?e.toUpperCase():""})},vi=/([^-])([A-Z])/g,bi=function(t){return t.replace(vi,"$1-$2").replace(vi,"$1-$2").toLowerCase()},yi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};"undefined"!=typeof window&&window.Vue&&(window.Vue.use(qe),qe.installed&&(qe.installed=!1));var wi=function(t,e){return"#"===t[0]&&(t=t.substr(1)),console.assert(6===t.length,"color must have a length of 6 hex numbers"),(320*parseInt(t.substr(0,2),16)+560*parseInt(t.substr(2,2),16)+110*parseInt(t.substr(4,2),16))/1e3>(e||125)},xi={black:"#000000",white:"#ffffff",red:{50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c"},pink:{50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f"},purple:{50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c"},"deep-purple":{50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92"},indigo:{50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e"},blue:{50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1"},"light-blue":{50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b"},cyan:{50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064"},teal:{50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40"},green:{50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20"},"light-green":{50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e"},lime:{50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717"},yellow:{50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17"},amber:{50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00"},orange:{50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100"},"deep-orange":{50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c"},brown:{50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},grey:{50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121"},"blue-grey":{50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"}},Ci={red:{a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},pink:{a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},purple:{a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},"deep-purple":{a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},indigo:{a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},blue:{a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},"light-blue":{a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},cyan:{a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},teal:{a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},green:{a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},"light-green":{a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},lime:{a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},yellow:{a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},amber:{a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},orange:{a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},"deep-orange":{a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"}},Si="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ki=("function"==typeof Symbol&&Symbol.asyncIterator&&Symbol.asyncIterator,function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}),Ri=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Ai=Object.keys(xi).reduce(function(t,e){return t[e]=xi[e],Ci[e]&&(t[e]=Ri({},t[e],Ci[e])),t},{});!function(){if("undefined"!=typeof document){var t=document.head||document.getElementsByTagName("head")[0],e=document.createElement("style"),n=" .color-wrapper[data-v-370b8428] { margin: 0; padding: 0; } .color-wrapper[data-v-370b8428], .color-wrapper *[data-v-370b8428] { box-sizing: content-box; text-align: left; line-height: 1; font-size: 0; } .color[data-v-370b8428], .back-icon[data-v-370b8428] { -webkit-tap-highlight-color: transparent; -webkit-user-select: none; -moz-user-select: none; -ms-user-select: none; -webkit-touch-callout: none; tap-highlight-color: transparent; user-select: none; outline-style: none; cursor: pointer; } .color[data-v-370b8428] { display: inline-block; border-radius: 100%; position: relative; } .back-icon[data-v-370b8428] { display: inline-block; text-align: center; float: left; border-radius: 100%; position: relative; } .back-icon[data-v-370b8428]:hover { background: rgba(0, 0, 0, 0.19); } .outer-circle[data-v-370b8428] { position: absolute; border: 4px solid rgba(0, 0, 0, 0.0); border-radius: 100%; margin: 0; transition: all 0.45s; } .inner-circle[data-v-370b8428] { position: absolute; border: 4px solid rgba(0, 0, 0, 0.0); border-radius: 100%; margin: 7px; transition: all 0.45s; } .visible .inner-circle[data-v-370b8428] { border: 4px solid rgba(255, 255, 255, 1); transition: all 1s; } .visible .outer-circle[data-v-370b8428] { border: 4px solid rgba(0, 0, 0, 0.17); transition: all 1s; } .visible.is-light .inner-circle[data-v-370b8428] { border-color: #555555; transition: all 1s; } ";e.type="text/css",e.styleSheet?e.styleSheet.cssText=n:e.appendChild(document.createTextNode(n)),t.appendChild(e)}}();var Di={render:function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("div",{staticClass:"color-wrapper",style:n.fixedMinHeight?{width:n.wrapperWidth,minHeight:n.wrapperMinHeight}:{width:n.wrapperWidth}},[a("div",{directives:[{name:"show",rawName:"v-show",value:void 0!==n.subPalette,expression:"subPalette !== undefined"}],staticClass:"back-icon",style:{margin:n.colorMargin+"px",height:n.colorSizePx,width:n.colorSizePx},on:{click:function(t){n.subPalette=void 0}}},[a("svg",{attrs:{fill:"#000000",height:n.colorSize,viewBox:"0 0 24 24",width:n.colorSize/2,xmlns:"http://www.w3.org/2000/svg"}},[a("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n._v(" "),a("path",{attrs:{d:"M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"}})])]),n._v(" "),n._l(n.colors,function(e){return a("div",{key:e.name,staticClass:"color",style:n.getColorStyle(e),attrs:{title:e.name},on:{click:function(t){t.stopPropagation(),n.click(e)}}},[a("span",{class:{visible:e.value.toLowerCase()===n.value.toLowerCase()||n.isTintOfSelected(e),"is-light":n.colorIsLight(e.value)}},[a("span",{staticClass:"outer-circle",style:{width:n.colorSize-8+"px",height:n.colorSize-8+"px"}}),n._v(" "),a("span",{staticClass:"inner-circle",style:{width:n.colorSize-22+"px",height:n.colorSize-22+"px"}})])])})],2)},staticRenderFns:[],_scopeId:"data-v-370b8428",name:"color-picker",props:{value:{type:String,required:!0},palette:{type:[String,Object],required:!1},colorSize:{type:Number,default:54},colorsPerRow:{type:Number,default:5},colorMargin:{type:Number,default:6},defaultTint:{type:[Number,String],default:500},fixedMinHeight:{type:Boolean,default:!0},useSpectrumPicker:{type:Boolean,default:!0}},methods:{getColorStyle:function(t){return{background:t.value,margin:this.colorMargin+"px",height:this.colorSizePx,width:this.colorSizePx}},colorIsLight:function(t){return wi(t,210)},click:function(t){if(this.useSpectrumPicker&&"object"===Si(this.currentPalette[t.name])){if(this.subPalette=t.name,this.isTintOfSelected(t))return;this.selectedColorName=t.name}this.$emit("change",t.value)},isTintOfSelected:function(t){return this.selectedColorName===t.name&&Fe(je(this.currentPalette[this.selectedColorName]),this.value)},getDefaultColor:function(t){return t[this.defaultTint]?t[this.defaultTint]:je(t)[Math.round(Object.keys(t).length/2)-1]}},computed:{colors:function(){var n=this,a=[],i=this.subPalette?this.currentPalette[this.subPalette]:this.currentPalette,o=this.subPalette?this.subPalette+" - ":"";return Object.keys(i).forEach(function(t){var e=i[t];a.push({name:o+t,value:"string"==typeof e?e:n.getDefaultColor(e)})}),a},currentPalette:function(){if(this.palette){if("string"==typeof this.palette){var t={material:xi,"material-full":Ai,"material-accent":Ci};return console.assert(Fe(Object.keys(t),this.palette),"You passed in an unknown palette string. Following palettes are available:"+Object.keys(t)),t[this.palette]}return this.palette}return xi},wrapperMinHeight:function(){var t=Math.ceil(Object.keys(this.currentPalette).length/this.colorsPerRow);return this.colorSize*t+this.colorMargin*t*2+"px"},wrapperWidth:function(){return this.colorSize*this.colorsPerRow+this.colorMargin*this.colorsPerRow*2+"px"},colorSizePx:function(){return this.colorSize+"px"}},data:function(){return{subPalette:void 0,selectedColorName:void 0}},created:function(){var n=this;this.value&&7===this.value.length&&!this.selectedColorName&&Object.keys(this.currentPalette).forEach(function(t){var e=n.currentPalette[t];Fe("string"==typeof e?[e]:je(e),n.value)&&(n.selectedColorName=t)})}};_t.use(qe),_t.customElement("md-color-picker",Di);var _i=function t(){ki(this,t)};return _i.materialPalette=xi,_i.accentMaterialPalette=Ci,_i.fullMaterialPalette=Ai,_i.colorIsLight=wi,_i.colorIsDark=function(t,e){return!wi(t,e)},_i}();!function(){"use strict";angular.module("itaca.components",["itaca.components-templates","ngMaterial","itaca.services","itaca.utils","pascalprecht.translate","tmh.dynamicLocale"]),angular.module("itaca.components").config(["$windowProvider","$translateProvider","tmhDynamicLocaleProvider",function(t,e,n){var a=(t.$get().navigator.language||t.$get().navigator.userLanguage).split("-")[0].toLowerCase();e.useLoader("i18nLoader"),e.preferredLanguage(a),e.useCookieStorage(),e.useMissingTranslationHandlerLog(),$translateSanitizationProvider.addStrategy("sce","sceStrategy"),e.useSanitizeValueStrategy("sce"),n.localeLocationPattern("/resources/public/js/i18n/angular-locale_{{locale}}.js"),n.useCookieStorage(),n.defaultLocale(a)}])}(),function(){"use strict";function t(t,e){var n=this;this.$onInit=function(){n.ngModel=_.isPlainObject(n.ngModel)?n.ngModel:{},n.inputName=n.inputName||"amount",n.allowNegative=!!_.isBoolean(n.allowNegative)&&n.allowNegative,n.ngMin=n.ngMin<0&&!n.allowNegative?0:n.ngMin,n.ngStep=_.isFinite(n.ngStep)?n.ngStep:.01,n.ngDisabled=!!_.isBoolean(n.ngDisabled)&&n.ngDisabled},this.$update=function(){n.ngModelCtrl.$setViewValue(n.ngModel)}}t.$inject=["$scope","REGEXP"],angular.module("itaca.components").component("chAmountInput",{require:{ngModelCtrl:"ngModel"},bindings:{ngModel:"<?",ngMin:"<?",ngStep:"<?",ngMax:"<?",amountType:"@",amountCurrency:"@",inputName:"@",label:"@",labelNoFloat:"<?",inputContainerClass:"@",ngRequired:"<?",ngDisabled:"<?",ngReadonly:"<?",allowNegative:"<?",errorMessages:"<?",ngDisabled:"<?"},controller:t,templateUrl:"/tpls/amount-input/amount-input.tpl"})}(),function(){"use strict";function t(t){var n=this;this.$onInit=function(){n.options=angular.isArray(n.options)?n.options:[],n.ngRequired&&t.$watchCollection(function(){return n.ngModel},function(t,e){n.ngRequired&&n.ngModelCtrl.$setValidity("required",!_.isEmpty(n.ngModel))})},this.addOption=function(t){n.options.push(t)},this.$isSelected=function(t){return!!t&&_.includes(n.ngModel,t)},this.toggleOption=function(t){n.ngModel=angular.isArray(n.ngModel)?n.ngModel:[],t.selected?_.pull(n.ngModel,t.value):n.ngModel.push(t.value),t.selected=!t.selected}}t.$inject=["$scope"],angular.module("itaca.components").component("chArrayInput",{transclude:!0,require:{ngModelCtrl:"ngModel"},bindings:{ngModel:"=",ngRequired:"<?",options:"<?",hideSelectedIcon:"<?"},controller:t,template:'<div class="layout-row layout-wrap" ng-transclude></div>'})}(),function(){"use strict";function t(t){var e=this;this.$onInit=function(){e.buttonClass=e.buttonClass||(e.iconClass&&!e.label?"md-icon-button":""),e.selectedIconClass=e.selectedIconClass||!e.iconClass?"mdi mdi-check md-24":"",e.selectedClass=e.selectedClass||"md-primary",e.$$hideSelectedIcon=e.chArrayInputCtrl.hideSelectedIcon,e.$$option={value:e.ngValue},e.$manageSelected()},this.$postLink=function(){e.chArrayInputCtrl.addOption(e.$$option)},this.$onChanges=function(t){t&&t.ngSelected&&!t.ngSelected.isFirstChange()&&e.$manageSelected()},this.$manageSelected=function(){e.$$option.selected=angular.isUndefined(e.ngSelected)?e.chArrayInputCtrl.$isSelected(e.ngValue):e.ngSelected},this.$toggle=function(){e.chArrayInputCtrl.toggleOption(e.$$option)}}t.$inject=["$scope"],angular.module("itaca.components").component("chArrayOption",{transclude:!0,require:{chArrayInputCtrl:"^chArrayInput"},bindings:{ngValue:"<",ngSelected:"<",buttonClass:"@",iconClass:"@",selectedIconClass:"@",label:"@",labelClass:"@",selectedClass:"@"},controller:t,template:'<md-button class="{{$ctrl.buttonClass}}" ng-class="$ctrl.$$option.selected ? $ctrl.selectedClass : \'\'" ng-click="$ctrl.$toggle()" aria-label="Toggle option"><div layout layout-padding-sm layout-align="center center"><div ng-if="!$ctrl.$$hideSelectedIcon" class="no-padding"><md-icon ng-if="$ctrl.iconClass" ng-show="!$ctrl.$$option.selected || !$ctrl.selectedIconClass" class="material-icons {{$ctrl.iconClass}}"></md-icon><md-icon ng-if="$ctrl.selectedIconClass" ng-show="$ctrl.$$option.selected" class="material-icons {{$ctrl.selectedIconClass}}"></md-icon></div><div><span ng-if="$ctrl.label" class="{{$ctrl.labelClass}}" ng-bind-html="$ctrl.label"></span><div ng-transclude></div></div></div></md-button>'})}(),function(){"use strict";function t(t,e,n,a,i){var o=this;this.$mdMedia=e,this.$onInit=function(){o.minDate=_.isDate(o.minDate)?o.minDate:_.isBoolean(o.minDate)&&o.minDate?a.absoluteDate():null,o.reservation=o.reservation||{},o.step=_.isNil(o.step)?0:parseInt(o.step),o.currentCurrency=o.currentCurrency||"EUR",o.hotelCurrency=o.hotelCurrency||"EUR",o.$initWatchers()},this.$next=function(){o.onNext&&o.onNext()},this.$checkMinEndDate=function(){if(o.reservation.checkin){var t=a.absoluteMoment(o.reservation.checkin),e=a.absoluteMoment(t).add(1,"days");o.$$minEndDate=e.toDate();var n=a.absoluteMoment(t).add(o.maxRange,"days");o.$$maxEndDate=n.toDate(),!o.reservation.checkout||a.absoluteMoment(o.reservation.checkout).isBefore(e,"day")?o.reservation.checkout=angular.copy(o.$$minEndDate):o.reservation.checkout&&a.absoluteMoment(o.reservation.checkout).isAfter(n,"day")&&(o.reservation.checkout=angular.copy(o.$$maxEndDate))}},this.$calculateNights=function(){o.reservation.nights=a.absoluteMoment(o.reservation.checkout).diff(a.absoluteMoment(o.reservation.checkin),"days")},this.$search=function(){o.onSearch&&o.onSearch({checkin:o.reservation.checkin,checkout:o.reservation.checkout,nights:o.reservation.nights,people:o.reservation.people})},this.$countRemainingPeople=function(){var t=i.normalizePeople(o.reservation.people),e=o.requestPeople||angular.copy(o.reservation.requestPeople||o.reservation.people);e||(e={});var n={adults:(e=i.normalizePeople(e)).adults?e.adults-t.adults:0,boys:e.boys?e.boys-t.boys:0,children:e.children?e.children-t.children:0,kids:e.kids?e.kids-t.kids:0};return o.$$requestPeople=e,o.$$remainingPeople=n,o.reservation.requestPeople=e,o.reservation.remainingPeople=n},this.$initWatchers=function(){o.$initDateWatch(),t.$watch(function(){return o.reservation.step},function(t,e){1<t?(o.$$dateWatch&&o.$$dateWatch(),o.$$dateWatch=null):o.$initDateWatch()}),t.$watchCollection(function(){return o.reservation.people},function(t,e){1==o.step&&(o.requestPeople=angular.copy(o.reservation.people),o.reservation.requestPeople=o.requestPeople),o.$countRemainingPeople(),o.reservation.guestsCount=i.guestsCount(o.reservation.people)})},this.$initDateWatch=function(){o.$$dateWatch||(o.$$dateWatch=t.$watchGroup([function(){return o.reservation.checkin},function(){return o.reservation.checkout}],function(t,e){o.$checkMinEndDate(),o.$calculateNights(),a.absoluteMoment(t[0]).isSame(a.absoluteMoment(e[0]),"day")&&a.absoluteMoment(t[1]).isSame(a.absoluteMoment(e[1]),"day")||o.onDateChanged&&o.onDateChanged({checkin:o.reservation.checkin,checkout:o.reservation.checkout,nights:o.reservation.nights,people:o.reservation.people})}))}}t.$inject=["$scope","$mdMedia","$timeout","DateUtils","ReservationUtils"],angular.module("itaca.components").component("chBookingForm",{bindings:{reservation:"<",requestPeople:"<",minDate:"<?",maxRange:"<?",step:"<?",currentCurrency:"<?",hotelCurrency:"<?",roomVatRate:"<?",hotelCityTax:"<?",onDateChanged:"&?",onSearch:"&?",onNext:"&?"},controller:t,templateUrl:"/tpls/booking-form/booking-form.tpl"})}(),function(){"use strict";function t(t,r,c,d,p){var m=this;this.$onInit=function(){if(!m.creationDate)throw new Error("chCancellationBar: creationDate cannot be null");if(!m.checkinDate)throw new Error("chCancellationBar: checkinDate cannot be null");m.$$startDate=moment(m.creationDate).toDate(),m.$$endDate=p.absoluteDate(m.checkinDate),m.$$freeCancelDate=moment(m.limitDate||m.$$endDate).toDate();var t=moment(m.$$startDate),e=moment(m.$$endDate),n=m.$$freeCancelDate?moment(m.$$freeCancelDate):null;m.$$inPenalty=!1,n&&n.isAfter(e,"days")&&(m.$$endDate=n.toDate(),e=moment(m.$$endDate)),t.isAfter(e,"days")&&(c.warn("chCancellationBar: creationDate is after checkinDate. Will be adjusted to checkinDate."),m.$$startDate=e.toDate(),t=moment(m.$$startDate),m.$$inPenalty=!0),n&&n.isSame(e,"days")&&(m.$$endDate=n.toDate(),e=moment(m.$$endDate));var a=moment();a.isAfter(e,"days")?m.$$hideToday=!0:m.$$now=a.toDate(),e.endOf("day");var i=e.diff(t,"days")||1,o=moment.duration(e.diff(a)).asDays();if(m.$$todayPosition=d.fixedDecimals(100-o/i*100),m.$$todayPosition=100<m.$$todayPosition?100:m.$$todayPosition<0?0:m.$$todayPosition,m.limitDate){m.finalLimitDate=n.utcOffset(m.offsetSeconds?m.offsetSeconds/60:0).toDate(),m.daysToLimit=moment.duration(moment(m.finalLimitDate).diff(a)).asDays();var l=moment.duration(e.diff(moment(m.finalLimitDate))).asDays();m.$$limitRate=0<=l?d.fixedDecimals(100-100*l/i):0,m.$$limitRate=100<m.$$limitRate?100:m.$$limitRate<0?0:m.$$limitRate,m.$$inPenalty=m.daysToLimit<=0}else m.$$inPenalty=!_.isNil(m.feeAmount)&&0<m.feeAmount,m.$$inPenalty?(m.$$limitRate=0,m.finalLimitDate=t.utcOffset(m.offsetSeconds?m.offsetSeconds/60:0).toDate()):m.$$limitRate=100;var s=angular.element(r[0].querySelector(".limit-label"));100==m.$$limitRate?(s.addClass("limit-label-full"),s.removeClass("limit-label-empty")):0==m.$$limitRate&&(s.addClass("limit-label-empty"),s.removeClass("limit-label-full"))}}t.$inject=["$scope","$element","$log","NumberUtils","DateUtils"],angular.module("itaca.components").component("chCancellationBar",{bindings:{creationDate:"<",checkinDate:"<",limitDate:"<?",feeAmount:"<?",offsetSeconds:"<?",startLabel:"@",endLabel:"@",penaltyCancelLabel:"@",freeCancelLabel:"@",limitCancelLabel:"@"},controller:t,template:'<div class="ch-cancellation-bar-container"><div class="summary-label"><strong ng-if="!$ctrl.$$inPenalty" class="text-success"><span ng-if="$ctrl.finalLimitDate"><span>{{$ctrl.limitCancelLabel}}</span>&nbsp;<span ng-if="$ctrl.daysToLimit">{{$ctrl.daysToLimit|amDurationFormat : "days"}}</span>&nbsp;<span ng-if="!$ctrl.daysToLimit" class="text-lowercase" translate="date.today"></span><span class="text-gray-light text-normal">&nbsp;({{$ctrl.finalLimitDate|offsetDate:"shortDate":$ctrl.offsetSeconds}}&nbsp;<span class="text-lowercase" translate="date.time.to"></span>&nbsp;{{$ctrl.finalLimitDate|offsetDate:"shortTime":$ctrl.offsetSeconds}})</span></span><span ng-if="!$ctrl.finalLimitDate"><span>{{$ctrl.freeCancelLabel}}</span></span></strong><strong ng-if="$ctrl.$$inPenalty" class="text-danger">{{$ctrl.penaltyCancelLabel}}</span></strong></div><div layout layout-padding-sm><div layout="column" layout-align="center center" class="no-padding-top no-padding-bottom cursor-help"><md-icon class="mdi mdi-book-plus md-18"></md-icon><small class="text-gray-light">{{$ctrl.$$startDate|utcDate:"dd/MM"}}</small><md-tooltip><span ng-if="!$ctrl.startLabel" translate="reservation.insert.date"></span><span ng-if="$ctrl.startLabel">{{$ctrl.startLabel}}</span></md-tooltip></div><div flex class="progress-bar"><span ng-if="$ctrl.finalLimitDate" class="limit-label cursor-help" style="left:{{$ctrl.$$limitRate}}%"><span>{{$ctrl.finalLimitDate|offsetDate:"d MMMM":$ctrl.offsetSeconds}}</span><md-tooltip>{{$ctrl.limitCancelLabel}}&nbsp;{{$ctrl.finalLimitDate|offsetDate:"shortDate":$ctrl.offsetSeconds}}&nbsp;<span class="text-lowercase" translate="date.time.to"></span>&nbsp;{{$ctrl.finalLimitDate|offsetDate:"shortTime":$ctrl.offsetSeconds}}</md-tooltip></span><span ng-if="!$$hideToday" class="today-label cursor-help" style="left:{{$ctrl.$$todayPosition}}%"><span translate="date.today"></span><md-tooltip><span translate="date.today"></span>&nbsp;{{$ctrl.$$now|date:"short"}}</md-tooltip></span><div class="bar bg-success" style="width:{{$ctrl.$$limitRate}}%;"></div><div class="bar bg-danger" style="left:{{$ctrl.$$limitRate}}%; width:{{100 - $ctrl.$$limitRate}}%;"></div></div><div layout="column" layout-align="center center" class="no-padding-top no-padding-bottom cursor-help"><md-icon class="mdi mdi-debug-step-into md-18"></md-icon><small class="text-gray-light">{{$ctrl.$$endDate|utcDate:"dd/MM"}}</small><md-tooltip><span ng-if="!$ctrl.endLabel" translate="date.checkin"></span><span ng-if="$ctrl.endLabel">{{$ctrl.endLabel}}</span></md-tooltip></div></div></div>'})}(),function(){"use strict";function t(t){var e=this;this.$onInit=function(){e.titleClass="md-body-1 no-margin-bottom"}}t.$inject=["$scope"],angular.module("itaca.components").component("chCancellationPolicyInfo",{bindings:{rateType:"<",cancellationPolicy:"<",city:"@",offset:"@",title:"@",titleClass:"@"},controller:t,templateUrl:"/tpls/cancellation-policy-info/cancellation-policy-info.tpl"})}(),function(){"use strict";function t(t,n){var e=this;this.$onInit=function(){e.$$bgStyle=e.bgUrl?{background:"url('"+e.bgUrl+"') center center no-repeat","background-size":"cover"}:null,e.colorClass=e.colorClass||"layout-column layout-align-center-center bg-gray-lighter md-padding",e.titleClass=e.titleClass||"md-subhead text-bold",e.iconLabelPosition=_.includes(["left","right","top","bottom"],e.iconLabelPosition)?e.iconLabelPosition:"left",e.menuItems=e.menuItems&&angular.isArray(e.menuItems)?e.menuItems:null,e.menuClass=e.menuClass||null,e.showAvatar=!!_.isBoolean(e.showAvatar)&&e.showAvatar,e.isRequired=!!_.isBoolean(e.isRequired)&&e.isRequired,e.isSuggested=!!_.isBoolean(e.isSuggested)&&e.isSuggested,e.isCompleted=!!_.isBoolean(e.isCompleted)&&e.isCompleted},this.$goTo=function(){e.ngDisabled||(angular.isFunction(e.onClick)?e.onClick():_.isNil(e.state)?_.isNil(e.url)||n.go(e.url):n.goToState(e.state,e.stateParams))},this.$menuClick=function(t,e){!_.isNil(e.fn)&&angular.isFunction(e.fn)?e.fn.apply(this,_.concat([t],e.fnParams)):_.isNil(e.state)?_.isNil(e.url)||(location.href=e.url):n.goToState(e.state,e.stateParams)}}t.$inject=["$scope","Navigator"],angular.module("itaca.components").component("chCard",{transclude:!0,bindings:{bgUrl:"@",bgClass:"@",imgUrl:"@",imgClass:"@",imgContClass:"@",showAvatar:"<?",iconClass:"@",iconFontSet:"@",iconLabel:"@",iconLabelClass:"@",iconLabelPosition:"@",iconSecondaryLabel:"@",iconSecondaryLabelClass:"@",iconSecondaryLabelPosition:"@",otherIconClass:"@",otherIconFontSet:"@",title:"@",titleClass:"@",subtitle:"@",colorClass:"@",ngDisabled:"<?",disabledLabel:"@",disabledClass:"@",disabledBarClass:"@",url:"@",state:"@",stateParams:"<?",onClick:"&?",menuItems:"<?",disabledMenuItems:"<?",menuClass:"@",noHover:"<?",isRequired:"<?",isCompleted:"<?",isSuggested:"<?"},controller:t,templateUrl:"/tpls/card/card.tpl"})}(),function(){"use strict";function t(t,e,n,a,i){var o=this;this.$onInit=function(){o.$$timezone=a.secondsToOffsetString(o.offsetSeconds),o.showDate=!_.isBoolean(o.showDate)||o.showDate,o.showTime=!_.isBoolean(o.showTime)||o.showTime,o.dateFormat=o.dateFormat||"mediumDate",o.timeFormat=o.timeFormat||"shortTime",o.$$stop=i(function(){o.$updateDate()},1e3)},this.$onDestroy=function(){i.cancel(o.$$stop)},this.$updateDate=function(){o.$$date=new Date}}t.$inject=["$scope","$element","$attrs","DateUtils","$interval"],angular.module("itaca.components").component("chClock",{bindings:{offsetSeconds:"<",showDate:"<",showTime:"<",dateFormat:"@",timeFormat:"@"},controller:t,template:"<div><div ng-if='$ctrl.showDate'><small>{{$ctrl.$$date|date:$ctrl.dateFormat:$ctrl.$$timezone}}</small></div><div ng-if='$ctrl.showTime'><strong>{{$ctrl.$$date|date:$ctrl.timeFormat:$ctrl.$$timezone}}</strong></div></div>"})}(),function(){"use strict";function t(t,e,a,i){var o=this;this.$postLink=function(){var n=e[0].querySelector(".ch-color-picker-button"),t=i.newPanelPosition().relativeTo(angular.element(n)).addPanelPosition(i.xPosition.ALIGN_START,i.yPosition.BELOW);o.$$config={attachTo:angular.element(document.body),controller:l,controllerAs:"$ctrl",templateUrl:"/tpls/color-picker/color-picker-panel.tpl",position:t,clickOutsideToClose:!0,disableParentScroll:!a("gt-xs")||o.disableParentScroll,hasBackdrop:!a("gt-xs")||o.hasBackdrop,panelClass:"md-whiteframe-15dp bg-gray-lighter",trapFocus:!0,onCloseSuccess:function(t,e){n.focus(),(!(!!_.isBoolean(o.hasConfirm)&&o.hasConfirm)||_.isBoolean(e)&&e)&&o.$update(),(o.hasBackdrop||o.disableBodyScroll)&&o.$$toggleBodyScroll(!1)},onOpenComplete:function(){(o.hasBackdrop||o.disableBodyScroll)&&o.$$toggleBodyScroll(!0)}}},this.$onChanges=function(t){t.ngModel&&(o.$$btnStyle={"background-color":o.ngModel})},this.$$toggleBodyScroll=function(t){angular.element(document.body).css({overflow:t?"hidden":"auto"})},this.$openPicker=function(t){if(!o.ngReadonly){o.$$data={color:angular.copy(o.ngModel)};var e={$$data:o.$$data,hasConfirm:!!_.isBoolean(o.hasConfirm)&&o.hasConfirm,palette:o.palette,defaultTint:o.defaultTint,colorsPerRow:o.colorsPerRow,colorSize:o.colorSize,colorMargin:o.colorMargin,hideSubPalette:o.hideSubPalette,flexible:o.flexible,showCode:o.showCode};o.$$config.openFrom=t,o.$$config.disableParentScroll=!a("gt-xs")||o.disableParentScroll,o.$$config.hasBackdrop=!a("gt-xs")||o.hasBackdrop,o.$$config.locals=e,i.open(o.$$config)}},this.$update=function(){o.$$btnStyle={"background-color":o.$$data.color},o.ngModelCtrl.$setViewValue(o.$$data.color)}}function l(t,e){var n=this;this.init=function(){n.hasConfirm=!!_.isBoolean(n.hasConfirm)&&n.hasConfirm},this.onChange=function(t){},this.confirm=function(){e&&e.close(!0)},this.cancel=function(){e&&e.close(!1)},this.init()}t.$inject=["$scope","$element","$mdMedia","$mdPanel"],l.$inject=["$scope","mdPanelRef"],angular.module("itaca.components").component("chColorPickerButton",{require:{ngModelCtrl:"ngModel"},bindings:{ngModel:"<",label:"@",palette:"@",defaultTint:"@",colorsPerRow:"@",colorSize:"@",colorMargin:"@",hideSubPalette:"<?",flexible:"<?",disableParentScroll:"<?",hasBackdrop:"<?",hasConfirm:"<?",ngReadonly:"<?",ngDisabled:"<?",showCode:"<?"},controller:t,templateUrl:"/tpls/color-picker/color-picker-button.tpl"})}(),function(){"use strict";function t(t,e){var n=this;this.$postLink=function(){n.$$picker=e[0].querySelector(".ch-color-picker-inline"),n.$$picker.addEventListener("change",n.$colorChanged),n.$$picker.value=n.ngModel},this.$onChanges=function(t){t.hideSubPalette&&(n.hideSubPalette=!!_.isBoolean(n.hideSubPalette)&&n.hideSubPalette),t.flexible&&(n.flexible=!!_.isBoolean(n.flexible)&&n.flexible),t.palette&&(n.palette=_.includes(["material","material-full","material-accent"],n.palette)?n.palette:"material-full"),t.ngModel&&n.$$picker&&(n.$$picker.value=n.ngModel)},this.$onDestroy=function(){n.$$picker.removeEventListener("change",n.$colorChanged)},this.$colorChanged=function(t){var e=t.detail[0];n.$$picker.value=e,n.$update(e)},this.$update=function(t){n.ngModelCtrl.$setViewValue(t)}}t.$inject=["$scope","$element"],angular.module("itaca.components").component("chColorPickerInline",{require:{ngModelCtrl:"ngModel"},bindings:{ngModel:"<",palette:"@",defaultTint:"@",colorsPerRow:"@",colorSize:"@",colorMargin:"@",hideSubPalette:"<?",flexible:"<?",showCode:"<?"},controller:t,templateUrl:"/tpls/color-picker/color-picker-inline.tpl"})}(),function(){"use strict";function t(t,e){var n=this;this.$update=function(){n.ngModelCtrl.$setViewValue(n.ngModel)}}t.$inject=["$scope","$element"],angular.module("itaca.components").component("chColorPicker",{require:{ngModelCtrl:"ngModel"},bindings:{ngModel:"<",label:"@",palette:"@",defaultTint:"@",colorsPerRow:"@",colorSize:"@",colorMargin:"@",hideSubPalette:"<?",flexible:"<?",disableParentScroll:"<?",hasBackdrop:"<?",hasConfirm:"<?",ngReadonly:"<?",ngDisabled:"<?",inline:"<?",showCode:"<?"},controller:t,templateUrl:"/tpls/color-picker/color-picker.tpl"})}(),function(){"use strict";function t(t,e,n){var a=this;this.$onInit=function(){n.addEventListener("offline",a.$showDialog)},this.$showDialog=function(){function t(t,e){var n=function(){t.hide()};this.$onInit=function(){e.addEventListener("online",n)},this.$onDestroy=function(){e.removeEventListener("online",n)}}t.$inject=["$mdDialog","$window"],e.show({controller:t,escapeToClose:!1,template:'<md-dialog flex="70" aria-label="offline dialog"><md-dialog-content class="md-padding text-center"><div><md-icon class="mdi mdi-close-network md-160"></md-icon></div><h1 class="md-display-1 no-margin"><span translate="alerts.offline.title"></span></h1><h4 class="md-subhead no-margin-top"><span translate="alerts.offline.text"></span></h4></md-dialog-content></md-dialog>'})},this.$onDestroy=function(){n.removeEventListener("offline",a.$showDialog)}}t.$inject=["$scope","$mdDialog","$window"],angular.module("itaca.components").component("chConnectionCheck",{bindings:{},controller:t,template:"<span></span>"})}(),function(){"use strict";function t(t,e,n){var a=this;this.$onInit=function(){a.btnClass=a.btnClass||"md-fab md-mini",a.btnActiveClass=a.btnActiveClass||"md-primary",a.labelClass=a.labelClass||"text-gray-light text-small",a.count=angular.isNumber(a.count)?a.count:0,a.step=angular.isNumber(a.step)?a.step:1},this.$onChanges=function(t){t&&(t.flexible&&a.$manageFlexible(),t.labelDirection&&a.$manageLabelDirection(),(t.min||t.count)&&a.$manageMin(),(t.max||t.count)&&a.$manageMax())},this.$manageFlexible=function(){a.flexible=_.isBoolean(a.flexible)?a.flexible:n.hasOwnProperty("flexible")&&(void 0===a.flexible||_.isEmpty(a.flexible)||a.flexible),a.flexible&&e.addClass("flex")},this.$manageLabelDirection=function(){a.labelDirection=_.includes(["top","right","bottom","left"],a.labelDirection)?a.labelDirection:"top",a.labelContClass=_.includes(["right","left"],a.labelDirection)?"layout-row":"layout-column"},this.$manageMin=function(){a.min=angular.isNumber(a.min)&&angular.isNumber(a.max)&&a.min>a.max?a.max-a.step:a.min,angular.isNumber(a.min)&&a.count<a.min&&(a.count=a.min)},this.$manageMax=function(){a.max=angular.isNumber(a.max)&&angular.isNumber(a.min)&&a.max<a.min?a.min+a.step:a.max,angular.isNumber(a.max)&&a.count>a.max&&(a.count=a.max)},this.$decrease=function(t){if(angular.isNumber(a.min)&&a.count<=a.min)return!1;a.count=(a.count||0)-a.step,a.$updateModel(),a.onMinus&&a.onMinus({$event:t,$count:a.count})},this.$increase=function(t){if(angular.isNumber(a.max)&&a.count>=a.max)return!1;a.count=(a.count||0)+a.step,a.$updateModel(),a.onPlus&&a.onPlus({$event:t,$count:a.count})},this.$updateModel=function(){a.ngModelCtrl.$setViewValue(a.count)}}t.$inject=["$scope","$element","$attrs"],angular.module("itaca.components").component("chCounter",{transclude:!0,require:{ngModelCtrl:"ngModel"},bindings:{flexible:"<?",wrapperClass:"@",btnClass:"@",btnActiveClass:"@",iconClass:"@",iconActiveClass:"@",label:"@",labelClass:"@",labelDirection:"@",count:"=ngModel",countClass:"@",fieldName:"@",min:"<?",max:"<?",step:"<?",ngDisabled:"<?",minusDisabled:"<?",plusDisabled:"<?",onMinus:"&?",onPlus:"&?"},controller:t,templateUrl:"/tpls/counter/counter.tpl"})}(),function(){"use strict";function t(t,e,n){var a=this;this.$onInit=function(){a.$initWatchers()},this.$calculateDiff=function(){var t=a.start?moment(a.start):moment(),e=a.start?moment(a.end):moment();a.$$dateLeft=t.to(e)},this.$initWatchers=function(){$scope.$watchGroup([function(){return a.start},function(){return a.end}],a.$calculateDiff)}}t.$inject=["scope","ReservationUtils","$translate"],angular.module("itaca.components").component("chDateLeft",{bindings:{start:"<?",end:"<?"},controller:t,template:"<span>{{$ctrl.$$dateLeft}}</span>"})}(),function(){"use strict";function t(n,a,i,o,e){var l=this;this.$onInit=function(){l.labelPosition=_.includes(["top","left"],l.labelPosition)?l.labelPosition:"top",l.hideLabel=!!_.isBoolean(l.hideLabel)&&l.hideLabel,l.size=_.includes(["small","medium","big"],l.size)?l.size:"big",l.buttonClass=l.buttonClass||"no-margin",l.hasBackdrop=!_.isNil(l.hasBackdrop)&&l.hasBackdrop,l.timezone=_.isBoolean(l.useUtc)&&l.useUtc?"UTC":"";var t=a[0].querySelector(".ch-date-picker-button"),e=i.newPanelPosition().relativeTo(angular.element(t)).addPanelPosition(i.xPosition.CENTER,i.yPosition.BELOW);l.$$config={attachTo:angular.element(document.body),controller:s,controllerAs:"$ctrl",templateUrl:"/tpls/date-picker/date-picker.tpl",position:e,clickOutsideToClose:!0,disableParentScroll:l.disableParentScroll,hasBackdrop:!o("gt-xs")||l.hasBackdrop,fullscreen:!o("gt-xs"),panelClass:"bg-white md-whiteframe-15dp",trapFocus:!0,onCloseSuccess:function(t,e){n.chDatePickerTriggerForm.date.$setTouched(),_.isBoolean(e)&&e&&(l.$updateOriginal(),l.onClose&&l.onClose(l.$$data)),(l.hasBackdrop||l.disableBodyScroll)&&l.$$toggleBodyScroll(!1)},onOpenComplete:function(){(l.hasBackdrop||l.disableBodyScroll)&&l.$$toggleBodyScroll(!0)}}},this.$$toggleBodyScroll=function(t){angular.element(document.body).css({overflow:t?"hidden":"auto"})},this.$openPanel=function(t){if(!l.ngReadonly){l.$$data={current:l.ngModel,min:l.minDate,max:l.maxDate};var e={hasConfirm:!_.isBoolean(l.hasConfirm)||l.hasConfirm,useUtc:!!_.isBoolean(l.useUtc)&&l.useUtc,data:l.$$data};l.$$config.openFrom=t,l.$$config.hasBackdrop=!o("gt-xs")||l.hasBackdrop,l.$$config.fullscreen=!o("gt-xs"),l.$$config.locals=e,i.open(l.$$config)}},this.$updateOriginal=function(){l.$$data&&(n.chDatePickerTriggerForm.date.$setDirty(),l.ngModel=l.$getDate(l.$$data.current),l.minDate=l.$getDate(l.$$data.min),l.maxDate=l.$getDate(l.$$data.max))},this.$getDate=function(t){var e=l.$getMoment(t);return e?e.toDate():null},this.$getMoment=function(t){return t?_.isBoolean(l.useUtc)&&l.useUtc?e.absoluteMoment(t):moment(t):null}}function s(n,t,e,a){var i=this;this.init=function(){i.timezone=_.isBoolean(i.useUtc)&&i.useUtc?"UTC":"",i.modelOptions=_.isBoolean(i.useUtc)&&i.useUtc?{timezone:"UTC"}:{}},n.$on("md-calendar-change",function(t,e){i.hasConfirm||i.confirm()}),this.$$getMoment=function(t){return i.useUtc?e.absoluteMoment(t):moment(t)},n.$watch(function(){return i.data.current},function(t,e){n.currentDate=i.data.end?i.$$getMoment(i.data.end).toDate():null}),this.confirm=function(){t&&t.close(!0)},this.cancel=function(){t&&t.close(!1)},this.init()}t.$inject=["$scope","$element","$mdPanel","$mdMedia","DateUtils"],s.$inject=["$scope","mdPanelRef","DateUtils","$timeout"],angular.module("itaca.components").component("chDatePicker",{require:{ngModelCtrl:"ngModel"},bindings:{buttonClass:"@",wrapperClass:"@",label:"@",hideLabel:"<?",labelPosition:"@",ngModel:"=",minDate:"<?",maxDate:"<?",errorMessages:"<?",useUtc:"<?",hasBackdrop:"<?",hasConfirm:"<?",disableParentScroll:"<?",disableBodyScroll:"<?",onClose:"&?",ngRequired:"<?",ngDisabled:"<?",ngReadonly:"<?",size:"@"},controller:t,templateUrl:"/tpls/date-picker/date-picker-trigger.tpl"})}(),function(){"use strict";function t(t,n,a,i,e){var o=this;this.$mdMedia=i,this.$onInit=function(){o.startInputName=o.startInputName||"start",o.endInputName=o.endInputName||"end",o.wrapperClass=o.wrapperClass||"md-padding",o.buttonClass=o.buttonClass||"no-padding no-margin layout-padding",o.hasBackdrop=!!_.isBoolean(o.hasBackdrop)&&o.hasBackdrop,o.$$timezone=_.isBoolean(o.useUtc)&&o.useUtc?"UTC":"",o.labelClass=o.labelClass||"text-gray-light",o.showDiff=!_.isBoolean(o.showDiff)||o.showDiff,o.showDiffInCalendar=!_.isBoolean(o.showDiffInCalendar)||o.showDiffInCalendar,o.largeTemplate=o.largeTemplate||!1;var t=n[0].querySelector(".ch-date-range-picker-button"),e=a.newPanelPosition().relativeTo(angular.element(t)).addPanelPosition(a.xPosition.CENTER,a.yPosition.BELOW);o.$$config={attachTo:angular.element(document.body),controller:l,controllerAs:"$ctrl",templateUrl:"/tpls/date-range-picker/date-range-picker.tpl",position:e,clickOutsideToClose:!0,disableParentScroll:o.disableParentScroll,hasBackdrop:!i("gt-xs")||o.hasBackdrop,fullscreen:!i("gt-xs"),panelClass:"bg-white md-whiteframe-15dp",trapFocus:!0,onCloseSuccess:function(t,e){_.isBoolean(e)&&e&&(o.$updateOriginal(),o.onClose&&o.onClose({$start:o.$$data.start,$end:o.$$data.end})),(o.hasBackdrop||o.disableBodyScroll)&&o.$$toggleBodyScroll(!1)},onOpenComplete:function(){(o.hasBackdrop||o.disableBodyScroll)&&o.$$toggleBodyScroll(!0)}},o.calculateDiff()},this.$onChanges=function(t){t.startErrorMessages&&(o.startErrorMessages=_.isArray(o.startErrorMessages)?o.startErrorMessages:[],_.some(o.startErrorMessages,["error","required"])||o.startErrorMessages.push({error:"required",messageKey:"error.required"})),t.endErrorMessages&&(o.endErrorMessages=_.isArray(o.endErrorMessages)?o.endErrorMessages:[],_.some(o.endErrorMessages,["error","required"])||o.endErrorMessages.push({error:"required",messageKey:"error.required"}))},this.$$toggleBodyScroll=function(t){angular.element(document.body).css({overflow:t?"hidden":"auto"})},this.$openPanel=function(t){o.$$data={start:o.start,startMinDate:o.startMinDate,startMaxDate:o.startMaxDate,end:o.end,endMinDate:o.endMinDate,endMaxDate:o.endMaxDate,maxRange:o.maxRange};var e={showDiff:!_.isBoolean(o.showDiffInCalendar)||o.showDiffInCalendar,diffLabelSingular:o.$$diffLabelSingular,diffLabelPlural:o.$$diffLabelPlural,useUtc:!!_.isBoolean(o.useUtc)&&o.useUtc,startTitle:o.startHintLabel,endTitle:o.endHintLabel,data:o.$$data};o.$$config.openFrom=t,o.$$config.hasBackdrop=!i("gt-xs")||o.hasBackdrop,o.$$config.fullscreen=!i("gt-xs"),o.$$config.locals=e,a.open(o.$$config)},this.$updateOriginal=function(){o.$$data&&(o.start=o.$getDate(o.$$data.start),o.startMinDate=o.$getDate(o.$$data.startMinDate),o.startMaxDate=o.$getDate(o.$$data.startMaxDate),o.end=o.$getDate(o.$$data.end),o.endMinDate=o.$getDate(o.$$data.endMinDate),o.endMaxDate=o.$getDate(o.$$data.endMaxDate),o.calculateDiff())},this.$getDate=function(t){var e=o.$getMoment(t);return e?e.toDate():null},this.$getMoment=function(t){return t?_.isBoolean(o.useUtc)&&o.useUtc?e.absoluteMoment(t):moment(t):null},this.calculateDiff=function(){(!_.isBoolean(o.showDiff)||o.showDiff)&&o.end&&o.start?o.$$diff=o.$getMoment(o.end).diff(o.$getMoment(o.start),"days"):o.$$diff=null}}function l(n,t,e,a){var o=this;this.currentView=this.currentView||"start",this.init=function(){o.timezone=_.isBoolean(o.useUtc)&&o.useUtc?"UTC":"",o.modelOptions=_.isBoolean(o.useUtc)&&o.useUtc?{timezone:"UTC"}:{},o.showDiff=!_.isBoolean(o.shshowDiffowDiff)||o.showDiff,o.showDiff&&n.$watchGroup([function(){return o.data.start},function(){return o.data.end}],function(t,e){o.calculateDiff()})},n.$on("md-calendar-change",function(t,e){o.dateChanged=!0,"end"!=o.currentView||o.hasConfirm||o.confirm()}),this.toggleView=function(){o.dateChanged=!1,"start"==o.currentView?o.currentView="end":o.currentView="start"},this.checkEndDate=function(t){if(o.data.start){var e=o.$$getMoment(o.data.start),n=o.$$getMoment(o.data.end),a=o.$$getMoment(e).add(1,"days"),i=null;o.data.maxRange&&(i=o.$$getMoment(e).add(o.data.maxRange,"days")),!o.data.end||o.$$getMoment(o.data.end).isBefore(a,"day")?n=t?a.toDate():null:i&&o.data.end&&o.$$getMoment(o.data.end).isAfter(i,"day")&&t&&(n=i.toDate()),o.updateEnd(n,a.toDate(),i&&i.toDate())}},this.updateEnd=function(t,e,n){o.data.end=t?o.$$getMoment(t).toDate():null,e&&(o.data.endMinDate=e),n&&(o.data.endMaxDate=n)},this.calculateDiff=function(){o.showDiff&&o.data.end&&o.data.start?o.data.diff=o.$$getMoment(o.data.end).diff(o.$$getMoment(o.data.start),"days"):o.data.diff=null},this.$$getMoment=function(t){return o.useUtc?e.absoluteMoment(t):moment(t)},n.$watch(function(){return o.data.start},function(t,e){o.checkEndDate(),o.dateChanged&&o.toggleView()}),n.$watchGroup([function(){return o.data.start},function(){return o.data.end}],function(t,e){o.$$startDate=o.data.start?o.$$getMoment(o.data.start).toDate():null,n.$$endDate=o.data.end?o.$$getMoment(o.data.end).toDate():null}),this.confirm=function(){o.checkEndDate(!0),t&&t.close(!0)},this.cancel=function(){t&&t.close(!1)},this.init()}t.$inject=["$scope","$element","$mdPanel","$mdMedia","DateUtils"],l.$inject=["$scope","mdPanelRef","DateUtils","$timeout"],angular.module("itaca.components").component("chDateRangePicker",{bindings:{buttonClass:"@",wrapperClass:"@",placeholder:"@",label:"@",labelClass:"@",startLabel:"@",startHintLabel:"@",startInputName:"@",start:"=",startMinDate:"<?",startMaxDate:"<?",startErrorMessages:"<?",endLabel:"@",endHintLabel:"@",endInputName:"@",end:"=",endMinDate:"<?",endMaxDate:"<?",endErrorMessages:"<?",maxRange:"<?",useUtc:"<?",showDiff:"<?",showDiffInCalendar:"<?",diffLabelSingular:"@",diffLabelPlural:"@",hasBackdrop:"<?",largeTemplate:"<?",disableParentScroll:"<?",disableBodyScroll:"<?",onClose:"&?",ngRequired:"<?",ngDisabled:"<?"},controller:t,templateUrl:"/tpls/date-range-picker/date-range-picker-trigger.tpl"})}(),function(){"use strict";function t(t,e,n,a,o,l){var s=this;this.$onInit=function(){s.btnClass=s.btnClass||"md-raised md-primary",s.downloadingClass=s.downloadingClass||"md-accent md-hue-2",s.maxRetry=s.maxRetry||1,s.retryDelay=s.retryDelay||5e3},this.$download=function(t){s.$$attempt=1,s.$doDownload(t)},this.$doDownload=function(i){s.$$downloading=!0;var t=function(){s.$$attempt++};n.get(s.url).then(function(t){if(t.data.file){if(bowser.ios){var e={file:t.data.file,filename:t.data.filename,contentType:t.data.contentType,title:s.downloadReadyLabel,downloadLabel:s.downloadLabel};l.downloadFile(i,e)}else{var n=s.$getLinkEl();if(n.href="data:"+(t.data.contentType||"application/octet-stream")+";base64,"+encodeURI(t.data.file),n.setAttribute("download",t.data.filename),document.createEvent){var a=new MouseEvent("click",{view:window,bubbles:!0,cancelable:!0});n.dispatchEvent(a)}else n.fireEvent("click")}s.$$downloading=!1}else s.$manageRetry(!0)},function(t){412!=t.status&&s.$manageRetry(507==t.status)||(o.error((t.data,t.data.message?t.data.message:"")),s.onError&&s.onError({response:t}),s.$$downloading=!1)}).finally(t,t)},this.$manageRetry=function(t){return s.$$attempt<s.maxRetry&&(a(s.$doDownload,t?s.retryDelay:1e3),!0)},this.$getLinkEl=function(){var t=e[0].querySelector(".ch-download-button-link");return null==t&&((t=document.createElement("a")).setAttribute("target","_blank"),t.className="ch-download-button-link",element[0].appendChild(t)),t}}t.$inject=["$scope","$element","$http","$timeout","$log","Dialog"],angular.module("itaca.components").component("chDownloadButton",{bindings:{url:"<",btnClass:"@",label:"@",labelClass:"@",iconClass:"@",downloadingLabel:"@",downloadingClass:"@",downloadReadyLabel:"@",downloadLabel:"@",maxRetry:"<?",retryDelay:"<?",onError:"&?"},controller:t,template:'<span class="no-padding no-margin"><md-button class="{{$ctrl.btnClass}}" ng-click="$ctrl.$download($event)" aria-label="{{$ctrl.label}}" ng-disabled="$ctrl.$$downloading"><span ng-if="!$ctrl.$$downloading" class="layout-row layout-align-center-center"><md-icon ng-show="$ctrl.iconClass" class="material-icons {{$ctrl.iconClass}}"></md-icon><span style="margin-left: 5px" class="{{$ctrl.labelClass}}">{{$ctrl.label}}</span></span><span ng-if="$ctrl.$$downloading" class="layout-row layout-align-center-center"><md-progress-circular class="{{$ctrl.downloadingClass}}" md-mode="indeterminate" md-diameter="20"></md-progress-circular><span style="margin-left: 5px" class="{{$ctrl.labelClass}}">{{$ctrl.downloadingLabel || $ctrl.label}}</span></span></md-button><a class="ch-download-button-link" download target="_blank"></a></span>'})}(),function(){"use strict";function t(i,o,l,t){var s=this;this.$onInit=function(){s.chDisabled=!!_.isBoolean(s.chDisabled)&&s.chDisabled,s.bgClass=s.bgClass||"bg-primary",s.easingClass=s.easingClass||"text-white",s.easingClassLimit=isFinite(parseInt(s.easingClassLimit))?parseInt(s.easingClassLimit):.5,s.easingClassLimit=s.easingClassLimit<=1?s.easingClassLimit:1,s.opacityLimit=isFinite(parseInt(s.opacityLimit))?parseInt(s.opacityLimit):450,s.$$contStyle={position:"fixed",width:"100%",top:"0",left:"0","z-index":"25"},s.$$transStyle={"z-index":"1"},s.$$baseBgStyle="position: absolute; z-index: -1; height: 100%; width: 100%; top: 0; left: 0;",s.$initWatches()},this.$postLink=function(){s.$manageDisabled()},this.$onChanges=function(t){t&&t.chDisabled&&s.$manageDisabled()},this.$manageDisabled=function(){s.chDisabled=!!_.isBoolean(s.chDisabled)&&s.chDisabled,s.chDisabled?s.$disableEasing():s.$enableEasing()},this.$enableEasing=function(){s.$$transClass=s.easingClass,angular.element(l).on("scroll",s.$ease)},this.$disableEasing=function(){angular.element(l).off("scroll",s.$ease),s.$$bgStyle=s.$$baseBgStyle+"opacity: 1 !important;",s.$$transClass="",i.$broadcast("easing-bg",{opacity:1})},this.$ease=function(){s.chDisabled?s.$disableEasing():t(s.$doEase)},this.$doEase=function(){var t=l.pageYOffset;if(document.body){var e=window.getComputedStyle(document.body).getPropertyValue("top");t+=e?Math.abs(parseInt(e)):0}var n=0+t/(s.opacityLimit-o[0].childNodes[0].offsetHeight),a=1<=n?1:n;s.$$bgStyle=s.$$baseBgStyle+"opacity: "+a+"!important;",a<=s.easingClassLimit?s.$$transClass=s.easingClass:s.$$transClass="",i.$broadcast("easing-bg",{opacity:a}),i.$apply()},this.$initWatches=function(){i.$watch(function(){return document.body.scrollHeight},s.$ease)},this.$onDestroy=function(){s.$disableEasing()}}t.$inject=["$scope","$element","$window","$timeout"],angular.module("itaca.components").component("chEasingBg",{transclude:!0,bindings:{bgClass:"@?",easingClass:"@?",easingClassLimit:"<",opacityLimit:"<",chDisabled:"<"},controller:t,template:'<div class="ch-easing-bg" ng-style="$ctrl.$$contStyle"><div class="{{$ctrl.bgClass}}" ng-attr-style="{{$ctrl.$$bgStyle}}"></div><div ng-transclude class="{{$ctrl.$$transClass}}" ng-style="$ctrl.$$transStyle"></div></div>'})}(),function(){"use strict";function t(t,e,n,a){var i=this;this.$onInit=function(){i.storageUrl?i.initGridList():e.get().then(function(t){i.storageUrl=t.url,i.initGridList()})},this.openGallery=function(t,e){n.showGallery(t,i.galleryTitle,i.gallery,{storageUrl:i.storageUrl,initialSlide:e||0})},this.initGridList=function(){if(!_.isEmpty(i.gallery)){i.ratio=i.ratio||"4:3",i.maxCols=i.gallery.length,i.cols&&(i.colsArray=[],i.totalCols=0,_.forEach(i.cols.split(":"),function(t){var e=Math.abs(parseInt(t));i.totalCols+=e,i.colsArray.push(e)}),i.maxCols=a.lcmArray(i.colsArray),i.maxCols=i.gallery.length<i.colsArray[0]?i.gallery.length:i.maxCols),i.previewGallery=[],i.more=!1;var t=_.size(i.gallery);if(!(t<=0)){if(t>=i.totalCols){var e=i.maxItems?t-i.maxItems:t-i.totalCols;i.previewGallery=_.dropRight(i.gallery,e),i.more=t>i.totalCols}else i.previewGallery=i.gallery;if(i.rowspan&&(i.rowspanArray=[],_.forEach(i.rowspan.split(":"),function(t){i.rowspanArray.push(Math.abs(parseInt(t)))})),i.tilesConfig=[],_.forEach(i.previewGallery,function(t,a){_.isEmpty(i.colsArray)?i.tilesConfig.push({colspan:1}):_.forEach(i.colsArray,function(t,e,n){if(a<(0==e?t:t+n[e-1])||e+1==n.length)return i.tilesConfig.push({colspan:i.maxCols/t}),!1})}),1<_.size(i.tilesConfig)){var n=0;_.forEach(i.tilesConfig,function(t,e){_.isEmpty(i.rowspanArray)?t.rowspan=1:(n+=t.colspan,t.rowspan=i.rowspanArray[Math.ceil(n/i.maxCols)-1]||1)})}else i.tilesConfig[0].rowspan=1}}}}t.$inject=["$scope","AboutStorage","Dialog","NumberUtils"],angular.module("itaca.components").component("chGallery",{require:{},bindings:{gallery:"<?",storageUrl:"<?",galleryTitle:"@",cols:"@",rowspan:"@?",ratio:"@?",maxItems:"<?"},controller:t,template:'<div ng-if="$ctrl.gallery.length"><md-grid-list md-cols="{{$ctrl.maxCols}}" md-row-height="{{$ctrl.ratio}}" md-gutter="6px" md-gutter-gt-sm="4px"><md-grid-tile class="bg-black-light clickable" ng-repeat="photo in $ctrl.previewGallery track by $index" ng-click="$ctrl.openGallery($event, $index)" aria-lable="open gallery" md-colspan="{{$ctrl.tilesConfig[$index].colspan}}" md-rowspan="{{$ctrl.tilesConfig[$index].rowspan}}" style="overflow: hidden;"><span ng-class="{\'locked layout-row layout-align-start-center\': $last && $ctrl.more}"><strong ng-if="$last && $ctrl.more" class="locked-string locked-string-initial bg-opaque-7 text-uppercase"><span ng-if="($ctrl.gallery.length - $ctrl.previewGallery.length) == 1" translate="photo.photo.other.count"></span><span ng-if="($ctrl.gallery.length - $ctrl.previewGallery.length) != 1" translate="photo.photos.other.count" translate-value-count="{{$ctrl.gallery.length - $ctrl.previewGallery.length}}"></span></strong><img ng-src="{{$ctrl.storageUrl + photo.path}}" alt="{{photo.tags[0]}}" lazy-image default-img-url="\'/resources/public/img/no-gallery-image.png\'"></span></md-grid-tile></md-grid-list></div><div ng-if="!$ctrl.gallery.length"><img src="/resources/public/img/no-gallery-image.png" class="full-width"></div>'})}(),function(){"use strict";function t(t){var e=this;this.$onInit=function(){e.markerType=_.includes(["pointer","price","name"],_.toLower(e.markerType))?_.toLower(e.markerType):"pointer"},this.$hotelClick=function(t){e.onHotelClick&&e.onHotelClick({$event:t,hotel:e.hotel})}}t.$inject=["$scope"],angular.module("itaca.components").component("chHotelMapInfoWindow",{require:{chHotelMapCtrl:"^chHotelMap",ngMapCtrl:"^ngMap"},bindings:{hotel:"<",showGallery:"<?",storageUrl:"@",markerType:"@",onHotelClick:"&?"},controller:t,template:'<info-window id="hotel-iw"><div ng-if="$ctrl.hotel" ng-non-bindable style="max-width: 300px;"><div ng-if="$ctrl.showGallery" style="width: 100; max-height: 200px"><div class="relative"><div class="img-top-bar"><div class="img-top-left-cont layout-row"><div class="md-subhead row-mini" ng-if="$ctrl.hotel.recommended"><small class="label gradient-yellow"><md-icon class="mdi mdi-thumb-up md-14 text-white"></md-icon>&nbsp;<span translate="common.recommended"></span></small></div><div flex></div><ch-hotel-favorite ng-if="$ctrl.hotel" hotel="$ctrl.hotel"></ch-hotel-favorite></div></div><img ng-if="!$ctrl.hotel.gallery.length" class="main-image" ng-attr-alt="{{$ctrl.hotel.name}}" src="/resources/public/img/header.jpg"><ch-sliding-gallery ng-if="$ctrl.hotel.gallery.length"gallery="$ctrl.hotel.gallery"dialog-title="{{$ctrl.hotel.name}}"tooltip="{{\'hotel.gallery.view.click\'|translate}}"base-url="$ctrl.storageUrl"sort="true"autoplay="0"slide-cls="bg-header"open-on-click="true"></ch-sliding-gallery></div></div><div layout="column" class="md-padding no-padding-left no-padding-right no-padding-bottom text-left"><div flex><div md-truncate><span class="md-subhead">{{$ctrl.hotel.name}}</span></div><div layout><div flex><div><small class="label label-inline-block gradient-gray text-white text-wrap"><span translate="hotel.type.{{$ctrl.hotel.type}}"></span></small></div><div class="md-body-1 text-gray-light"><span>{{$ctrl.hotel.addressInfo.district}}</span>,&nbsp;<strong>{{$ctrl.hotel.addressInfo.city}}</strong></div><div class="md-body-1 text-gray-light"><md-icon class="mdi mdi-map-marker md-14"></md-icon>&nbsp;<small><em>{{$ctrl.hotel.addressInfo.address}},&nbsp;{{$ctrl.hotel.addressInfo.zipcode}}</em></small></div></div><div ng-if="$ctrl.markerType == \'price\'"><md-button ng-if="$ctrl.hotel.price" class="only-border border-success text-success no-margin-top no-margin-right"><div class="row-mini text-left"><div layout="column"><small><span class="text-initial" translate="common.from"></span><i ng-if="$ctrl.hotel.price.amount.initialAmount > 0 && $ctrl.hotel.price.amount.initialAmount > $ctrl.hotel.price.amount.finalAmount">&nbsp;<del>{{$ctrl.hotel.price.amount.initialAmount|chCurrency}}</del></i></small><span class="md-subhead row-mini"><strong>{{($ctrl.hotel.price.amount.finalAmount|chCurrency)}}</strong></span><small ng-if="$ctrl.hotel.nights > 0" class="text-lowercase"><span translate="common.for"></span>&nbsp;{{$ctrl.hotel.nights}}&nbsp;<span ng-show="$ctrl.hotel.nights == 1" translate="common.night"></span><span ng-show="$ctrl.hotel.nights > 1" translate="common.nights"></span></small></div></div></md-button><div ng-if="!$ctrl.hotel.price" layout="column" class="text-warn"><md-icon class="mdi mdi-emoticon-sad md-32 text-warn"></md-icon><strong translate="reservation.availability.missed"></strong></div></div></div></div><div ng-if="$ctrl.markerType == \'price\'"><div layout layout-padding layout-wrap class="no-padding-right no-padding-left no-padding-bottom" ng-if="$ctrl.hotel.price && $ctrl.hotel.roomsCounter.actual >= 1"><div flex-xs="100" flex-gt-xs layout layout-align="start center" class="text-success no-padding-left"><strong><em translate="reservation.availability.ok.simple"></em></strong></div><div flex-xs="100" flex layout="column" class="no-padding"><md-button class="bg-success no-margin-left no-margin-right" ng-click="$ctrl.$hotelClick()" aria-label="Book now"><span translate="common.book"></span></md-button></div></div><div layout layout-padding layout-wrap class="no-padding-right no-padding-left no-padding-bottom" ng-if="!$ctrl.hotel.price || $ctrl.hotel.roomsCounter.actual <= 0"><div flex-xs="100" flex-gt-xs layout layout-align="start center" class="text-warn no-padding-left"><strong><em translate="reservation.availability.missed.full"></em></strong></div><div flex-xs="100" flex layout="column" class="no-padding"><md-button class="bg-warn no-margin-left no-margin-right" ng-click="$ctrl.$hotelClick()" aria-label="Search other dates"><span translate="reservation.view.other.period"></span></md-button></div></div></div></div></div></info-window>'})}(),function(){"use strict";function t(t){var a=this;this.$onInit=function(){a.markerType=_.includes(["pointer","price","name"],_.toLower(a.markerType))?_.toLower(a.markerType):"pointer",a.$$markerIcon="/resources/public/img/map-marker.01.png",a.$getMarkerPosition()},this.$getMarkerPosition=function(){if(a.hotel){var n=a.hotel.addressInfo.address+", "+a.hotel.addressInfo.city+", "+a.hotel.addressInfo.zipcode;a.chHotelMapCtrl.$$geocoder.geocode({address:n},function(t,e){e==google.maps.GeocoderStatus.OK?a.$$position=t[0].geometry.location:console.error("Error geocoding hotel '"+a.hotel.name+"' (address: "+n+"): "+e)})}},this.$setSelected=function(t,e,n){e&&(e.selectEffect=!1,e.selected=!_.isBoolean(n)||n)},this.$showDetails=function(t,e,n){a.chHotelMapCtrl.$$currHotel&&a.chHotelMapCtrl.$$currHotel.id==e.id||(a.$hideDetails(t,a.chHotelMapCtrl.$$currHotel),a.$setSelected(t,e,!0),a.chHotelMapCtrl.$$currHotel=e),a.chHotelMapCtrl.$$map.showInfoWindow("hotel-iw",n?"cmk_"+e.id:"mk_"+e.id)},this.$hideDetails=function(t,e){a.$setSelected(t,e,!1),a.chHotelMapCtrl.$$map.hideInfoWindow("hotel-iw")}}t.$inject=["$scope"],angular.module("itaca.components").component("chHotelMapMarker",{require:{chHotelMapCtrl:"^chHotelMap"},bindings:{hotel:"<",markerType:"@"},controller:t,template:'<div ng-if="$ctrl.hotel" ng-switch="$ctrl.markerType"><div ng-switch-when="pointer"><marker class="clickable" id="mk_{{$ctrl.hotel.id}}" ng-if="$ctrl.$$position" position="[{{$ctrl.$$position.lat()}}, {{$ctrl.$$position.lng()}}]" icon="{{$ctrl.$$markerIcon}}" on-mouseover="$ctrl.$showDetails($ctrl.hotel);"></marker></div><div ng-switch-default><custom-marker id="cmk_{{$ctrl.hotel.id}}" ng-if="$ctrl.$$position" position="[{{$ctrl.$$position.lat()}}, {{$ctrl.$$position.lng()}}]"on-click="$ctrl.$showDetails($ctrl.hotel, true)" on-mouseover="$ctrl.$setSelected($ctrl.hotel, true)" on-mouseout="$ctrl.$setSelected($ctrl.hotel, false)"><div class="clickable" ng-class="{\'animated bounce\': $ctrl.hotel.selected && $ctrl.hotel.selectEffect}"><div class="ch-marker-inner md-caption" ng-class="{\'bg-primary\': $ctrl.markerType == \'name\' || $ctrl.hotel.selected,\'bg-primary-light\': $ctrl.markerType == \'price\' && !$ctrl.hotel.selected && $ctrl.hotel.price ,\'bg-gray-light\': $ctrl.markerType == \'price\' && !$ctrl.hotel.selected && !$ctrl.hotel.price}" ng-switch="$ctrl.markerType"><span ng-switch-when="price"><div ng-if="$ctrl.hotel.price"><span>{{($ctrl.hotel.price.amount.finalAmount|chCurrency)}}</span></div><div ng-if="!$ctrl.hotel.price"><md-icon class="mdi mdi-emoticon-sad md-18 text-white"></md-icon></div></span><strong ng-switch-default>{{$ctrl.hotel.name}}</strong></div><div class="arrow-down arrow-sm" ng-class="{\'border-primary\': $ctrl.markerType == \'name\' || $ctrl.hotel.selected,'+"'border-primary-light': $ctrl.markerType == 'price' && !$ctrl.hotel.selected && $ctrl.hotel.price ,'border-gray-light': $ctrl.markerType == 'price' && !$ctrl.hotel.selected && !$ctrl.hotel.price}\"></div></div></custom-marker></div></div>"})}(),function(){"use strict";function t(t,a,e){var i=this;this.$$geocoder=new google.maps.Geocoder,this.$onInit=function(){i.showGallery=!!_.isBoolean(i.showGallery)&&i.showGallery,i.disableUi=!!_.isBoolean(i.disableUi)&&i.disableUi,i.markerType=_.includes(["pointer","price","name"],_.toLower(i.markerType))?_.toLower(i.markerType):"pointer",i.mapClass=i.mapClass||"flex",i.disableScrollwheel=!!_.isBoolean(i.disableScrollwheel)&&i.disableScrollwheel,i.$initLocations()},this.$initLocations=function(){if(!i.hotel&&!i.hotels&&!i.address)throw new Error("You must pass an Hotel Object or Array of Hotel Objects or address at least");if(i.hotel&&!angular.isObject(i.hotel))throw new Error("You must pass an Hotel Object in 'hotel' parameter");if(i.hotels&&!angular.isArray(i.hotels))throw new Error("You must pass an Array of Hotel Objects in 'hotels' parameter");i.$$centerObj=new google.maps.LatLng(0,0),i.$$center=i.$$centerObj.toJSON()},this.$initMap=function(t){i.$$map=t,i.$getCenter(t),i.$initWatchers(),google.maps.event.trigger(t,"resize")},this.$getCenter=function(n){if(n)if(_.isEmpty(i.hotels)&&_.isNil(i.hotel))_.isNil(i.address)?(i.$$centerObj=new google.maps.LatLng(0,0),i.$updateCenter(n)):$$geocoder.geocode({address:i.address},function(t,e){e==google.maps.GeocoderStatus.OK?i.$$centerObj=t[0].geometry.location:(console.error("Error geocoding address: "+i.address+": "+e),i.$$centerObj=new google.maps.LatLng(0,0)),i.$updateCenter(n)});else{var e=0,a=0;_.forEach(n.markers,function(t){e+=t.position.lat(),a+=t.position.lng()}),_.forEach(n.customMarkers,function(t){e+=t.position.lat(),a+=t.position.lng()});var t=_.size(n.markers)+_.size(n.customMarkers);i.$$centerObj=t?new google.maps.LatLng({lat:e/t,lng:a/t}):new google.maps.LatLng(0,0),i.$updateCenter(n)}},this.$updateCenter=function(t){e(function(){_.isNil(i.$$centerObj)&&(i.$$centerObj=new google.maps.LatLng(0,0)),_.assign(i.$$center,i.$$centerObj.toJSON()),google.maps.event.trigger(t,"resize")},1e3)},this.$initWatchers=function(){t.$watchCollection(function(){return i.$$map.markers},function(t,e){i.$getCenter(i.$$map)}),t.$watchCollection(function(){return i.$$map.customMarkers},function(t,e){i.$getCenter(i.$$map)})},t.$watch(function(){var t=a.parent()[0],e=t.style.paddingTop||0,n=t.style.paddingBottom||0;return t.offsetHeight-e-n},function(t,e){i.$$mapStyle={height:t+"px",width:"100%"},i.$$map&&(google.maps.event.trigger(i.$$map,"resize"),i.$getCenter(i.$$map))})}t.$inject=["$scope","$element","$timeout"],angular.module("itaca.components").component("chHotelMap",{bindings:{hotels:"<?",hotel:"<?",address:"<?",showGallery:"<?",storageUrl:"@",markerType:"@",searchParams:"<?",disableUi:"<?",disableScrollwheel:"<?",mapClass:"@",onHotelClick:"&?"},controller:t,template:'<ng-map class="{{$ctrl.mapClass}}" ng-style="$ctrl.$$mapStyle" default-style="false" zoom-to-inlude-markers="true" disable-default-ui="{{$ctrl.disableUi}}" center="[{{$ctrl.$$center.lat}}, {{$ctrl.$$center.lng}}]" map-initialized="$ctrl.$initMap(map)" zoom="14" clickable-icons="false" trigger-resize="true" scrollwheel="{{!$ctrl.disableScrollwheel}}"><div ng-if="$ctrl.hotel"><ch-hotel-map-marker hotel="$ctrl.hotel" marker-type="{{$ctrl.markerType}}"></ch-hotel-map-marker></div><div ng-if="$ctrl.hotels" ng-repeat="hotel in $ctrl.hotels"><ch-hotel-map-marker hotel="hotel" marker-type="{{$ctrl.markerType}}"></ch-hotel-map-marker></div><ch-hotel-map-info-window hotel="$ctrl.$$currHotel" marker-type="{{$ctrl.markerType}}" show-gallery="$ctrl.showGallery" storage-url="{{$ctrl.storageUrl}}" on-hotel-click="$ctrl.onHotelClick"></ch-hotel-map-info-window></ng-map>'})}(),function(){"use strict";function t(t,a,e,i,n){var o=this;this.$$iconsSourcesUrls=["/public/data/icon-classes.json"],this.$onInit=function(){o.$initModel(),o.$initIcons()},this.$onChanges=function(t){(t.ngModel||t.ngDisabled)&&o.$initModel(),(t.icons||t.iconsSourcesUrls)&&o.$initIcons()},this.$initModel=function(){o.ngDisabled||_.isPlainObject(o.ngModel)&&o.ngModel.cssClass?(o.$$exists=!0,o.$cancelIconSelect()):(o.$$exists=!1,o.$showIconSelect())},this.$initIcons=function(){if(_.isArray(o.icons)&!_.isEmpty(o.icons))o.$initLoader(o.icons);else{o.iconsSourcesUrls=_.isArray(o.iconsSourcesUrls)?o.iconsSourcesUrls:o.$$iconsSourcesUrls;var n=[];_.forEach(o.iconsSourcesUrls,function(t){var e=a.get(t).then(function(t){return t.data});n.push(e)}),o.$$error=void 0,e.all(n).then(function(t){var e=[];_.forEach(t,function(t){e=_.union(e,t)}),o.$initLoader(_.compact(e))},function(t){i.error("Error loading icon list"),o.$$error="Error loading icon list"})}},this.$initLoader=function(t){o.$$loader=new n(t,{size:30,sort:["cssClass"]}),o.$$loader.nextPage(),o.$initFilterWatcher()},this.$initFilterWatcher=function(){o.$$stopFilterWatcher||(o.$$stopFilterWatcher=t.$watch(function(){return o.$$loader&&o.$$loader.params?o.$$loader.params.filter:null},function(t,e){o.$$loader&&o.$$loader.reload()}))},this.$selectIcon=function(t){if(o.ngDisabled||o.ngReadonly||!t||!t.cssClass)return!1;o.$update(t),o.$cancelIconSelect()},this.$showIconSelect=function(){o.$$showIcons=!0,o.$$loader&&(o.$$loader.params.filter=null)},this.$cancelIconSelect=function(){o.$$showIcons=!1,o.$$loader&&(o.$$loader.params.filter=null)},this.$update=function(t){o.ngModelCtrl.$setViewValue(t)}}t.$inject=["$scope","$http","$q","$log","InfinitePaging"],angular.module("itaca.components").component("chIconSelect",{require:{ngModelCtrl:"ngModel"},bindings:{ngModel:"<",label:"@",icons:"<?",hideFilter:"<?",iconsSourcesUrls:"<?",ngDisabled:"<?",ngReadonly:"<?"},controller:t,templateUrl:"/tpls/icon-select/icon-select.tpl"})}(),function(){"use strict";function t(t){var e=this;this.$onInit=function(){e.invoice=e.chInvoiceCtrl.invoice}}t.$inject=["$scope"],angular.module("itaca.components").component("chInvoiceHeader",{require:{chInvoiceCtrl:"^^chInvoice"},controller:t,templateUrl:"/tpls/invoice/invoice-header.tpl"})}(),function(){"use strict";function t(t){var e=this;this.$onInit=function(){e.invoice=e.chInvoiceCtrl.invoice}}t.$inject=["$scope"],angular.module("itaca.components").component("chInvoiceItems",{require:{chInvoiceCtrl:"^^chInvoice"},controller:t,templateUrl:"/tpls/invoice/invoice-items.tpl"})}(),function(){"use strict";function t(t){this.$onInit=function(){}}t.$inject=["$scope"],angular.module("itaca.components").component("chInvoice",{transclude:!0,bindings:{invoice:"<"},controller:t,template:"<div flex layout-fill ng-transclude></div>"})}(),function(){"use strict";function t(n,a,i,o,e){var l=this;this.$onInit=function(){l.labelPosition=_.includes(["top","left"],l.labelPosition)?l.labelPosition:"top",l.size=_.includes(["small","medium","big"],l.size)?l.size:"medium",l.buttonClass=l.buttonClass||"no-margin",l.hasBackdrop=!_.isNil(l.hasBackdrop)&&l.hasBackdrop,l.timezone=_.isBoolean(l.useUtc)&&l.useUtc?"UTC":"",l.$manageShowYear(),l.$manageSelectedLabel();var t=a[0].querySelector(".ch-month-picker-button"),e=i.newPanelPosition().relativeTo(angular.element(t)).addPanelPosition(i.xPosition.CENTER,i.yPosition.BELOW);l.$$config={attachTo:angular.element(document.body),controller:s,controllerAs:"$ctrl",templateUrl:"/tpls/month-picker/month-picker.tpl",position:e,clickOutsideToClose:!0,disableParentScroll:l.disableParentScroll,hasBackdrop:!o("gt-xs")||l.hasBackdrop,fullscreen:!1,panelClass:"bg-white md-whiteframe-15dp",trapFocus:!0,onCloseSuccess:function(t,e){n.chMonthPickerTriggerForm.date.$setTouched(),_.isBoolean(e)&&e&&(l.$updateOriginal(),l.onClose&&l.onClose({$date:l.ngModel})),(l.hasBackdrop||l.disableBodyScroll)&&l.$toggleBodyScroll(!1)},onOpenComplete:function(){(l.hasBackdrop||l.disableBodyScroll)&&l.$toggleBodyScroll(!0)}},l.ngModelCtrl.$formatters.push(function(t){var e=moment(t);return e.isValid()?e.format("MMM"):t}),l.ngModelCtrl.$parsers.push(function(t){var e=moment(t),n=e.isValid();return l.ngModelCtrl.$setValidity("date",n),n?e.toDate():t})},this.$onChanges=function(t){t.ngModel&&(l.$manageShowYear(),l.$manageSelectedLabel())},this.$manageShowYear=function(){!_.isNil(l.showYear)&&_.isBoolean(l.showYear)||(l.$$showYear=!moment(l.ngModel).isSame(moment(),"years"))},this.$toggleBodyScroll=function(t){angular.element(document.body).css({overflow:t?"hidden":"auto"})},this.$openPanel=function(t){if(!l.ngReadonly){l.$$data={current:l.ngModel,min:l.minDate,max:l.maxDate};var e={hasConfirm:!!_.isBoolean(l.hasConfirm)&&l.hasConfirm,useUtc:!!_.isBoolean(l.useUtc)&&l.useUtc,data:l.$$data};l.$$config.openFrom=t,l.$$config.hasBackdrop=!o("gt-xs")||l.hasBackdrop,l.$$config.fullscreen=!o("gt-xs"),l.$$config.locals=e,i.open(l.$$config)}},this.$updateOriginal=function(){l.$$data&&(n.chMonthPickerTriggerForm.date.$setDirty(),l.ngModelCtrl.$setViewValue(l.$getDate(l.$$data.current)),l.$manageShowYear(),l.$manageSelectedLabel(),l.minDate=l.$getDate(l.$$data.min),l.maxDate=l.$getDate(l.$$data.max))},this.$manageSelectedLabel=function(){angular.isFunction(l.selectedText)&&(l.$$selectedText=l.selectedText({$date:l.ngModel}))},this.$getDate=function(t){var e=l.$getMoment(t);return e?e.toDate():null},this.$getMoment=function(t){return t?_.isBoolean(l.useUtc)&&l.useUtc?e.absoluteMoment(t):moment(t):null}}function s(n,t,e,a){var i=this;this.init=function(){i.timezone=_.isBoolean(i.useUtc)&&i.useUtc?"UTC":"",i.modelOptions=_.isBoolean(i.useUtc)&&i.useUtc?{timezone:"UTC"}:{}},n.$on("md-calendar-change",function(t,e){i.hasConfirm||i.confirm()}),this.$getMoment=function(t){return i.useUtc?e.absoluteMoment(t):moment(t)},n.$watch(function(){return i.data.current},function(t,e){n.currentDate=i.data.end?i.$getMoment(i.data.end).toDate():null}),this.confirm=function(){t&&t.close(!0)},this.cancel=function(){t&&t.close(!1)},this.init()}t.$inject=["$scope","$element","$mdPanel","$mdMedia","DateUtils"],s.$inject=["$scope","mdPanelRef","DateUtils","$timeout"],angular.module("itaca.components").component("chMonthPicker",{require:{ngModelCtrl:"ngModel"},bindings:{buttonClass:"@",wrapperClass:"@",label:"@",labelPosition:"@",placeholder:"@",selectedText:"&",hideIcon:"<?",iconColorClass:"@",showYear:"<?",ngModel:"<",minDate:"<?",maxDate:"<?",errorMessages:"<?",useUtc:"<?",hasBackdrop:"<?",hasConfirm:"<?",disableParentScroll:"<?",disableBodyScroll:"<?",onClose:"&?",ngRequired:"<?",ngDisabled:"<?",size:"@"},controller:t,templateUrl:"/tpls/month-picker/month-picker-trigger.tpl"})}(),function(){"use strict";function t(t){var e=this;this.$onInit=function(){e.titleClass="md-body-1 no-margin-bottom"}}t.$inject=["$scope"],angular.module("itaca.components").component("chNoShowPolicyInfo",{bindings:{noShowPolicy:"<",title:"@",titleClass:"@"},controller:t,templateUrl:"/tpls/no-show-policy-info/no-show-policy-info.tpl"})}(),function(){"use strict";function t(t,e,n){var a=this;a.$onInit=function(){a.$$originalValue=a.referTo||angular.copy(a.ngModel),a.cssClass=a.cssClass||"label bg-blue-sea"}}t.$inject=["$scope","$element","$attrs"],angular.module("itaca.components").component("chOriginalValue",{require:{ngModelCtrl:"ngModel"},bindings:{ngModel:"=",referTo:"=?",label:"@",filter:"@",cssClass:"@"},controller:t,template:'<span class="{{$ctrl.cssClass}}" ng-if="$ctrl.$$originalValue != $ctrl.ngModel"><span>{{$ctrl.label}}:&nbsp;</span><span ng-if="$ctrl.filter">{{::($ctrl.$$originalValue|useFilter:$ctrl.filter)}}</span><span ng-if="!$ctrl.filter">{{::$ctrl.$$originalValue}}</span></span>'})}(),function(){"use strict";function t(t,e){var n=this;this.$onInit=function(){n.$initWatches()},this.$postLink=function(){n.$$innerEl=angular.element(e[0].querySelector(".ch-pad-top")),n.$setTop()},this.$onChanges=function(t){t&&(t.targetEl||t.chDisabled)&&n.$setTop()},this.$setTop=function(t){n.$$innerEl&&(t=isFinite(t)?t:n.$getTargetElHeight(),n.$$innerEl.css({"padding-top":n.chDisabled?0:t+"px"}))},this.$getTargetElHeight=function(){var t=n.targetEl?document.querySelector(n.targetEl):null;if(t){var e=t.offsetHeight;return e||(e=t.childNodes[0]?t.childNodes[0].offsetHeight:e),e}},this.$initWatches=function(){t.$watch(n.$getTargetElHeight,function(t,e){n.$setTop(t)})}}t.$inject=["$scope","$element"],angular.module("itaca.components").component("chPadTop",{transclude:!0,bindings:{targetEl:"@",chDisabled:"<?"},controller:t,template:'<div flex class="ch-pad-top" ng-transclude></div>'})}(),function(){"use strict";function t(t){var e=this;this.$onInit=function(){e.$$bgStyle={"background-image":"url("+e.imageUrl+")"},e.hasBackdrop=!!_.isBoolean(e.hasBackdrop)&&e.hasBackdrop}}t.$inject=["$scope"],angular.module("itaca.components").component("chParallax",{bindings:{imageUrl:"@",containerClass:"@",bgClass:"@",hasBackdrop:"<?"},controller:t,transclude:!0,template:'<div class="ch-parallax {{$ctrl.containerClass}}"><div class="ch-parallax-bg {{$ctrl.bgClass}}" ng-style="$ctrl.$$bgStyle"></div><div ng-show="$ctrl.hasBackdrop"  class="ch-parallax-backdrop"></div><div class="ch-parallax-content" ng-transclude></div></div>'})}(),function(){"use strict";function t(t){var e=this;this.$onInit=function(){e.containerClass=e.containerClass||"md-block",e.inputName=e.inputName||"password",e.iconClass=_.isNil(e.iconClass)||_.isBoolean(e.iconClass)&&e.iconClass?"mdi mdi-key md-24":e.iconClass,e.showIconClass=_.isNil(e.showIconClass)||_.isBoolean(e.showIconClass)&&e.showIconClass?"mdi mdi-eye md-24":e.showIconClass,e.hideIconClass=_.isNil(e.hideIconClass)||_.isBoolean(e.hideIconClass)&&e.hideIconClass?"mdi mdi-eye-off md-24":e.hideIconClass,e.mdNoAsterisk=!!_.isBoolean(e.mdNoAsterisk)&&e.mdNoAsterisk}}t.$inject=["$scope"],angular.module("itaca.components").component("chPasswordInput",{require:{ngModelCtrl:"ngModel"},bindings:{ngModel:"=",containerClass:"@?",inputLabel:"@?",inputName:"@?",iconClass:"@?",showIconClass:"@?",hideIconClass:"@?",errorMessages:"<?",ngRequired:"<?",ngDisabled:"<?",ngReadonly:"<?",mdNoAsterisk:"<?"},controller:t,templateUrl:"/tpls/password-input/password-input.tpl"})}(),function(){"use strict";function t(n,t,e,a,i){var o=this;this.$$REGEXP=e,this.$$defaultSizes=["SINGLE","PER_PERSON","PER_ADULT","PER_BOY","PER_CHILD","PER_KID"],this.$$defaultFrequencies=["LUMP_SUM","DAILY","NIGHTLY","WEEKLY","MONTHLY","YEARLY"],this.$$minLengthUnits=["DAYS","WEEKS","MONTHS","YEARS"],this.$onInit=function(){o.$$paymentOption=angular.copy(o.paymentOption||{}),o.appOptions=t,o.hideLengths=!!_.isBoolean(o.hideLengths)&&o.hideLengths,o.ngDisabled=!!_.isBoolean(o.ngDisabled)&&o.ngDisabled},this.$postLink=function(){o.$initSizes(),o.$initFrequencies()},this.$onChanges=function(t){t.discount&&(o.$$paymentOption=angular.copy(o.paymentOption||{})),(t.sizes||t.disabledSizes)&&o.$initSizes(),(t.frequencies||t.disabledFrequencies)&&o.$initFrequencies(),t.hideLengths&&(o.$$paymentOption.minLength=null)},this.$initSizes=function(){var t=angular.copy(o.$$defaultSizes);_.isEmpty(o.sizes)||(t=_.intersection(o.$$defaultSizes,o.sizes)),o.$$sizes=[],_.forEach(t,function(t){o.$$sizes.push({value:t,disabled:_.includes(o.disabledSizes,t)&&!(o.paymentOption&&o.paymentOption.size==t)})})},this.$initFrequencies=function(){var t=angular.copy(o.$$defaultFrequencies);_.isEmpty(o.frequencies)||(t=_.intersection(o.$$defaultFrequencies,o.frequencies)),o.$$frequencies=[],_.forEach(t,function(t){o.$$frequencies.push({value:t,disabled:_.includes(o.disabledFrequencies,t)&&!(o.paymentOption&&o.paymentOption.frequency==t)})})},this.$onFrequencyChange=function(){switch(o.$$paymentOption.frequency){case"WEEKLY":o.$$disabledMinLengthUnits=["DAYS"];break;case"MONTHLY":o.$$disabledMinLengthUnits=["DAYS","WEEKS"];break;case"YEARLY":o.$$disabledMinLengthUnits=["DAYS","WEEKS","MONTHS"];break;default:o.$$disabledMinLengthUnits=[]}_.isPlainObject(o.$$paymentOption.minLength)&&_.includes(o.$$disabledMinLengthUnits,o.$$paymentOption.minLength.unit)&&(o.$$paymentOption.minLength.unit=_.difference(o.$$minLengthUnits,o.$$disabledMinLengthUnits)[0])},this.$cancel=function(t){o.onCancel&&o.onCancel({$event:t})},this.$confirm=function(t){var e=n.chPaymentOptionForm;if(e.$setSubmitted(),e.$invalid)return i.focusFirstInvalid(e.$name),!1;o.onSave&&o.onSave({$event:t,$paymentOption:o.$$paymentOption})}}t.$inject=["$scope","AppOptions","REGEXP","rangeFilter","FormUtils"],angular.module("itaca.components").component("chPaymentOptionEdit",{bindings:{paymentOption:"<",sizes:"<?",disabledSizes:"<?",frequencies:"<?",disabledFrequencies:"<?",lengths:"<?",disabledLengths:"<?",hideLengths:"<?",amountType:"@?",title:"@?",subtitle:"@?",sizeTitle:"@?",sizeSubtitle:"@?",frequencyTitle:"@?",frequencySubitle:"@?",lengthTitle:"@?",lengthSubtitle:"@?",amountTitle:"@?",amountSubtitle:"@?",onSave:"&?",onCancel:"&?",ngDisabled:"<?"},controller:t,templateUrl:"/tpls/payment-option/payment-option-edit.tpl"})}(),function(){"use strict";function t(t){var e=this;this.$onInit=function(){e.paymentOption.amount&&e.paymentOption.amount.finalAmount&&(e.$$initialAmount=angular.copy(e.paymentOption.amount.initialAmount||e.paymentOption.amount.finalAmount),e.$$finalAmount=angular.copy(e.paymentOption.amount.finalAmount),e.$applyDiscount())},this.$applyDiscount=function(){if(e.discount&&e.discount.finalAmount){var t="PRICE"!=e.discount.type?e.$$initialAmount-e.$$initialAmount/100*parseFloat(e.discount.finalAmount):0;e.$$finalAmount=e.$$finalAmount-t}},this.$onChanges=function(t){t.discount&&e.$applyDiscount()}}t.$inject=["$scope"],angular.module("itaca.components").component("chPaymentOption",{bindings:{paymentOption:"<",frequencyLabel:"@",sizeLabel:"@",amountClass:"@",discount:"<?"},controller:t,templateUrl:"/tpls/payment-option/payment-option.tpl"})}(),function(){"use strict";function t(t){var e=this;this.$onInit=function(){e.titleClass="md-body-1 no-margin-bottom"}}t.$inject=["$scope"],angular.module("itaca.components").component("chPaymentPolicyInfo",{bindings:{rateType:"<",cancellationPolicy:"<",city:"@",offset:"@",title:"@",titleClass:"@"},controller:t,templateUrl:"/tpls/payment-policy-info/payment-policy-info.tpl"})}(),function(){"use strict";function t(t,n,a){var i=this;t.$on("$localeChanged",i.$generateAgeHints),this.$onInit=function(){i.ngModelCtrl.$overrideModelOptions({allowInvalid:!0}),i.ngModelCtrl.$formatters.push(a.peopleSummary),i.ngModelCtrl.$validators.min=i.$checkMin,i.ngModelCtrl.$validators.max=i.$checkMax,i.$initWatchers()},this.$onChanges=function(t){_.isEmpty(t)||((t.people||t.maxPeople||t.max||t.limits)&&i.$manageLimits(),t.ageRanges&&i.$generateAgeHints())},this.$checkMin=function(t){return!i.min||(i.$$guestsCount=a.guestsCount(t),i.$$guestsCount.standard>=_.toInteger(i.min))},this.$checkMax=function(t){return!i.max||(i.$$guestsCount=a.guestsCount(t),i.$$guestsCount.standard<=_.toInteger(i.max))},this.$manageLimits=function(){i.limits=i.limits||{},i.limits.adults=i.$normalizeRange(i.limits.adults),i.limits.boys=i.$normalizeRange(i.limits.boys),i.limits.children=i.$normalizeRange(i.limits.children),i.limits.kids=i.$normalizeRange(i.limits.kids),i.$$peopleLimits=angular.copy(i.limits);var t=i.maxPeople||{adults:i.limits.adults.max,boys:i.limits.boys.max,children:i.limits.children.max,kids:i.limits.kids.max},e=a.peopleAvailability(t,i.people,i.max);i.$$peopleLimits.adults.max=e.adults,i.$$peopleLimits.boys.max=e.boys,i.$$peopleLimits.children.max=e.children,i.$$peopleLimits.kids.max=e.kids},this.$generateAgeHints=function(){n(["people.adults","people.boys","people.children","people.kids"]).then(function(t){i.$$adultsHint="<span>"+t["people.adults"]+"</span>"+(i.ageRanges?"&nbsp;<small>("+i.$generateAgeRangeHtmlLabel(i.ageRanges.adults)+")</small>":""),i.$$boysHint="<span>"+t["people.boys"]+"</span>"+(i.ageRanges?"&nbsp;<small>("+i.$generateAgeRangeHtmlLabel(i.ageRanges.boys)+")</small>":""),i.$$childrenHints="<span>"+t["people.children"]+"</span>"+(i.ageRanges?"&nbsp;<small>("+i.$generateAgeRangeHtmlLabel(i.ageRanges.children)+")</small>":""),i.$$kidsHints="<span>"+t["people.kids"]+"</span>"+(i.ageRanges?"&nbsp;<small>("+i.$generateAgeRangeHtmlLabel(i.ageRanges.kids)+")</small>":"")})},this.$generateAgeRangeHtmlLabel=function(t){if(t&&(t.min||t.max)){var e="";return e=_.isNil(t.min)||_.isNil(t.max)?_.isNil(t.min)?"date.years.max.range.abbr":"date.years.min.range.abbr":"date.years.range.abbr",n.instant(e,t)}},this.$normalizeRange=function(t){return t||(t={}),t.min=t.min||0,t},this.$initWatchers=function(){t.$watchCollection(function(){return i.people},function(t,e){_.isEqual(t,e)||(i.$manageLimits(),i.ngModelCtrl.$setDirty(),i.ngModelCtrl.$validate(),i.ngModelCtrl.$valid&&i.onChange&&i.onChange({$people:i.people}))})}}t.$inject=["$scope","$translate","ReservationUtils"],angular.module("itaca.components").component("chPeopleCounters",{require:{ngModelCtrl:"ngModel"},bindings:{people:"<ngModel",maxPeople:"<",min:"<",max:"<",limits:"<",ageRanges:"<",onChange:"&?"},controller:t,templateUrl:"/tpls/people-counters/people-counters.tpl"})}(),function(){"use strict";function t(t,e){var n=this;this.$onInit=function(){n.theme=_.includes(["dark","light"],n.theme)?n.theme:"light",n.iconClass=n.iconClass||"dark"!=n.theme?"text-white":"",n.size=_.includes(["big","small"],_.toLower(n.size))?n.size:"small",n.people=n.people||{},n.max=n.max||n.people.adults,n.$$maxUnderages=_.max([n.people.boys,n.people.children,n.people.kids]),n.$$maxUnderages=n.$$maxUnderages>n.max?n.max:n.$$maxUnderages,n.$$peopleDetails={adults:n.people.adults},n.extraMax=n.extraMax||(n.extraPeople?_.max([n.extraPeople.adults,n.extraPeople.boys,n.extraPeople.children,n.extraPeople.kids]):0),n.$$extra$$maxUnderages=n.extraPeople?_.max([n.extraPeople.boys,n.extraPeople.children,n.extraPeople.kids]):0,n.$$extra$$maxUnderages=n.$$extra$$maxUnderages>n.extraMax?n.extraMax:n.$$extra$$maxUnderages,n.$$extraPeopleDetails=n.extraPeople&&n.extraPeople.adults?{adults:n.extraPeople.adults}:n.extraPeople},this.$openDetails=function(t){_.isBoolean(n.hideDetails)&&n.hideDetails||e.paxDetails(t,{people:n.people,extraPeople:n.extraPeople,max:n.max,extraMax:n.extraMax})}}t.$inject=["$scope","Dialog"],angular.module("itaca.components").component("chPeopleIcons",{bindings:{people:"<",max:"<?",extraPeople:"<?",extraMax:"<?",hideDetails:"<?",hideInfoIcon:"<?",hideTooltip:"<?",hidePeople:"<?",hideExtraPeople:"<?",size:"@",theme:"@",iconClass:"@"},controller:t,template:'<div flex layout="column"><md-button class="minimal-button no-margin" ng-class="{\'layout-padding-sm\': $ctrl.size == \'big\'}" ng-click="$ctrl.$openDetails($event)" aria-label="Show pax details"><span layout layout-wrap layout-align="center center"><small ng-if="!$ctrl.hidePeople && $ctrl.people.adults"><span ng-if="$ctrl.size == \'small\'">{{$ctrl.people.adults}}</span><md-icon class="material-icons mdi {{$ctrl.iconClass}}" ng-class="{\'mdi-account-multiple\' : $ctrl.people.adults > 1, \'mdi-account\': $ctrl.people.adults == 1, \'md-18\': $ctrl.size == \'small\', \'md-48\': $ctrl.size == \'big\'}"></md-icon><span ng-if="$ctrl.size == \'big\' && !$ctrl.hideDetails && !$ctrl.hideInfoIcon">&nbsp;<md-icon class="material-icons mdi mdi-information-outline md-14 {{$ctrl.iconClass}}"></md-icon></span><div ng-if="$ctrl.size == \'big\'" class="row-1 text-wrap"><ch-people-summary class="text-lowercase" people="$ctrl.$$peopleDetails"></ch-people-summary>&nbsp;<span class="text-lowercase" translate="bed.beds.principal.into"></span></div></small><small ng-if="!$ctrl.hideExtraPeople && ($ctrl.extraPeople.adults || $ctrl.extraPeople.boys || $ctrl.extraPeople.children || $ctrl.extraPeople.kids)"><span ng-if="!$ctrl.hidePeople">&nbsp;+&nbsp;</span><span ng-if="$ctrl.size == \'small\'"><span ng-if="$ctrl.extraPeople.adults">{{$ctrl.extraPeople.adults}}</span><span ng-if="!$ctrl.extraPeople.adults && $$extra$$maxUnderages">{{$ctrl.$$extra$$maxUnderages}}</span></span><md-icon ng-if="$ctrl.extraPeople.adults" class="material-icons mdi {{$ctrl.iconClass}}" ng-class="{\'mdi-account-multiple\' : $ctrl.extraPeople.adults > 1, \'mdi-account\': $ctrl.extraPeople.adults == 1, \'md-18\': $ctrl.size == \'small\', \'md-48\': $ctrl.size == \'big\'}"></md-icon><md-icon ng-if="!$ctrl.extraPeople.adults && $ctrl.$$extra$$maxUnderages" class="material-icons mdi mdi-human-child {{$ctrl.iconClass}}" ng-class="{\'md-14\': $ctrl.size == \'small\', \'md-36\': $ctrl.size == \'big\'}"></md-icon><span ng-if="$ctrl.size == \'big\' && !$ctrl.hideDetails && !$ctrl.hideInfoIcon">&nbsp;<md-icon class="material-icons mdi mdi-information-outline md-14 {{$ctrl.iconClass}}"></md-icon></span><div ng-if="$ctrl.size == \'big\'" class="row-1 text-wrap"><ch-people-summary class="text-lowercase" people="$ctrl.$$extraPeopleDetails"></ch-people-summary>&nbsp;<span class="text-lowercase" translate="bed.otherbeds.into"></span></div></small><span ng-if="$ctrl.size == \'small\' && !$ctrl.hideDetails && !$ctrl.hideInfoIcon">&nbsp;<md-icon class="material-icons mdi mdi-information-outline md-14 {{$ctrl.iconClass}}"></md-icon></span><md-tooltip ng-if="!$ctrl.hideTooltip" class="auto-height text-wrap row-mini"><div class="text-wrap"><span ng-if="!$ctrl.hidePeople && $ctrl.people.adults"><ch-people-summary class="text-lowercase" people="$ctrl.$$peopleDetails"></ch-people-summary>&nbsp;<span class="text-lowercase" translate="bed.beds.principal.into"></span></span><span ng-if="!$ctrl.hideExtraPeople && ($ctrl.extraPeople.adults || $ctrl.extraPeople.boys || $ctrl.extraPeople.children || $ctrl.extraPeople.kids)"><span ng-if="!$ctrl.hidePeople">&nbsp;+&nbsp;</span><ch-people-summary class="text-lowercase" people="$ctrl.$$extraPeopleDetails"></ch-people-summary>&nbsp;<span class="text-lowercase" translate="bed.otherbeds.into"></span></span><span ng-if="$ctrl.$$maxUnderages || $ctrl.$$extra$$maxUnderages" class="text-lowercase">&nbsp;+&nbsp;<span translate="common.options.more.available"></span></span><div ng-if="!$ctrl.hideDetails"><em translate="common.information.further.click"></em></div></div></md-tooltip></span></md-button></div>'})}(),function(){"use strict";function t(t,e){var n=this;this.$onInit=function(){n.containerClass=n.containerClass||"md-block",n.people=n.people||{},n.inputName=n.inputName||"people",n.mdNoAsterisk=!_.isNil(n.mdNoAsterisk)&&n.mdNoAsterisk,n.$$data={people:n.people},n.$initWhatches()},this.$observeOriginal=function(){n.$$data=n.$$data||{},n.$$data.people=n.people},this.$observeWorking=function(){_.assign(n.people,n.$$data.people),e.peopleSummary(n.$$data.people).then(function(t){n.$$peopleSummary=t})},this.$initWhatches=function(){t.$watchCollection(function(){return n.people},n.$observeOriginal),t.$watchCollection(function(){return n.$$data.people},n.$observeWorking)}}t.$inject=["$scope","ReservationUtils"],angular.module("itaca.components").component("chPeopleInput",{bindings:{containerClass:"@",inputLabel:"@",inputName:"@",people:"=",ngRequired:"<?",mdNoAsterisk:"<?",hasClose:"<?"},controller:t,template:'<ng-form name="chPeopleInputForm"><md-input-container class="{{$ctrl.containerClass}}"><label><span ng-if="!$ctrl.inputLabel" translate="people.people"></span><span ng-if="$ctrl.inputLabel" ng-bind="$ctrl.inputLabel"></span></label><input type="area" name="{{$ctrl.inputName}}" ng-model="$ctrl.$$peopleSummary" class="clickable" on-click-panel=""/tpls/pax-counters.part"" has-backdrop="false"disable-parent-scroll="true" data="$ctrl.$$data" readonly ng-required="$ctrl.ngRequired" md-no-asterisk="mdNoAsterisk" has-close="$ctrl.hasClose"><div ng-messages="chPeopleInputForm[$ctrl.inputName].$error"><span ng-message="required"><span translate="error.required"></span></span></div></md-input-container></ng-form>'})}(),function(){"use strict";function t(n,e,a,t,i){var o=this;this.$mdMedia=t,this.$onInit=function(){o.fieldName=o.fieldName||"people",o.clickOutsideToClose=o.clickOutsideToClose||!0,o.hasBackdrop=!_.isNil(o.hasBackdrop)&&o.hasBackdrop,o.buttonClass=o.buttonClass||"no-padding no-margin layout-padding",o.wrapperClass=o.wrapperClass||"md-padding",o.labelClass=o.labelClass||"text-gray-light",o.$$panelClass="bg-white md-whiteframe-15dp";var t=a.newPanelPosition().relativeTo(e).addPanelPosition(a.xPosition.CENTER,a.yPosition.BELOW);o.$$panelConfig={attachTo:angular.element(document.body),controller:l,controllerAs:"$ctrl",templateUrl:"/tpls/people-picker/people-picker.tpl",position:t,clickOutsideToClose:o.clickOutsideToClose,disableParentScroll:o.disableParentScroll,hasBackdrop:o.hasBackdrop,fullscreen:!!_.isBoolean(o.fullscreen)&&o.fullscreen,panelClass:o.$$panelClass,locals:{data:o.$$workingData,maxCount:o.maxCount,hasConfirm:o.hasConfirm,hasClose:o.hasClose},onCloseSuccess:function(t,e){(!(!!_.isBoolean(o.hasConfirm)&&o.hasConfirm)||_.isBoolean(e)&&e)&&(_.assign(o.people,o.$$workingData.people),o.onClose&&o.onClose({$people:o.people})),(o.hasBackdrop||o.disableBodyScroll)&&o.$toggleBodyScroll(!1)},onOpenComplete:function(){(o.hasBackdrop||o.disableBodyScroll)&&o.$toggleBodyScroll(!0)}},o.zIndex&&(o.$$panelConfig.zIndex=o.zIndex),o.$initWatchers()},this.$toggleBodyScroll=function(t){angular.element(document.body).css({overflow:t?"hidden":"auto"})},this.$openPanel=function(t){o.people=o.people||{},o.$$workingData={people:angular.copy(o.people)},o.$$panelConfig.openFrom=t,o.$$panelConfig.locals={hasConfirm:o.hasConfirm,hasClose:o.hasClose},o.$$panelConfig.locals.data=o.$$workingData,o.$$panelConfig.locals.maxCount=o.maxCount,a.open(o.$$panelConfig)},this.$checkPeople=function(){o.$$hasPeople=o.people&&(o.people.adults||o.people.boys||o.people.children||o.people.kids);var t=n.chPeoplePickerForm[o.fieldName];if(t&&(o.$$hasPeople&&t.$setDirty(),o.minCount)){var e=i.guestsCount(o.people);e&&e.standard<o.minCount?t.$setValidity("min",!1):t.$setValidity("min",!0)}},this.$initWatchers=function(){n.$watchCollection(function(){return o.people},function(t,e){o.$checkPeople()}),n.$watchCollection(function(){return o.minCount},function(t,e){o.$checkPeople()})}}function l(t,e){var n=this;this.$init=function(){n.$peopleCount(n.data.people)},this.$peopleCount=function(t){if(n.maxCount&&t){var e=0;!_.isNil(t.adults)&&0<t.adults&&(e+=parseInt(t.adults)),!_.isNil(t.children)&&0<t.children&&(e+=parseInt(t.children)),!_.isNil(t.boys)&&0<t.boys&&(e+=parseInt(t.boys)),!_.isNil(t.kids)&&0<t.kids&&(e+=parseInt(t.kids)),n.data.plusDisabled=e>=n.maxCount}},t.$watchCollection(function(){return n.data.people},n.$init),n.$init(),this.cancel=function(){e&&e.close(!1)},this.confirm=function(){e&&e.close(!0)}}t.$inject=["$scope","$element","$mdPanel","$mdMedia","ReservationUtils"],l.$inject=["$scope","mdPanelRef"],angular.module("itaca.components").component("chPeoplePicker",{bindings:{buttonClass:"@",wrapperClass:"@",label:"@",labelClass:"@",people:"=",fieldName:"@",ngRequired:"<?",ngDisabled:"<?",hasBackdrop:"<?",hasConfirm:"<?",hasClose:"<?",disableParentScroll:"<?",disableBodyScroll:"<?",clickOutsideToClose:"<?",onClose:"&?",zIndex:"@",fullscreen:"<?",maxCount:"<?",minCount:"<?",errorMessages:"<?",showErrorIcon:"<?"},controller:t,templateUrl:"/tpls/people-picker/people-picker-trigger.tpl"})}(),function(){"use strict";function t(t,n,a){var i=this;this.$onInit=function(){i.$initWatchers()},this.$updateSummary=function(){if(i.noDetails){var e=n.guestsCount(i.people,i.extraPeople);!e&&e.total<=0?a("people.none").then(function(t){i.$$peopleSummary=t}):a("people.pax").then(function(t){i.$$peopleSummary=_.toLower(e.total+" "+t)})}else n.peopleSummary(i.people,i.extraPeople).then(function(t){i.$$peopleSummary=t})},this.$initWatchers=function(){t.$watchCollection(function(){return i.people},i.$updateSummary),t.$watchCollection(function(){return i.extraPeople},i.$updateSummary),t.$watchCollection(function(){return i.noDetails},i.$updateSummary)}}t.$inject=["$scope","ReservationUtils","$translate"],angular.module("itaca.components").component("chPeopleSummary",{bindings:{people:"<",extraPeople:"<?",noDetails:"<?"},controller:t,template:"<span>{{$ctrl.$$peopleSummary}}</span>"})}(),function(){"use strict";function t(t,e,n,a){var i=this;this.$onInit=function(){i.noAsterisk=!!_.isBoolean(i.noAsterisk)&&i.noAsterisk,i.inputName=i.inputName||"phone",i.ngPattern=i.ngPattern||n.phone,i.$$phone={},i.$$searchTerm={value:""},i.$decompilePhone(),i.$loadPrefixes(),i.$initWatchers()},this.$loadPrefixes=function(){a.all().then(function(t){_.forEach(t.content,function(t){t.code=t.code.toLowerCase()}),i.prefixes=t.content},function(t){e.error(t)})},this.$decompilePhone=function(){i.$$phone=i.$$phone||{},i.ngModel&&a.decompile(i.ngModel).then(function(t){_.assign(i.$$phone,t),_.isObject(t.prefix)||(i.$$phone.prefix={dial_code:t.prefix})},function(t){_.assign(i.$$phone,a.decompileSimple(i.ngModel)),i.$$phone.prefix={dial_code:i.$$phone.prefix}})},this.$clearSearchTerm=function(){i.$$searchTerm.value=""},this.$updateModel=function(){i.ngModel=i.$$phone&&i.$$phone.prefix&&i.$$phone.prefix.dial_code?a.compile(i.$$phone.prefix.dial_code,i.$$phone.number):i.ngModel},this.$initWatchers=function(){t.$watchCollection(function(){return i.$$phone},function(t,e){i.$updateModel()})}}t.$inject=["$scope","$log","REGEXP","PhoneList"],angular.module("itaca.components").component("chPhoneInput",{require:{ngModelCtrl:"ngModel"},bindings:{ngModel:"=",inputName:"@",label:"@",placeholder:"@",prefixLabel:"@",prefixPlaceholder:"@",searchPlaceholder:"@",ngPattern:"<",ngRequired:"=?",ngDisabled:"=?",errorMessages:"<",prefixErrorMessages:"<",noAsterisk:"<"},controller:t,template:'<ng-form name="chPhoneInputForm" ng-class="{\'text-gray-light cursor-disabled\': $ctrl.ngDisabled}" layout><div><md-input-container class="md-block"><label ng-show="$ctrl.prefixLabel">{{$ctrl.prefixLabel}}</label><md-select name="prefix" placeholder="{{$ctrl.prefixPlaceholder}}" ng-model="phone.prefix" ng-required="$ctrl.ngRequired" ng-disabled="$ctrl.ngDisabled" ng-attr-md-no-asterisk="$ctrl.noAsterisk" md-container-class="selectHeader" aria-label="prefix" md-on-close="$ctrl.$clearSearchTerm()"><md-subheader class="no-padding"><md-select-header class="select-header bg-white"><input ng-model="$ctrl.$$searchTerm.value" type="search" ng-keydown="$event.stopPropagation()" placeholder="{{$ctrl.searchPlaceholder}}"class="header-searchbox md-text" autofocus></md-select-header></md-subheader><md-option ng-repeat="prefix in $ctrl.prefixes | filter:searchTerm.value" ng-value="prefix" ng-selected="prefix.dial_code == $ctrl.$$phone.prefix.dial_code"><span class="flag-icon flag-icon-{{::prefix.code}}"></span><strong>&nbsp;{{::prefix.name}}</strong><span>&nbsp;({{::prefix.dial_code}})</span></md-option></md-select><div ng-if="$ctrl.prefixErrorMessages" ng-messages="chPhoneInputForm.prefix.$error"><div ng-repeat="errMsg in $ctrl.prefixErrorMessages track by $index" ng-message="{{errMsg.error}}">{{errMsg.message}}</div></div></md-input-container></div><div flex><md-input-container class="md-block no-padding-important"><label ng-if="$ctrl.label">{{$ctrl.label}}</label><input type="text" name="{{$ctrl.inputName}}" placeholder="{{$ctrl.placeholder}}" ng-model="$ctrl.$$phone.number" ng-pattern="$ctrl.ngPattern" \tng-required="$ctrl.ngRequired" ng-disabled="$ctrl.ngDisabled" aria-label="{{$ctrl.label || $ctrl.placeholder}}"><div ng-if="$ctrl.errorMessages" ng-messages="chPhoneInputForm[$ctrl.inputName].$error"><div ng-repeat="errMsg in $ctrl.errorMessages track by $index" ng-message="{{errMsg.error}}">{{errMsg.message}}</div></div></md-input-container></div></ng-form>'})}(),function(){"use strict";function t(t,e){var i=this;this.$mdMedia=e,this.DEFAULT_IMG_BASE_URL="resources/public/img/seasons/",this.$onInit=function(){i.$initBaseUrl(),i.$changeBg()},this.$onChanges=function(t){t.imgBaseUrl&&i.$initBaseUrl()},this.$initBaseUrl=function(){i.imgBaseUrl=i.imgBaseUrl||i.DEFAULT_IMG_BASE_URL,_.startsWith(i.imgBaseUrl,"/")?i.imgBaseUrl.substr(1):i.imgBaseUrl,_.endsWith(i.imgBaseUrl,"/"),i.imgBaseUrl},this.$onMonthChange=function(){i.$changeBg(),i.chPlanningCtrl.$setStartDate(i.chPlanningCtrl.$$startDate)},this.$getMonthLabel=function(){var n=i.chPlanningCtrl.$getSelectedMonths(),a="";return _.forEach(n,function(t,e){t=moment({month:n[e],day:1}).format("MMMM");a+=0<e?" - "+t:t}),a},this.$changeBg=function(){var t=moment(i.chPlanningCtrl.$$startDate).month(),e="";e=2<=t&&t<=4?"spring.png":5<=t&&t<=7?"summer.png":8<=t&&t<=10?"autumn.png":"winter.png",i.$$bgImage="url("+i.imgBaseUrl+e+")"},this.$goToToday=function(){i.chPlanningCtrl.$setStartDate(),i.$changeBg()},this.$prevWeek=function(){i.chPlanningCtrl.$setStartDate(moment(i.chPlanningCtrl.$$startDate).subtract(1,"weeks")),i.$changeBg()},this.$nextWeek=function(){i.chPlanningCtrl.$setStartDate(moment(i.chPlanningCtrl.$$startDate).add(1,"weeks")),i.$changeBg()},this.$dailyView=function(){i.chPlanningCtrl.$setView("D")},this.$weeklyView=function(){i.chPlanningCtrl.$setView("W")},this.$monthlyView=function(){i.chPlanningCtrl.$setView("M")}}t.$inject=["$scope","$mdMedia"],angular.module("itaca.components").component("chPlanningHeader",{require:{chPlanningCtrl:"^^chPlanning"},bindings:{imgBaseUrl:"@?"},controller:t,templateUrl:"/tpls/planning/planning-header.tpl"})}(),function(){"use strict";function t(t,e){var r=this;this.$mdMedia=e,this.$onInit=function(){r.$initDates()},this.$onChanges=function(t){t.dates?r.$initDates():t.reservations&&r.$initReservations()},this.$initDates=function(){r.$$viewDates=angular.copy(r.dates),r.$$startDate=_.minBy(r.$$viewDates,function(t){return t.getTime()}),r.$$endDate=_.minBy(r.$$viewDates,function(t){return t.getTime()}),r.$initReservations()},this.$initReservations=function(){var o=moment(r.$$startDate),l=moment(r.$$endDate),s=100/_.size(r.$$viewDates);_.forEach(r.$$viewDates,function(i){i.$reservations=_.filter(r.reservations,function(t){if(!_.some(t.rooms,function(t){return _.some(t.dailyDetails,function(t){return t.date.isSame(moment(i.date),"days")&&_.isEqual(room.id,r.room.id)})}))return!1;var e=moment(t.checkin),n=moment(t.checkout),a=Math.abs(e.diff(n.isAfter(l,"days")?l:n));return!!e.isSame(moment(i.date),"days")&&(t.position={left:s*Math.abs(o.diff(e,"days")),width:s*a},!0)})})}}t.$inject=["$scope","$mdMedia"],angular.module("itaca.components").component("chPlanningRoom",{require:{chPlanningCtrl:"^^chPlanning"},bindings:{room:"<",dates:"<",reservations:"<?"},controller:t,templateUrl:"/tpls/planning/planning-room.tpl"})}(),function(){"use strict";function t(t,e,n){var i=this;this.$mdMedia=e,this.$onInit=function(){i.$initRooms(),i.$setView(i.view),i.$setStartDate(i.startDate)},this.$onChanges=function(t){t.rooms&&i.$initRooms(),t.startDate&&i.$setStartDate(i.startDate),t.view&&i.$setView(i.view)},this.$initRooms=function(){if(_.isArray(i.rooms))i.$$roomsType="1";else{if(!(_.isObjectLike(i.rooms)&&i.rooms instanceof n))throw new Error("Rooms must be an array or an instance of InfinitePaging");i.$$roomsType="2",i.rooms.reset()}},this.$setView=function(t){i.$$currentView=_.includes(["D","W","M"],t)?t:"W",i.$setStartDate(i.$$startDate)},this.$setStartDate=function(t,e){switch(t=angular.isDate(t)?t:moment.isMoment(t)&&t.isValid()?t.toDate():moment().startOf("day").toDate(),i.$$currentView){case"D":i.$$startDate=t,i.$$endDate=moment(t).endOf("day").toDate();break;case"W":i.$$startDate=t,i.$$endDate=moment(t).add(6,"days").toDate();break;case"M":i.$$startDate=moment(t).startOf("month").toDate(),i.$$endDate=moment(t).endOf("month").toDate()}e||(i.$createDates(),i.onPeriodChange&&i.onPeriodChange({$start:i.$$startDate,$end:i.$$endDate}))},this.$createDates=function(){i.$$loading=!0,i.$$today=moment().startOf("day").toDate();var t=moment.range(moment(i.$$startDate),moment(i.$$endDate)),n=[],e=[];Array.from(t.by("days"),function(t){n.push(t.month());var e=t.toDate();this.push({uid:e.getTime(),date:e,isPast:t.isBefore(moment(),"days"),hotelStatus:null})},e),i.$$viewDates=e,n=_.uniq(n);var a="";_.forEach(n,function(t,e){t=moment({month:n[e],day:1}).format("MMMM");a+=0<e?" - "+t:t}),i.$$multiMonths=1<_.size(n),i.$$monthLabel=a,i.$$loading=!1},this.$getSelectedMonths=function(){i.$setStartDate(i.$$startDate,!0);var t=moment.range(moment(i.$$startDate),moment(i.$$endDate)),e=[];return Array.from(t.by("days"),function(t){this.push(t.month())},e),_.uniq(e)}}t.$inject=["$scope","$mdMedia","InfinitePaging"],angular.module("itaca.components").component("chPlanning",{transclude:!0,bindings:{rooms:"<",reservations:"<",view:"<?",startDate:"<?",onPeriodChange:"&?"},controller:t,templateUrl:"/tpls/planning/planning.tpl"})}(),function(){"use strict";function t(t,n,a,i){var o=this;this.$onInit=function(){o.type=_.includes(["nightly","normal"],_.toLower(o.type))?_.toLower(o.type):"normal",o.hasBackdrop=!_.isNil(o.hasBackdrop)&&o.hasBackdrop;var t=n[0].querySelector(".ch-price-range-button"),e=a.newPanelPosition().relativeTo(angular.element(t)).addPanelPosition(a.xPosition.CENTER,a.yPosition.BELOW);o.$$config={attachTo:angular.element(document.body),controller:"priceSliderCtrl",controllerAs:"ctrl",templateUrl:"/tpls/reservation-price-slider.part",position:e,clickOutsideToClose:!0,disableParentScroll:o.disableParentScroll,hasBackdrop:!i("gt-sm")||o.hasBackdrop,fullscreen:!i("gt-sm"),panelClass:"panel-medium bg-white md-whiteframe-15dp",trapFocus:!0,onCloseSuccess:function(t,e){(!(!_.isBoolean(o.hasConfirm)||o.hasConfirm)||_.isBoolean(e)&&e)&&o.$updateOriginal(),(o.hasBackdrop||o.disableBodyScroll)&&o.$toggleBodyScroll(!1)},onOpenComplete:function(){(o.hasBackdrop||o.disableBodyScroll)&&o.$toggleBodyScroll(!0)}}},this.$toggleBodyScroll=function(t){angular.element(document.body).css({overflow:t?"hidden":"auto"})},this.$openPanel=function(t){o.$$data={min:o.min,max:o.max};var e={hasConfirm:!_.isBoolean(o.hasConfirm)||o.hasConfirm,title:o.title,subtitle:o.subtitle,data:o.$$data};o.$$config.openFrom=t,o.$$config.hasBackdrop=!i("gt-sm")||o.hasBackdrop,o.$$config.fullscreen=!i("gt-sm"),o.$$config.locals=e,a.open(o.$$config)},this.$updateOriginal=function(){o.$$data&&(o.min=o.$$data.min,o.max=o.$$data.max)}}t.$inject=["$scope","$element","$mdPanel","$mdMedia"],angular.module("itaca.components").component("chPriceRangePicker",{bindings:{min:"=?",max:"=?",title:"@",subtitle:"@",wrapperClass:"@",buttonClass:"@",type:"@",disableParentScroll:"<?",disableBodyScroll:"<?",hasBackdrop:"<?",hasConfirm:"<?",hasClose:"<?",ngDisabled:"<?"},controller:t,template:'<ng-form name="chPriceRangePickerForm" class="flex no-padding layout-column"><md-button class="ch-price-range-picker-button flex minimal-button text-initial {{$ctrl.buttonClass}}" ng-click="$ctrl.$openPanel($event)" aria-label="Change price range" ng-disabled="$ctrl.ngDisabled"><div class="{{$ctrl.wrapperClass}}"><div ng-show="$ctrl.max" class="text-wrap row-mini"><strong ng-show="$ctrl.min">{{$ctrl.min|chCurrency}}&nbsp;-&nbsp;</strong><span ng-show="!$ctrl.min"><span translate="common.up.to"></span>&nbsp;</span><strong>{{$ctrl.max|chCurrency}}</strong>&nbsp;<span ng-if="$ctrl.type == \'nightly\'" class="text-lowercase" translate="service.type.payment.NIGHTLY"></span></div><div ng-show="!$ctrl.max"><span translate="filter.by"></span>&nbsp;<span class="text-lowercase" translate="common.price"></span></div></div></md-button></ng-form>'})}(),function(){"use strict";function t(t,e,n,a,i){var o=this;this.$onInit=function(){if(o.ngModel.$originalValue=o.ngModel.$originalValue||angular.copy(o.ngModel),o.hideInitialValue=!!_.isBoolean(o.hideInitialValue)&&o.hideInitialValue,o.$$pattern=_.isBoolean(o.allowNegative)&&o.allowNegative?e.priceNoStrict:e.price,o.$$currentLang=i.current(),o.cssClass=o.cssClass||"font-18 no-margin minimal-input max-width-130px ",o.iconClass=o.iconClass||"mdi mdi-pencil md-18 text-primary material-icons",o.originalValueClass=o.originalValueClass||"md-caption text-gray-light",o.refreshIconClass=o.refreshIconClass||"mdi mdi-refresh md-18 material-icons",o.originalValueLabel||n("common.amount.original").then(function(t){o.originalValueLabel=t},_.stubFalse()),o.hideIcon=!!_.isBoolean(o.hideIcon)&&o.hideIcon,o.readOnlyView=!!_.isBoolean(o.readOnlyView)&&o.readOnlyView,o.showOriginalValue=!!_.isBoolean(o.showOriginalValue)&&o.showOriginalValue,o.ngModel.initialAmount&&o.ngModel.initialAmount!=o.ngModel.finalAmount||(o.ngModel.initialAmount=0!==o.ngModel.initialAmount?o.ngModel.finalAmount:o.ngModel.initialAmount),o.disabledLimit)o.max=!1;else if(o.max=o.ngModel.initialAmount,o.promotion&&o.promotion.discount&&o.promotion.discount.finalAmount){var t=0;t="PERCENTAGE"==o.promotion.discount.type?a.calculateDiscount(o.ngModel.initialAmount,o.promotion.discount.finalAmount,"PERCENTAGE"):o.promotion.discount.finalAmount,o.max=o.max-t}o.$initWatchers()},this.$refreshPrice=function(){o.ngModel&&o.ngModel.$originalValue&&(o.ngModel.finalAmount=angular.copy(o.ngModel.$originalValue.finalAmount),o.ngModel.initialAmount=angular.copy(o.ngModel.$originalValue.initialAmount),angular.isFunction(o.onUpdate)&&o.onUpdate({value:o.ngModel}))},this.$adeguateAmount=function(){if(o.ngModel.$originalValue&&o.ngModel.finalAmount!=o.ngModel.$originalValue.finalAmount){if(!_.isNil(o.promotion)&&o.promotion.discount&&o.promotion.discount.finalAmount){var t=0;t="PERCENTAGE"==o.promotion.discount.type?100*o.ngModel.finalAmount/(100-o.promotion.discount.finalAmount):o.ngModel.finalAmount+o.promotion.discount.finalAmount,o.ngModel.initialAmount=t}else o.ngModel.initialAmount<o.ngModel.finalAmount&&(o.ngModel.initialAmount=o.ngModel.finalAmount);angular.isFunction(o.onUpdate)&&o.onUpdate({value:o.ngModel})}},this.$initWatchers=function(){t.$watch(function(){return o.ngModel.finalAmount},function(t,e){o.$adeguateAmount()})}}t.$inject=["$scope","REGEXP","$translate","NumberUtils","Locale"],angular.module("itaca.components").component("chRateAmountInput",{require:{ngModelCtrl:"ngModel"},bindings:{ngModel:"=",ngMin:"<?",inputName:"@",promotion:"<?",errorMessages:"@",cssClass:"@",hideIcon:"@",iconClass:"@",readOnlyView:"<?",hideInitialValue:"<?",showOriginalValue:"<?",originalValueClass:"<?",originalValueLabel:"<?",ngDisabled:"<?",disabledLimit:"<?",hideRefreshIcon:"<?",refreshIconClass:"@",allowNegative:"<?",onUpdate:"&?"},controller:t,templateUrl:"/tpls/rate-amount-input/rate-amount-input.tpl"})}(),function(){"use strict";function t(t,e){this.$mdMedia=e;var n=this;this.$onInit=function(){},this.$click=function(t){n.onClick&&n.onClick({$event:t,$date:n.availability.date})}}t.$inject=["$scope","$mdMedia"],angular.module("itaca.components").component("chRatesheetAvailability",{bindings:{availability:"<",onClick:"&?"},controller:t,templateUrl:"/tpls/ratesheet/ratesheet-availability.tpl"})}(),function(){"use strict";function t(t,e){this.$mdMedia=e;var n=this;this.$onInit=function(){},this.$toggleRoomTypeClosing=function(t){n.onToggleClosing&&n.onToggleClosing({$event:t,$date:n.header.date,$closed:!!_.isBoolean(n.header.roomClosed)&&!n.header.roomClosed})}}t.$inject=["$scope","$mdMedia"],angular.module("itaca.components").component("chRatesheetHeader",{bindings:{header:"<",onToggleClosing:"&?"},controller:t,templateUrl:"/tpls/ratesheet/ratesheet-header.tpl"})}(),function(){"use strict";function t(e,t,n){this.$mdMedia=t,this.REGEXP=n;var a=this;this.$onInit=function(){a.$initPromotion()},this.$initPromotion=function(){a.type=a.type||"STANDARD"},this.$onChanges=function(t){t&&(t.promotion||t.type)&&a.$initPromotion()},this.$saveMinStay=function(){var t=e.chRatesheetPromotionForm;t.$setSubmitted(),t.$invalid?t.minStay.$setTouched():a.onSaveMinStay&&a.onSaveMinStay({$promotion:a.promotion,$type:a.type})}}t.$inject=["$scope","$mdMedia","REGEXP"],angular.module("itaca.components").component("chRatesheetPromotionEdit",{bindings:{promotion:"<",type:"@",onSaveMinStay:"&?"},controller:t,templateUrl:"/tpls/ratesheet/ratesheet-promotion-edit.tpl"})}(),function(){"use strict";function t(t,e){this.$mdMedia=e;var n=this;this.$onInit=function(){n.$initPromotion()},this.$initPromotion=function(){n.type=n.type||"STANDARD"},this.$onChanges=function(t){t&&(t.promotion||t.type)&&n.$initPromotion()},this.$toggleClosing=function(t){var e=!!_.isBoolean(n.promotion.enabled)&&n.promotion.enabled;n.onToggleClosing&&n.onToggleClosing({$event:t,$promotion:n.promotion,$type:n.type,$closed:e})}}t.$inject=["$scope","$mdMedia"],angular.module("itaca.components").component("chRatesheetPromotion",{bindings:{promotion:"<",type:"@",onToggleClosing:"&?"},controller:t,templateUrl:"/tpls/ratesheet/ratesheet-promotion.tpl"})}(),function(){"use strict";function t(e,t,n){var a=this;this.$mdMedia=t,this.REGEXP=n,this.$$hasIconLeftClass=!1,this.$onInit=function(){a.$initRate(),a.$initUpdateMode(),a.$initErrorIcon(),a.$initErrorBg()},this.$postLink=function(){a.validateOnInit&&e.chRatesheetRateDataForm.$setSubmitted()},this.$initRate=function(){a.rate=_.isPlainObject(a.rate)?a.rate:{},a.type=a.type||"STANDARD",a.rate.type=a.type},this.$initUpdateMode=function(){a.updateOn=_.includes(["default","blur"],a.updateOn)?a.updateOn:"default"},this.$initErrorIcon=function(){a.errorIcon=_.isNil(a.errorIcon)||_.isBoolean(a.errorIcon)&&a.errorIcon?"mdi mdi-alert":a.errorIcon},this.$initErrorBg=function(){a.errorBg=_.isNil(a.errorBg)||_.isBoolean(a.errorBg)&&a.errorBg?"bg-warn opaque":a.errorBg},this.$onChanges=function(t){t&&((t.rate||t.type)&&a.$initRate(),t.updateOn&&a.$initUpdateMode(),t.errorIcon&&a.$initErrorIcon(),t.errorBg&&a.$initErrorBg())},this.$onChange=function(){var t=e.chRatesheetRateDataForm;t.$setSubmitted(),t.$invalid?t.amount.$setTouched():a.onChange&&a.onChange({$rate:a.rate,$type:a.type})}}t.$inject=["$scope","$mdMedia","REGEXP"],angular.module("itaca.components").component("chRatesheetRateEditAmount",{bindings:{rate:"=",type:"@",label:"@",ngDisabled:"<?",ngRequired:"<?",errorMessages:"<?",errorIcon:"<?",errorBg:"<?",validateOnInit:"<?",updateOn:"@",onChange:"&?"},controller:t,templateUrl:"/tpls/ratesheet/ratesheet-rate-edit-amount.tpl"})}(),function(){"use strict";function t(e,t){this.$mdMedia=t;var n=this;this.$onInit=function(){n.$initRate()},this.$initRate=function(){n.type=n.type||"STANDARD",n.$$isStandard="STANDARD"==n.type,n.$$rateDataKey=n.$$isStandard?"standard":"notRefundable"},this.$onChanges=function(t){t&&(t.rate||t.type)&&n.$initRate()},this.$saveMinStay=function(){var t=e.chRatesheetRateForm;t.$setSubmitted(),t.$invalid?t.minStay.$setTouched():n.onSaveMinStay&&n.onSaveMinStay({$rate:n.rate,$type:n.type})},this.$saveRate=function(){var t=e.chRatesheetRateForm;t.$setSubmitted(),t.$invalid?t.amount.$setTouched():n.onSave&&n.onSave({$rate:n.rate,$type:n.type})}}t.$inject=["$scope","$mdMedia"],angular.module("itaca.components").component("chRatesheetRateEdit",{bindings:{rate:"<",type:"@",hideRate:"<",hideRestrictions:"<",onSave:"&?",onSaveMinStay:"&?"},controller:t,templateUrl:"/tpls/ratesheet/ratesheet-rate-edit.tpl"})}(),function(){"use strict";function t(t,e){this.$mdMedia=e;var a=this;this.$onInit=function(){a.$initRate()},this.$initRate=function(){a.type=a.type||"STANDARD",a.$$isStandard="STANDARD"==a.type,a.$$rateDataKey=a.$$isStandard?"standard":"notRefundable"},this.$onChanges=function(t){t&&(t.rate||t.type)&&a.$initRate()},this.$toggleRateClosing=function(t){var e=a.rate[a.$$rateDataKey],n=e&&e.enabled;n=!!_.isBoolean(n)&&n,a.onToggleClosing&&a.onToggleClosing({$event:t,$rate:a.rate,$type:a.type,$closed:n})}}t.$inject=["$scope","$mdMedia"],angular.module("itaca.components").component("chRatesheetRate",{bindings:{rate:"<",type:"@",onToggleClosing:"&?"},controller:t,templateUrl:"/tpls/ratesheet/ratesheet-rate.tpl"})}(),function(){"use strict";angular.module("itaca.components").component("chReviewActionsContent",{transclude:!0,require:{chReviewActionsCtrl:"^chReviewActions"},controller:function(){var t=this;this.$onInit=function(){t.chReviewActionsCtrl.noDefault=!0},this.$onDestroy=function(){t.chReviewActionsCtrl.noDefault=!1}},template:"<div ng-transclude></div>"})}(),function(){"use strict";function t(t,e){var n=this;this.$onInit=function(){n.hideAction=!!_.isEmpty(n.actions),n.$initReview()},this.$initReview=function(){n.chReviewCtrl.review&&(n.review=n.chReviewCtrl.review)},this.$actionClick=function(t,e){e.onClick&&e.onClick.apply(this,[t,n.review].concat(e.onClickParams))}}t.$inject=["$scope","Navigator"],angular.module("itaca.components").component("chReviewActions",{transclude:!0,require:{chReviewCtrl:"^chReview"},bindings:{actions:"<?"},controller:t,template:'<div flex ng-if="!$ctrl.noDefault && !$ctrl.hideAction"><md-divider></<md-divider><div class="flex layout-row layout-wrap"><div ng-repeat="action in $ctrl.actions" ng-if="!action.hide" ng-class="{\'flex-33\': $ctrl.actions.length <= 3, \'flex\': $ctrl.actions.length > 3}" layout><div class="flex layout-column"><md-button class="no-margin {{btnClass}}" ng-disabled="action.disabled" ng-click="$ctrl.$actionClick($event, action)" aria-label="{{action.label}}"><md-icon ng-if="action.icon" class="{{::action.icon}} material-icons"></md-icon>&nbsp;<span ng-if="action.label" class="text-initial" ng-bind-html="action.label"></span></md-button></div><md-divider></<md-divider></div></div><md-divider></<md-divider></div>'})}(),function(){"use strict";function t(t){var e=this;this.$onInit=function(){e.$initReview(),e.showDate=!!_.isBoolean(e.showDate)&&e.showDate,e.dateFormat=_.isNil(e.dateFormat)?e.chReviewCtrl.dateFormat:e.dateFormat},this.$initReview=function(){e.chReviewCtrl.review&&(e.review=e.chReviewCtrl.review,e.review.showDetails=!0)}}t.$inject=["$scope"],angular.module("itaca.components").component("chReviewContent",{transclude:!0,require:{chReviewCtrl:"^chReview"},bindings:{showDate:"<",dateFormat:"@"},controller:t,template:'<div><div class="layout-row layout-wrap layout-align-center-center layout-padding"><div class="layout-column flex-xs-100 flex-sm-100 flex-gt-sm"><div ng-show="!$ctrl.review.showDetails"><div class="md-margin ng-scope no-margin-top no-margin-x-sides"><small><span translate="review.score.total"></span>:</small><md-progress-linear md-mode="determinate" value="{{($ctrl.review.score * 10)}}"></md-progress-linear></div></div><div ng-show="$ctrl.review.showDetails"><div ng-repeat="feedback in $ctrl.review.feedbacks track by $index" class="md-margin ng-scope no-margin-top no-margin-x-sides"title="{{::feedback.value}}" ng-switch="feedback.type"><small class="layout-row flex-100"><span class="flex" translate="{{::feedback.titleKey}}" translate-values="{{feedback.titleParams}}"></span><span ng-if="feedback.type == \'RANK\'">{{::feedback.value}}</span></small><md-progress-linear ng-switch-when="RANK" md-mode="determinate" value="{{(feedback.value * 10)}}"></md-progress-linear><div ng-switch-default><small ng-if="feedback.value">{{feedback.value}}</small><small ng-if="!feedback.value" class="text-gray-light text-lowercase"><em>({{::(\'review.comment.none\'|translate)}})</em></small></div></div></div><div class="text-right"><md-button class="auto-height no-margin row-1 text-capitalize text-gray-light text-small" ng-click="$ctrl.review.showDetails = !$ctrl.review.showDetails" aria-label="show details"><span ng-if="!$ctrl.review.showDetails" translate="common.show"></span><span ng-if="$ctrl.review.showDetails" translate="common.hide"></span>&nbsp;<span class="text-lowercase" translate="common.details"></span><md-icon ng-class="$ctrl.review.showDetails ? \'mdi-chevron-up\' : \'mdi-chevron-down\'" class="mdi md-18"></md-icon></md-button></div></div><div class="flex-100 flex-gt-sm-25 layout-column" ng-class="$ctrl.review.showDetails ? \'layout-align-center-center\' : \'layout-align-start-center\'"><small ng-if="$ctrl.review.showDetails" class="font-12 text-gray-light text-center" translate="review.score.total"></small><span class="md-headline">{{::$ctrl.review.score.toFixed(1)}}</span><span class="text-center" translate="{{$ctrl.review.label}}"></span></div></div><div class="overflow-hidden" ng-transclude></div><div ng-if="$ctrl.review.createdDate && $ctrl.showDate"><md-divider></md-divider><div class="layout-padding text-gray-light"><small>{{$ctrl.review.createdDate|utcDate:$ctrl.dateFormat}}</small></div></div></div>'})}(),function(){"use strict";function t(t,e,i){var o=this;this.$onInit=function(){o.imgBaseUrl=o.imgBaseUrl||o.chReviewCtrl.imgBaseUrl,_.isBoolean(o.imgBaseUrl)&&(o.imgBaseUrl=o.imgBaseUrl&&t.config&&t.config.amz?t.config.amz.baseUrl+"/"+t.config.amz.bucketName+"/":""),o.defaultImgUrl=o.defaultImgUrl||"/resources/public/img/no-gallery-image.png",o.$initReview()},this.$initReview=function(){o.chReviewCtrl.review&&(o.review=o.chReviewCtrl.review)},this.$openGallery=function(n,a){e(o.review.label).then(function(t){var e=o.review.score+":&nbsp;";e+=o.review.title?o.review.title:t,i.showGallery(n,e,o.review.gallery,{storageUrl:o.imgBaseUrl,initialSlide:a||0})})}}t.$inject=["AppOptions","$translate","Dialog"],angular.module("itaca.components").component("chReviewGallery",{transclude:!0,require:{chReviewCtrl:"^chReview"},bindings:{imgBaseUrl:"@?",defaultImgUrl:"@?",title:"@"},controller:t,template:'<div ng-if="$ctrl.review.gallery.length" flex layout-padding><div class="layout-row layout-wrap layout-padding-sm layout-align-center-center layout-align-gt-sm-start-center"><span class="flex-100 font-12 ng-scope no-padding-bottom text-gray-light"><span ng-if="!$ctrl.title"><span translate="common.gallery"></span>:</span><span ng-if="$ctrl.title" ng-bind="$ctrl.title"></span></span><div ng-repeat="photo in $ctrl.review.gallery" class="clickable" ng-click="$ctrl.$openGallery($event, $index)" aria-label="Open review gallery"><img ng-src="{{$ctrl.imgBaseUrl + photo.path}}" alt="{{photo.tags[0]}}" lazy-imagedefault-img-url="{{$ctrl.defaultImgUrl}}" class="width-100"></div></div></div>'})}(),function(){"use strict";function t(t,e){var i=this;this.$onInit=function(){i.hideImage=!!_.isBoolean(i.hideImage)&&i.hideImage,i.imgBaseUrl=i.imgBaseUrl||i.chReviewCtrl.imgBaseUrl,_.isBoolean(i.imgBaseUrl)&&(i.imgBaseUrl=i.imgBaseUrl&&e.config&&e.config.amz?e.config.amz.baseUrl+"/"+e.config.amz.bucketName+"/":""),i.$initReview(),i.$getHotelImage()},this.$initReview=function(){i.chReviewCtrl.review&&(i.review=i.chReviewCtrl.review)},this.$getHotelImage=function(){var a=null;_.forEach(i.review.hotel.gallery,function(t,e,n){if(0==e&&(a=i.imgBaseUrl+t.path),t.cover)return a=i.imgBaseUrl+t.path,!1}),i.$$hotelImage=a}}t.$inject=["$scope","AppOptions"],angular.module("itaca.components").component("chReviewHotelInfo",{transclude:!0,require:{chReviewCtrl:"^chReview"},bindings:{hideImage:"<?",imgBaseUrl:"@?"},controller:t,template:'<div flex layout-padding class="md-subhead row-mini text-bold"><a ng-href="{{\'/hotel/\'+ $ctrl.review.hotel.id}}" target="_blank" class="ch-review-hotel-info-link display-block clickable"><span class="layout-row layout-align-start-center"><img ng-if="!$ctrl.hideImage && $ctrl.$$hotelImage" class="md-margin menu-user-avatar-small no-margin-left no-margin-y-sides" ng-src="{{$ctrl.$$hotelImage}}"><span class="no-padding layout-column"><span><span class="text-primary">{{::$ctrl.review.hotel.name}}&nbsp;</span><span class="label label-xs" translate="hotel.type.{{::$ctrl.review.hotel.type}}"></span></span><small class="text-gray-light"><span>{{::$ctrl.review.hotel.addressInfo.city}}</span>,&nbsp;<span>{{::$ctrl.review.hotel.addressInfo.address}}</span></small></span></span><md-tooltip><span translate="hotel.go"></span></md-tooltip></a></div>'})}(),function(){"use strict";function t(t,e){var n=this;this.$onInit=function(){n.contentClass=n.contentClass||"layout-padding bg-gray-lighter text-primary",n.$initReview(),n.$initLikes(),n.$initWatchers()},this.$initReview=function(){n.chReviewCtrl.review&&(n.review=n.chReviewCtrl.review)},this.$initLikes=function(){n.review.helpful=e.guest&&e.guest.id&&_.some(n.review.likes,function(t){return _.isEqual(t,e.guest.id)})},this.$initWatchers=function(){t.$watchCollection(function(){return n.review.likes},function(t,e){n.$initLikes(),n.review.thanksNow=!_.isEqual(t,e)&&Boolean(n.review.helpful)})}}t.$inject=["$scope","AppOptions"],angular.module("itaca.components").component("chReviewLikes",{require:{chReviewCtrl:"^chReview"},bindings:{contentClass:"@"},controller:t,template:'<div ng-if="$ctrl.review.likes.length" class="{{$ctrl.contentClass}}" ><small><md-icon class="mdi md-14 mdi-thumb-up text-primary"></md-icon>&nbsp;<span ng-if="!$ctrl.review.helpful" class="text-lowercase"><span>{{$ctrl.review.likes.length}}&nbsp;</span><span ng-if="$ctrl.review.likes.length == 1" translate="review.likes.count"></span><span ng-if="$ctrl.review.likes.length != 1" translate="review.likes.count.plur"></span></span><span ng-if="$ctrl.review.helpful"><span ng-if="$ctrl.review.likes.length == 1" translate="review.likes.you"></span><span ng-if="$ctrl.review.likes.length > 1" ng-switch on="$ctrl.review.likes.length-1"><span ng-switch-when="1" translate="review.likes.you.other"></span><span ng-switch-default translate="review.likes.you.others" translate-values="{num: $ctrl.review.likes.length-1}"></span></span></span></small></div>'})}(),function(){"use strict";angular.module("itaca.components").component("chReviewProCon",{transclude:!0,require:{chReviewCtrl:"^chReview"},bindings:{textLimit:"<?",showHint:"<?"},controller:function(){var t=this;this.$onInit=function(){t.textLimit=isFinite(parseInt(t.textLimit))?parseInt(t.textLimit):200,t.showHint=!!_.isBoolean(t.showHint)&&t.showHint,t.$initReview()},this.$initReview=function(){t.chReviewCtrl.review&&(t.review=t.chReviewCtrl.review)}},template:'<div ng-if="$ctrl.review.pro || $ctrl.review.con || ($ctrl.review.hint && $ctrl.showHint)" flex layout-padding><div ng-if="$ctrl.review.pro" class="md-padding no-padding-top"><md-icon class="mdi mdi-thumb-up-outline text-success md-24"></md-icon>&nbsp;<strong><span translate="review.pro"></span>:</strong><div class="layout-margin no-margin-x-sides text-ellipsis"><span hm-read-more hm-text="{{$ctrl.review.pro}}" hm-limit="$ctrl.textLimit"hm-more-text="{{\'common.read.more\'|translate}}"hm-less-text="{{\'common.read.less\'|translate}}"hm-link-class="clickable text-primary"></span></div></div><div ng-if="$ctrl.review.con" class="md-padding no-padding-top"><md-icon class="mdi mdi-thumb-down-outline text-warn md-24"></md-icon>&nbsp;<strong><span translate="review.con"></span>:</strong><div class="layout-margin no-margin-x-sides text-ellipsis"><span hm-read-more hm-text="{{$ctrl.review.con}}" hm-limit="$ctrl.textLimit"hm-more-text="{{\'common.read.more\'|translate}}"hm-less-text="{{\'common.read.less\'|translate}}"hm-link-class="clickable text-primary"></span></div></div><div ng-if="$ctrl.review.hint && $ctrl.showHint" class="md-padding no-padding-top"><md-icon class="mdi mdi-message-text md-24"></md-icon>&nbsp;<strong><span translate="common.hints"></span>:</strong><div class="layout-margin no-margin-x-sides text-ellipsis"><span hm-read-more hm-text="{{$ctrl.review.hint}}" hm-limit="$ctrl.textLimit"hm-more-text="{{\'common.read.more\'|translate}}"hm-less-text="{{\'common.read.less\'|translate}}"hm-link-class="clickable text-primary"></span></div></div></div>'})}(),function(){"use strict";angular.module("itaca.components").component("chReviewReplyContent",{transclude:!0,require:{chReviewReplyCtrl:"^chReviewReply"},controller:function(){var t=this;this.$onInit=function(){t.chReviewReplyCtrl.noDefault=!0},this.$onDestroy=function(){t.chReviewReplyCtrl.noDefault=!1}},template:"<div ng-transclude></div>"})}(),function(){"use strict";function t(t,n,e){var a=this;this.$mdMedia=e,this.$onInit=function(){a.$initReview(),a.$$currentMode="view",a.ngReadonly=!_.isBoolean(a.ngReadonly)||a.ngReadonly,a.ngEdit=!!_.isBoolean(a.ngEdit)&&a.ngEdit,a.responseClass=a.responseClass||"bg-info-light",a.arrowClass=a.arrowClass||"border-info-light",a.$manageShowReply()},this.$onChanges=function(t){t&&((t.ngEdit&&!t.ngEdit.isFirstChange()||t.ngReadonly&&!t.ngReadonly.isFirstChange())&&a.$edit(),t.showReply&&(a.$manageShowReply(),a.showReply&&(!a.review.reply||!a.review.reply.response)&&a.$edit()))},this.$initReview=function(){a.chReviewCtrl.review&&(a.review=a.chReviewCtrl.review,a.ngReadonly||a.review.reply&&a.review.reply.response||(a.$$currentMode="edit"))},this.$manageShowReply=function(){a.review&&(a.showReply=!(!a.review.reply||!a.review.reply.response)||!!_.isBoolean(a.showReply)&&a.showReply)},this.$edit=function(){!a.ngReadonly&&a.ngEdit?(a.$$oriReply=angular.copy(a.review.reply?a.review.reply.response:null),a.$$reply=angular.copy(a.$$oriReply),a.$$currentMode="edit"):a.$cancelEdit()},this.$cancelEdit=function(t,e){a.$$reply=null,a.$$oriReply=null,a.$$currentMode="view",e&&a.onCancelReply&&a.onCancelReply({$event:t,$review:a.review})},this.$save=function(t){if(a.$$reply){a.$onSaving();var e=a.onReply?a.onReply({$event:t,$review:a.review,$reply:a.$$reply}):a.$$reply;n.when(e).then(a.$onSaveSuccess,a.$onSaveFailure)}},this.$onSaveSuccess=function(){a.review.reply=a.review.reply||{},a.review.reply.response=angular.copy(a.$$reply),a.$$error=!1,a.$$saving=!1,a.$cancelEdit()},this.$onSaveFailure=function(t){a.$$error=!!_.isEmpty(t)||t,a.$$saving=!1},this.$onSaving=function(){a.$$error=!1,a.$$saving=!0}}t.$inject=["$scope","$q","$mdMedia"],angular.module("itaca.components").component("chReviewReply",{transclude:!0,require:{chReviewCtrl:"^chReview"},bindings:{ngReadonly:"<?",ngEdit:"<?",showReply:"<?",replyTitle:"@",onReply:"&?",onCancelReply:"&?",responseClass:"@?",arrowClass:"@?"},controller:t,template:'<div ng-if="$ctrl.showReply || $ctrl.review.reply.response || $ctrl.noDefault" class="ch-review-reply"><div class="ch-review-reply-arrow {{$ctrl.arrowClass}}"></div><div class="layout-padding no-padding ch-review-reply-inner {{$ctrl.responseClass}}"><div ng-if="!$ctrl.noDefault" class="layout-padding"><div class="layout-row layout-padding-sm no-padding layout-align-start-center"><div flex><strong ng-if="!$ctrl.replyTitle"><span translate="common.answer"></span>:</strong><strong ng-if="$ctrl.replyTitle" ng-bind="$ctrl.replyTitle"></strong></div><md-button ng-if="$ctrl.$$currentMode == \'edit\'" class="no-margin auto-height row-1 text-lowercase text-gray-light" ng-click="$ctrl.$cancelEdit($event, true)" aria-label="Cancel reply"><small translate="common.cancel"></small></md-button></div><div ng-if="$ctrl.$$currentMode == \'view\'" class="layout-row layout-align-start-center no-padding-top no-padding-bottom no-padding-right"><div class="flex text-wrap"><span hm-read-more hm-text="{{$ctrl.review.reply.response}}" hm-limit="200" hm-more-text="{{\'common.read.more\'|translate}}"hm-less-text="{{\'common.read.less\'|translate}}" hm-link-class="clickable text-primary"></span></div><div ng-if="$ctrl.review.reply.response"><div class="no-padding-left no-padding-right no-padding-bottom"><md-button ng-if="!$ctrl.ngReadonly || $ctrl.ngEdit" class="no-margin text-lowercase text-gray-light" ng-class="{\'md-icon-button\': !$ctrl.$mdMedia(\'gt-sm\')}"ng-click="$ctrl.$edit()" aria-label="Edit reply"><md-icon class="mdi mdi-pencil" ng-class="{\'md-18\': !$ctrl.$mdMedia(\'gt-sm\'), \'md-14\': $ctrl.$mdMedia(\'gt-sm\')}"></md-icon><small hide show-gt-sm translate="common.edit"></small><md-tooltip hide-gt-sm><span translate="common.edit"></span></md-tooltip></md-button></div></div></div><div ng-if="$ctrl.$$currentMode == \'edit\'" class="no-padding-top no-padding-bottom no-padding-right"><div layout layout-padding-sm class="layout-align-start-center"><div flex><md-input-container md-no-float class="md-block bg-white border-radius minimal-input no-margin"><textarea placeholder="{{\'review.reply.label\'|translate}}..." ng-model="$ctrl.$$reply" ng-disabled="$ctrl.$$saving" max-rows="5" md-no-resize autofocus></textarea></md-input-container><md-progress-linear md-mode="query" ng-show="$ctrl.$$saving"></md-progress-linear></div><div ng-if="$ctrl.$$error" class="am-fade-and-scale"><md-icon class="mdi mdi-alert-circle-outline md-18 text-danger material-icons"></md-icon><md-tooltip><span translate="error.review.reply.saving"></span></md-tooltip></div><div layout layout-align="center end" class="no-padding am-fade-and-scale" ng-if="$ctrl.$$reply && $ctrl.$$reply != $ctrl.$$oriReply"><md-button class="md-icon-button" ng-class="{\'md-raised\':$ctrl.$$reply}" ng-disabled="!$ctrl.$$reply || $ctrl.$$reply == $ctrl.$$oriReply || $ctrl.$$saving" ng-click="$ctrl.$save($event)" aria-label="Send reply"><md-icon class="mdi mdi-send md-24 material-icons" ng-class="{\'text-gray-light\': $ctrl.$$reply && $ctrl.$$reply != $ctrl.$$oriReply}"></md-icon></md-button></div></div><div ng-if="!$ctrl.$$saving && $ctrl.$$error" class="layout-padding-sm text-danger am-fade-and-scale"><small ng-if="$ctrl.error != true" ng-bind="$ctrl.$$error"></small><small ng-if="$ctrl.error == true" translate="error.review.reply.saving"></small></div></div></div><div ng-transclude class="no-padding"></div></div></div>'})}(),function(){"use strict";angular.module("itaca.components").component("chReviewReportInfo",{transclude:!0,require:{chReviewCtrl:"^chReview"},bindings:{contentClass:"@",showDetails:"<"},controller:function(){var t=this;this.$onInit=function(){t.contentClass=t.contentClass||"layout-padding bg-gray-lighter text-danger",t.showDetails=!!_.isBoolean(t.showDetails)&&t.showDetails,t.$initReview()},this.$initReview=function(){t.chReviewCtrl.review&&(t.review=t.chReviewCtrl.review)}},template:'<div ng-if="$ctrl.review.reportType" class="{{$ctrl.contentClass}}"><div class="layout-padding-sm no-padding"><div><md-icon class="mdi md-18 mdi-flag-variant text-danger"></md-icon><small translate="review.reporting.label"></small></div><div ng-if="$ctrl.showDetails" ng-switch="$ctrl.review.reportType"><small><i><span ng-switch-when="OTHER">"{{$ctrl.review.reportNote}}"</span><span ng-switch-default>"<span translate="{{\'review.report.type.\' + $ctrl.review.reportType +\'.label\'}}"></span>"</span></i></small></div></div></div>'})}(),function(){"use strict";function t(t,e,n){var a=this;this.appOptions=t,this.portalIcons=e.portalIcons(),this.$onInit=function(){a.textLimit=isFinite(parseInt(a.textLimit))?parseInt(a.textLimit):200,a.$initReview()},this.$initReview=function(){a.chReviewCtrl.review&&(a.review=a.chReviewCtrl.review,a.$getPeriod())},this.$getPeriod=function(){var t=n.absoluteMoment(a.review.reservation.checkin),e=n.absoluteMoment(a.review.reservation.checkout);t.get("month")==e.get("month")?a.$$period=t.format("MMMM YYYY"):a.$$period=t.format("MMMM YYYY")+"/"+e.format("MMMM YYYY")}}t.$inject=["AppOptions","IconUtils","DateUtils"],angular.module("itaca.components").component("chReviewReservationInfo",{transclude:!0,require:{chReviewCtrl:"^chReview"},bindings:{title:"@"},controller:t,template:'<div layout-padding><div class="no-padding-bottom no-padding-right"><div><small><span ng-if="!$ctrl.title"><span translate="review.source"></span>&nbsp;</span><span ng-if="$ctrl.title"><span ng-bind="$ctrl.title"></span>&nbsp;</span><strong ng-switch="$ctrl.review.reservation.source"><span ng-switch-when="PORTAL">{{$ctrl.appOptions.about.uiName}}</span><span ng-switch-default translate="channel.source.{{$ctrl.review.reservation.source.toLowerCase()}}"></span></strong></small><span><md-icon class="{{$ctrl.portalIcons[$ctrl.review.reservation.source]}} channel-icon-mini"></md-icon></span></div><div ng-if="$ctrl.$$period"><small ng-bind="$ctrl.$$period"></small></div></div></div>'})}(),function(){"use strict";angular.module("itaca.components").component("chReviewTitleContent",{transclude:!0,require:{chReviewTitleCtrl:"^chReviewTitle"},controller:function(){var t=this;this.$onInit=function(){t.chReviewTitleCtrl.noDefault=!0},this.$onDestroy=function(){t.chReviewTitleCtrl.noDefault=!1}},template:"<div ng-transclude></div>"})}(),function(){"use strict";function t(t,e,n){t.$mdMedia=n;var a=this;this.$onInit=function(){a.titleQuote=!_.isBoolean(a.titleQuote)||a.titleQuote,a.hideNewIcon=!!_.isBoolean(a.hideNewIcon)&&a.hideNewIcon,a.$initReview()},this.$initReview=function(){a.chReviewCtrl.review&&(a.review=a.chReviewCtrl.review)}}t.$inject=["$scope","ReviewsUtils","$mdMedia"],angular.module("itaca.components").component("chReviewTitle",{transclude:!0,require:{chReviewCtrl:"^chReview"},bindings:{titleQuote:"@?",hideNewIcon:"<?"},controller:t,template:'<div flex><div ng-if="!$ctrl.noDefault" class="flex layout-padding"><div class="md-subhead flex ellipsis text-wrap"><span ng-if="!$ctrl.hideNewIcon && $ctrl.review.isNew"><md-icon class="material-icons mdi mdi-new-box text-info"></md-icon>&nbsp;</span><strong><em ng-if="$ctrl.review.title"><span ng-if="$ctrl.titleQuote">&ldquo;</span><span ng-bind="$ctrl.review.title"></span><span ng-if="$ctrl.titleQuote">&bdquo;</span></em><span ng-if="!$ctrl.review.title"><span translate="{{$ctrl.review.label}}"></span></span></strong></div></div><div ng-transclude></div></div>'})}(),function(){"use strict";function t(t,e){var n=this;this.$onInit=function(){n.hideUser=_.isBoolean(n.hideUser)?n.hideUser:n.chReviewCtrl.hideUser,n.hideDate=_.isBoolean(n.hideDate)?n.hideDate:n.chReviewCtrl.hideDate,n.dateFormat=_.isNil(n.dateFormat)?n.chReviewCtrl.dateFormat:n.dateFormat,n.$initReview()},this.$initReview=function(){n.chReviewCtrl.review&&(n.review=n.chReviewCtrl.review)},this.$userClick=function(t){n.userState?e.goToState(n.userState,n.userStateParams):n.userClick&&n.userClick({$event:t,$review:n.review})}}t.$inject=["$scope","Navigator"],angular.module("itaca.components").component("chReviewUser",{transclude:!0,require:{chReviewCtrl:"^chReview"},bindings:{dateFormat:"@",hideUser:"<?",hideDate:"<?",userState:"@?",userStateParams:"<?",userClick:"&?"},controller:t,template:'<div flex><div ng-if="!$ctrl.noDefault && !$ctrl.hideUser" class="bg-gray-lighter flex layout-row layout-wrap layout-padding"><div class="layout-row layout-padding-sm no-padding no-outline" ng-class="{\'clickable\': $ctrl.userState || $ctrl.userClick}" ng-click="$ctrl.$userClick($event)" aria-label="Toggle user action"><div><span ng-if="$ctrl.userAvatar && $ctrl.review.reviewSettings.showAvatar && !$ctrl.review.reviewSettings.anonymous"class="relative menu-user-avatar-small display-block overflow-hidden"><img alt="User profile image" class="full-width" ng-src="{{$ctrl.userAvatar}}" lazy-image /></span><span ng-if="(!$ctrl.review.reviewSettings.showAvatar || !$ctrl.userAvatar) && !$ctrl.review.reviewSettings.anonymous"class="bg-blue-sea menu-user-avatar-small layout-row layout-align-center-center"><span class="md-headline text-uppercase">{{!$ctrl.review.reviewSettings.showRealName && ($ctrl.review.createdBy || $ctrl.review.reservation.guest).nickname ? ($ctrl.review.createdBy || $ctrl.review.reservation.guest).nickname.charAt(0) : ($ctrl.review.createdBy || $ctrl.review.reservation.guest).name.charAt(0)}}</span></span><md-icon ng-if="$ctrl.review.reviewSettings.anonymous" class="mdi mdi-account-circle md-38"></md-icon></div><div class="layout-align-center-start layout-column no-padding-bottom no-padding-top row-1"><span class="font-10 text-gray-light row-1"><span translate="common.written.by.female"></span></span><div><strong class="md-subhead"><span ng-if="!$ctrl.review.reviewSettings.anonymous && ($ctrl.review.createdBy || $ctrl.review.reservation.guest)"><span ng-if="!$ctrl.review.reviewSettings || $ctrl.review.reviewSettings.showRealName || !$ctrl.review.createdBy.nickname"><span ng-if="$ctrl.review.createdBy">{{::$ctrl.review.createdBy.name}}&nbsp;{{::$ctrl.review.createdBy.surname}}</span><span ng-if="!$ctrl.review.createdBy && $ctrl.review.reservation.guest">{{::$ctrl.review.reservation.guest.name}}&nbsp;{{::$ctrl.review.reservation.guest.surname}}</span></span><span ng-if="$ctrl.review.reviewSettings && !$ctrl.review.reviewSettings.showRealName && $ctrl.review.createdBy.nickname"><span ng-if="$ctrl.review.createdBy">{{::$ctrl.review.createdBy.nickname}}</span><span ng-if="!$ctrl.review.createdBy && $ctrl.review.reservation.guest">{{::$ctrl.review.reservation.guest.nickname}}</span></span></span><span ng-if="$ctrl.review.reviewSettings.anonymous || (!$ctrl.review.createdBy && !$ctrl.review.reservation.guest)" translate="common.anonymous"></span></strong><span ng-if="$ctrl.review.createdDate && !$ctrl.hideDate" class="font-10 text-gray-light"><span>&nbsp;-&nbsp;{{$ctrl.review.createdDate|utcDate:$ctrl.dateFormat}}</span></span></div><small class="font-10 text-gray-light row-1 text-lowercase" ng-if="!$ctrl.review.reviewSettings.anonymous && $ctrl.review.guest.reviewsCount"><span>{{::$ctrl.review.guest.reviewsCount}}&nbsp;</span><span ng-if="$ctrl.review.guest.reviewsCount == 1" translate="reviews.review"></span><span ng-if="$ctrl.review.guest.reviewsCount != 1" translate="reviews.reviews"></span></small></div></div></div><div flex ng-transclude></div></div>'})}(),function(){"use strict";function t(t,e,n){var a=this;this.$onInit=function(){a.newLimit=_.isFinite(parseInt(a.newLimit))?parseInt(a.newLimit):7,a.hideUser=!!_.isBoolean(a.hideUser)&&a.hideUser,a.imgBaseUrl=a.imgBaseUrl||!0,_.isBoolean(a.imgBaseUrl)&&(a.imgBaseUrl=a.imgBaseUrl&&n.config&&n.config.amz?n.config.amz.baseUrl+"/"+n.config.amz.bucketName+"/":""),a.$initReview()},this.$initReview=function(){a.review&&(a.review.isNew=moment().isBefore(moment(a.review.createdDate).add(a.newLimit,"days")),a.review.label=e.generateScoreLabel(Math.floor(a.review.score)),a.$getUserAvatar())},this.$getUserAvatar=function(){if(a.review.createdBy&&a.review.createdBy.avatarType)switch(a.review.createdBy.avatarType){case"PORTAL":a.userAvatar=a.review.createdBy.avatar?a.imgBaseUrl+a.review.createdBy.avatar:null;break;case"FACEBOOK":a.userAvatar=a.review.createdBy.facebookImage;break;case"GOOGLE":a.userAvatar=a.review.createdBy.googleImage;break;default:a.userAvatar=a.review.createdBy.avatar?a.imgBaseUrl+a.review.createdBy.avatar:null}a.review.reviewSettings=_.isObjectLike(a.review.reviewSettings)?a.review.reviewSettings:{},a.review.reviewSettings.showRealName=!_.isBoolean(a.review.reviewSettings.showRealName)||a.review.reviewSettings.showRealName}}t.$inject=["$scope","ReviewsUtils","AppOptions"],angular.module("itaca.components").component("chReview",{transclude:!0,bindings:{review:"<",newLimit:"@?",dateFormat:"@?",hideUser:"<?",hideDate:"<?",imgBaseUrl:"@?"},controller:t,template:"<div ng-transclude></div>"})}(),function(){"use strict";angular.module("itaca.components").component("chReviewsSummaryDetails",{require:{chReviewsSummaryCtrl:"^chReviewsSummary"},bindings:{progressClass:"@?",size:"@?"},controller:function(){var t=this;this.$onInit=function(){t.progressClass=t.progressClass||"md-primary",t.size=_.includes(["small","big"],_.toLower(t.size))?_.toLower(t.size):"small",t.$initSummary()},this.$initSummary=function(){t.chReviewsSummaryCtrl.summary&&(t.summary=t.chReviewsSummaryCtrl.summary)},this.$onDestroy=function(){}},template:'<div class="flex layout-column layout-padding-sm"><ch-reviews-summary-progress ng-repeat="entry in $ctrl.summary.reviewsScoreMap track by $index" value="entry.key" count="entry.value" size="{{$ctrl.size}}" progress-class="{{$ctrl.progressClass}}"></ch-review-summary-progress></div>'})}(),function(){"use strict";angular.module("itaca.components").component("chReviewsSummaryGar",{require:{chReviewsSummaryCtrl:"^chReviewsSummary"},bindings:{title:"@?",subtitle:"@?",bgClass:"@?",size:"@?"},controller:function(){var t=this;this.$onInit=function(){t.bgClass=t.bgClass||"bg-primary",t.$$hideTitle=_.isBoolean(t.title)&&!t.title,t.$$hideSubtitle=_.isBoolean(t.subtitle)&&!t.subtitle,t.size=_.includes(["small","big"],_.toLower(t.size))?_.toLower(t.size):"big",t.$initSummary()},this.$initSummary=function(){t.chReviewsSummaryCtrl.summary&&(t.summary=t.chReviewsSummaryCtrl.summary)},this.$onDestroy=function(){}},template:'<div ng-if="$ctrl.summary.gar" class="layout-column layout-padding layout-align-center-center no-padding"><div class="border-radius layout-column layout-align-center-center {{$ctrl.bgClass}}" ng-class="{\'layout-padding\': $ctrl.size == \'big\'}"><strong class="md-subhead" translate="{{$ctrl.summary.garLabel}}"></strong><span class="no-padding-top" ng-class="$ctrl.size == \'small\' ? \'md-display-1\' : \'md-display-3\'">{{$ctrl.summary.gar.toFixed(1)}}</span><small ng-if="!$ctrl.$$hideTitle" class="no-padding-bottom"><span ng-if="$ctrl.title" ng-bind="$ctrl.title"></span><span ng-if="!$ctrl.subtitle" translate="review.score.total"><span></small></div><div ng-if="!$ctrl.$$hideSubtitle"><small><span ng-if="$ctrl.subtitle" ng-bind="$ctrl.subtitle"></span><span ng-if="!$ctrl.subtitle" translate="review.reviews.real" translate-values="{num: $ctrl.summary.totalReviews}"></span></small></div></div>'})}(),function(){"use strict";function t(t,e){var n=this;this.$mdMedia=e,this.$onInit=function(){n.progressClass=n.progressClass||"md-primary",n.size=_.includes(["small","big"],_.toLower(n.size))?_.toLower(n.size):"small","big"==n.size&&(n.$$sizeClass="md-progress-linear-big"),n.$initSummary(),n.$initWatchers()},this.$initSummary=function(){n.chReviewsSummaryCtrl.summary&&(n.summary=n.chReviewsSummaryCtrl.summary)},this.$initWatchers=function(){t.$watch(function(){return n.count},n.$calculatePercentage)},this.$calculatePercentage=function(){n.$$percentage=Math.round(100*(n.count||0)/(n.summary.totalReviews||1))},this.$onDestroy=function(){}}t.$inject=["$scope","$mdMedia"],angular.module("itaca.components").component("chReviewsSummaryProgress",{require:{chReviewsSummaryCtrl:"^chReviewsSummary"},bindings:{value:"<",count:"<",progressClass:"@?",size:"@?"},controller:t,template:'<div title="{{$ctrl.$$percentage + \'%\'}}" ng-class="$ctrl.$mdMedia(\'gt-sm\')? \'no-padding-bottom\' : \'no-padding-left no-padding-right\'"><small><span ng-switch="$ctrl.value"><span ng-switch-when="4"><span translate="review.score.bad"></span>&nbsp;<em>(4)</em>:</span><span ng-switch-when="5"><span translate="review.score.poor"></span>&nbsp;<em>(5)</em>:</span><span ng-switch-when="6"><span translate="review.score.sufficient"></span>&nbsp;<em>(6)</em>:</span><span ng-switch-when="7"><span translate="review.score.good"></span>&nbsp;<em>(7)</em>:</span><span ng-switch-when="8"><span translate="review.score.very.good"></span>&nbsp;<em>(8)</em>:</span><span ng-switch-when="9"><span translate="review.score.excellent"></span>&nbsp;<em>(9)</em>:</span><span ng-switch-when="10"><span translate="review.score.fabulous"></span>&nbsp;<em>(10)</em>:</span></span></small><div class="layout-row layout-align-start-center"><div flex><md-progress-linear md-mode="determinate" value="{{$ctrl.$$percentage}}" class="{{$ctrl.$$sizeClass}}" ng-class="$ctrl.count > 0 ? $ctrl.progressClass : \'md-accent\'"></md-progress-linear></div><div class="text-right" style="width: 55px"><small>&nbsp;{{$ctrl.$$percentage + \'%\'}}&nbsp;({{$ctrl.count}})</small></div></div></div>'})}(),function(){"use strict";function t(t){var n=this;this.$onInit=function(){n.$initSummary()},this.$initSummary=function(){if(!n.summary){var e=[];_.forEach(_.rangeRight(4,11),function(t){e.push({key:t,value:0})}),n.summary={totalReviews:0,gar:null,reviewsScoreMap:e}}n.summary.reviewsScoreMap=_.orderBy(n.summary.reviewsScoreMap,["key"],["desc"]),n.summary.garLabel=t.generateScoreLabel(Math.floor(n.summary.gar))},this.$onDestroy=function(){}}t.$inject=["ReviewsUtils"],angular.module("itaca.components").component("chReviewsSummary",{transclude:!0,bindings:{summary:"<"},controller:t,template:"<div ng-transclude></div>"})}(),function(){"use strict";function t(t,e){var l=this;this.$onInit=function(){l.maxLength&&!l.minLength&&(l.minLength=0);l.counter={words:0,chars:0},l.modules={toolbar:l.toolbar||[["bold","italic","underline","strike"],["blockquote","code-block"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]}],[{align:[]}]]}},this.updateCounter=function(t){var e=t.getText();e=e.trim(),l.counter.words=0<e.length?e.split(/\s+/).length:0,l.counter.chars=0<e.length?e.length:0},this.onEditorCreated=function(t){l.updateCounter(t),l.minHeight&&(angular.element(e[0].querySelector(".ql-container")).css("cssText","min-height: "+l.minHeight+"px !important"),angular.element(e[0].querySelector(".ql-editor")).css("cssText","min-height: "+l.minHeight+"px !important")),angular.isFunction(l.onCreation)&&l.onCreation()},this.onEditorChanged=function(t,e,n,a,i,o){l.updateCounter(t),angular.isFunction(l.onChange)&&l.onChange()},this.onSelectionChanged=function(t,e,n,a){l.updateCounter(t),angular.isFunction(l.onSelect)&&l.onSelect()}}t.$inject=["$scope","$element"],angular.module("itaca.component").component("chRichEditor",{require:{ngModelCtrl:"ngModel"},bindings:{ngModel:"=",toolbar:"<?",ngRequired:"<?",ngDisabled:"<?",placeholder:"@",maxLength:"<",minLength:"<",onChange:"&?",onCreation:"&?",onSelect:"&?",hideCharsCounter:"<",hideWordsCounter:"<",minHeight:"@"},controller:t,templateUrl:"/tpls/rich-editor/rich-editor.tpl"})}(),function(){"use strict";function t(t,e,a,n,i){var o=this;this.$onInit=function(){o.$$index=e.uniqueNumber(),o.$calculateTotalAmount(),o.$getCover(),o.$getPromo()},this.$getCover=function(){var a="/resources/public/img/no-gallery-image.png";_.forEach(o.room.type.gallery,function(t,e,n){0==e&&(a=o.storageUrl+t.path),t.cover&&(a=o.storageUrl+t.path)}),o.$$roomImage=a},this.$getPromo=function(){_.isEmpty(o.room.totalRate.promotions)||(o.$$promotion=o.room.totalRate.promotions[0])},this.$removeRoom=function(t){o.onRemove&&o.onRemove({$event:t,$room:o.room})},this.$openGallery=function(n){_.isEmpty(o.room.type.gallery)||$translate([o.room.type.roomType.nameKey,"room.category."+o.room.type.category]).then(function(t){var e=t[o.room.type.roomType.nameKey]+"&nbsp;<small>("+t["room.category."+o.room.type.category].toUpperCase()+")</small>";a.showGallery(n,e,_.sortBy(o.room.type.gallery,[function(t){return+Boolean(t.cover)}]),{storageUrl:o.storageUrl})})},this.$calculateTotalAmount=function(){n.calculateRoomTotalPrice(o.room)},this.$toggleInfo=function(t){o.$$showInfo=!_.isNil(t)&&_.isBoolean(t)?t:!o.$$showInfo,o.$$showInfo&&i.scrollToAnchor("ch-room-"+o.$$index+"-info")},this.$toggleRates=function(t){o.$$showRates=!_.isNil(t)&&_.isBoolean(t)?t:!o.$$showRates,o.$$showRates&&i.scrollToAnchor("ch-room-"+o.$$index+"-rates")}}t.$inject=["$scope","NumberUtils","Dialog","ReservationUtils","Navigator"],angular.module("itaca.components").component("chRoomEdit",{bindings:{room:"<",nights:"<?",storageUrl:"<?",title:"@",localeIso:"<",onRemove:"&?",city:"@",offset:"@"},controller:t,templateUrl:"/tpls/room-edit/room-edit.tpl"})}(),function(){"use strict";function t(t){var e=this;this.$onInit=function(){e.services=_.isArray(e.services)?e.services:e.chRoomCtrl.popularServices}}t.$inject=["$scope"],angular.module("itaca.components").component("chRoomBestServices",{require:{chRoomCtrl:"^chRoom"},bindings:{services:"<?"},controller:t,template:'<div layout layout-wrap layout-align="end start" ng-if="$ctrl.services.length"><span ng-repeat="service in $ctrl.services track by $index"><span><md-icon class="{{service.icon}} layout-padding no-padding-top" ng-class="{\'text-white\': $ctrl.chRoomCtrl.room.gallery.length}"></md-icon><md-tooltip ng-if="service.label || service.labelKey"><span ng-if="service.label" ng-bind="service.label"></span><span ng-if="!service.label" translate="{{service.labelKey}}"></span></md-tooltip></span></span></div>'})}(),function(){"use strict";function t(t){this.$onInit=function(){}}t.$inject=["$scope"],angular.module("itaca.components").component("chRoomContent",{require:{chRoomCtrl:"^chRoom"},bindings:{},controller:t,template:"<ng-transclude></ng-transclude>",transclude:!0})}(),function(){"use strict";function t(t,e,a,i,n){var o=this;this.$onInit=function(){o.chRoomCtrl.storageUrl||e.get().then(function(t){o.chRoomCtrl.storageUrl=t.url}),a([o.chRoomCtrl.room.roomType.nameKey,"room.category."+o.chRoomCtrl.room.category]).then(function(t){o.title=t[o.chRoomCtrl.room.roomType.nameKey]+" <small>("+t["room.category."+o.chRoomCtrl.room.category].toUpperCase()+")</small>"})},this.openGallery=function(n){a([o.chRoomCtrl.room.roomType.nameKey,"room.category."+o.chRoomCtrl.room.category]).then(function(t){var e=t[o.chRoomCtrl.room.roomType.nameKey]+" <small>("+t["room.category."+o.chRoomCtrl.room.category].toUpperCase()+")</small>";i.showGallery(n,e,_.sortBy(o.chRoomCtrl.room.gallery,[function(t){return+Boolean(t.cover)}]),{storageUrl:o.chRoomCtrl.storageUrl})})}}t.$inject=["$scope","AboutStorage","$translate","Dialog","NumberUtils"],angular.module("itaca.components").component("chRoomGallery",{require:{chRoomCtrl:"^chRoom",chRoomHeaderCtrl:"^chRoomHeader"},bindings:{cols:"@",rowspan:"@?",ratio:"@?",maxItems:"<?"},controller:t,template:'<ch-gallery gallery="$ctrl.chRoomCtrl.room.gallery" gallery-title="{{$ctrl.title}}" storage-url="$ctrl.chRoomCtrl.storageUrl" cols="{{$ctrl.cols}}" rowspan="{{$ctrl.rowspan}}" ratio="{{$ctrl.ratio}}" max-items="$ctrl.maxItems"></ch-gallery>'})}(),function(){"use strict";function t(t,e,n){var a=this;this.$mdMedia=e,this.$onInit=function(){a.chRoomCtrl.showRoomRates=!1,a.chRoomCtrl.showRoomInfo=!1},this.toggleInfo=function(){a.chRoomCtrl.showRoomInfo=!a.chRoomCtrl.showRoomInfo,a.chRoomCtrl.showRoomRates=!1,a.chRoomCtrl.showRoomInfo||n.scrollToAnchor("av-"+a.chRoomCtrl.$$index)},this.toggleRates=function(){a.chRoomCtrl.showRoomRates=!a.chRoomCtrl.showRoomRates,a.chRoomCtrl.showRoomInfo=!1,a.chRoomCtrl.showRoomRates?n.scrollToAnchor("av-"+a.chRoomCtrl.$$index+"-rates"):n.scrollToAnchor("av-"+a.chRoomCtrl.$$index)}}t.$inject=["$scope","$mdMedia","Navigator"],angular.module("itaca.components").component("chRoomHeader",{require:{chRoomCtrl:"^chRoom"},bindings:{},controller:t,template:'<div class="ch-room-header-content layout-column"><ng-transclude></ng-transclude><div ng-if="$ctrl.chRoomCtrl.showInfoBtn" class="img-bottom-left-bar layout-row layout-wrap layout-align-center-center"><md-button ng-class="{\'md-icon-button\' : $ctrl.$mdMedia(\'xs\')}" ng-click="$ctrl.toggleInfo()" aria-label="Open room information"><div class="row-mini"><md-icon class="mdi mdi-information-outline md-18 text-white"></md-icon><small class="hide-xs hide-sm" translate="common.information"></small></div></md-button></div><div ng-if="$ctrl.chRoomCtrl.showRateBtn" ng-class="::{\'img-right-bar\': $ctrl.$mdMedia(\'gt-xs\'), \'img-bottom-right-bar\': $ctrl.$mdMedia(\'xs\')}" class="layout-row layout-align-center-center"><md-button ng-click="$ctrl.toggleRates()" aria-label="Open room prices"><div layout class="row-mini text-left layout-padding no-padding"><div layout="column"><small><span class="text-initial" translate="common.from"></span><i ng-if="$ctrl.chRoomCtrl.bestRate.amount.initialAmount > 0 && $ctrl.chRoomCtrl.bestRate.amount.initialAmount > $ctrl.chRoomCtrl.bestRate.amount.finalAmount">&nbsp;<del>{{$ctrl.chRoomCtrl.bestRate.amount.initialAmount|chCurrency}}</del></i></small><span class="md-title"><strong>{{$ctrl.chRoomCtrl.bestRate.amount.finalAmount|chCurrency}}</strong></span><small ng-if="$ctrl.chRoomCtrl.nights > 0" class="text-lowercase"><span translate="common.for"></span>&nbsp;{{$ctrl.chRoomCtrl.nights}}<span ng-show="$ctrl.chRoomCtrl.nights == 1" translate="common.night"></span><span ng-show="$ctrl.chRoomCtrl.nights > 1" translate="common.nights"></span></small></div><div layout="column"><md-icon class="mdi md-48 text-white" ng-class="$ctrl.chRoomCtrl.showRoomRates ? \'mdi-chevron-up\' : \'mdi-chevron-down animated infinite bounce\'"></md-icon></div><md-tooltip hide-xs><span ng-if="!$ctrl.chRoomCtrl.showRoomRates" translate="ratesheet.rates.all.view"></span><span ng-if="$ctrl.chRoomCtrl.showRoomRates" translate="ratesheet.rates.hide"></span></md-tooltip></div></md-button></div></div>',transclude:!0})}(),function(){"use strict";function t(t,e,a,i){var o=this;this.$onInit=function(){o.chRoomCtrl.config=o.chRoomCtrl.config||{},o.chRoomCtrl.storageUrl?o.getRoomCover():e.get().then(function(t){o.chRoomCtrl.storageUrl=t.url,o.getRoomCover()})},this.getRoomCover=function(){o.$findRoomCover()},this.openGallery=function(n){a([o.chRoomCtrl.room.roomType.nameKey,"room.category."+o.chRoomCtrl.room.category]).then(function(t){var e=t[o.chRoomCtrl.room.roomType.nameKey]+" <small>("+t["room.category."+o.chRoomCtrl.room.category].toUpperCase()+")</small>";i.showGallery(n,e,_.sortBy(o.chRoomCtrl.room.gallery,[function(t){return+Boolean(t.cover)}]),{storageUrl:o.chRoomCtrl.storageUrl})})},this.$findRoomCover=function(){var a="/resources/public/img/no-gallery-image.png";_.forEach(o.chRoomCtrl.room.gallery,function(t,e,n){0==e&&(a=o.chRoomCtrl.storageUrl+t.path),t.cover&&(a=o.chRoomCtrl.storageUrl+t.path)}),o.roomImage=a}}t.$inject=["$scope","AboutStorage","$translate","Dialog"],angular.module("itaca.components").component("chRoomImage",{require:{chRoomCtrl:"^chRoom",chRoomHeaderCtrl:"^chRoomHeader"},bindings:{},controller:t,template:'<div class="flex layout-column layout-align-center-center"><img ng-src="{{$ctrl.roomImage}}" class="full-width display-block img-size" ng-class="{\'clickable\': $ctrl.chRoomCtrl.room.gallery.length}" ng-click="$ctrl.openGallery($event)" alt="Room cover image" lazy-image default-img-url="\'/resources/public/img/no-gallery-image.png\'"><md-tooltip ng-if="$ctrl.chRoomCtrl.room.gallery.length"><span translate="photo.photos.view.all"></span></md-tooltip></div>'})}(),function(){"use strict";function t(t,e){var a=this;this.$onInit=function(){a.chRoomCtrl.showInfoBtn=!0,a.getIncludedServices(),a.getBookableServices(),a.getPopularServices()},this.getPopularServices=function(){var n=!1;a.chRoomCtrl.popularServices=[],_.forEach(a.includedServices,function(t){var e={};"service.type.popular.wifi.room"==t.type.nameKey?(e.type="WIFI",e.icon="mdi mdi-wifi md-24"):"service.type.popular.pet.small"==t.type.nameKey||"service.type.popular.pet.medium"==t.type.nameKey||"service.type.popular.pet.large"==t.type.nameKey||"service.type.popular.pet.disabled"==t.type.nameKey?(e.type="PET",e.icon="mdi mdi-paw md-24"):"service.type.popular.breakfast"==t.type.nameKey||"service.type.popular.breakfast.room"==t.type.nameKey||"service.type.popular.breakfast.continental"==t.type.nameKey?(e.type="BREAKFAST",e.icon="mdi mdi-food-variant md-24"):"service.type.popular.smoking.room"==t.type.nameKey&&(e.type="SMOKING",e.icon="mdi mdi-smoking md-24",n=!0),e.labelKey="service.type.inroom."+e.type,a.chRoomCtrl.popularServices.push(e)}),n||a.chRoomCtrl.popularServices.push({type:"NO-SMOKING",icon:"mdi mdi-smoking-off md-24",labelKey:"service.type.inroom.NO-SMOKING"})},this.getIncludedServices=function(){a.includedServices=_.filter(a.chRoomCtrl.room.services,["bookability","INCLUDED"])},this.getBookableServices=function(){a.bookableServices=_.filter(a.chRoomCtrl.room.services,["bookability","BOOKABLE"])},this.toggleInfo=function(){a.chRoomCtrl.showRoomInfo=!a.chRoomCtrl.showRoomInfo,a.chRoomCtrl.showRoomRates=!1,a.chRoomCtrl.showRoomInfo||e.scrollToAnchor("av-"+a.chRoomCtrl.$$index)}}t.$inject=["$scope","Navigator"],angular.module("itaca.components").component("chRoomInfo",{require:{chRoomCtrl:"^chRoom"},bindings:{availability:"<"},controller:t,transclude:!0,templateUrl:"/tpls/room/room-info.tpl"})}(),function(){"use strict";function t(t){this.$onInit=function(){}}t.$inject=["$scope"],angular.module("itaca.components").component("chRoomPromo",{require:{chRoomCtrl:"^chRoom"},bindings:{},controller:t,template:'<div class="layout-column layout-margin-sm no-margin-left"><div ng-if="$ctrl.chRoomCtrl.onArrival" class="no-margin-left"><div class="layout-column layout-padding no-padding row-mini bg-success md-subhead"><strong><md-icon class="mdi mdi-thumb-up md-18 text-white"></md-icon><span translate="reservation.pay.at.hotel"></span></strong></div></div><div ng-if="$ctrl.chRoomCtrl.bestPromo" class="no-margin-left"><div class="layout-column layout-padding no-padding row-mini md-subhead" ng-class="{\'bg-success\': $ctrl.chRoomCtrl.bestPromo.onArrival || $ctrl.chRoomCtrl.bestPromo.promotionType == \'EARLY_BOOKING\', \'bg-info\' : !$ctrl.chRoomCtrl.bestPromo.onArrival && $ctrl.chRoomCtrl.bestPromo.promotionType == \'STANDARD\',  \'bg-primary-light\': !$ctrl.chRoomCtrl.bestPromo.onArrival && $ctrl.chRoomCtrl.bestPromo.promotionType == \'MINIMUM_STAY\', \'bg-primary\': !$ctrl.chRoomCtrl.bestPromo.onArrival && $ctrl.chRoomCtrl.bestPromo.promotionType == \'BOOK_TODAY\', \'bg-blue-sea\': !$ctrl.chRoomCtrl.bestPromo.onArrival && $ctrl.chRoomCtrl.bestPromo.promotionType == \'LAST_MINUTE\', \'bg-warn\': !$ctrl.chRoomCtrl.bestPromo.onArrival && $ctrl.chRoomCtrl.bestPromo.promotionType == \'LAST_SECOND\'}"> <strong ng-if="!$ctrl.chRoomCtrl.bestPromo.onArrival" ng-switch="$ctrl.chRoomCtrl.bestPromo.promotionType"> <md-icon class="mdi mdi-sale md-10 text-white"></md-icon> <span ng-switch-when="STANDARD"><span translate="common.offer.special"></span>&nbsp;<span ng-if="$ctrl.chRoomCtrl.bestPromo.discount.type==\'PERCENTAGE\'">-{{$ctrl.chRoomCtrl.bestPromo.discount.finalAmount}}%</span><span ng-if="$ctrl.chRoomCtrl.bestPromo.discount.type==\'PRICE\'">-{{$ctrl.chRoomCtrl.bestPromo.discount.finalAmount|chCurrency}}</span></span><span ng-switch-when="MINIMUM_STAY"><span translate="promotions.promotion.label.minstay.nights" translate-value-count="{{$ctrl.chRoomCtrl.bestPromo.minStay}}"></span>&nbsp;<span ng-if="$ctrl.chRoomCtrl.bestPromo.discount.type==\'PERCENTAGE\'">-{{$ctrl.chRoomCtrl.bestPromo.discount.finalAmount}}%</span><span ng-if="$ctrl.chRoomCtrl.bestPromo.discount.type==\'PRICE\'">-{{$ctrl.chRoomCtrl.bestPromo.discount.finalAmount|chCurrency}}</span></span><span ng-switch-when="BOOK_TODAY"><span translate="promotions.promotion.label.only.today"></span>!&nbsp;<span ng-if="$ctrl.chRoomCtrl.bestPromo.discount.type==\'PERCENTAGE\'">-{{$ctrl.chRoomCtrl.bestPromo.discount.finalAmount}}%</span><span ng-if="$ctrl.chRoomCtrl.bestPromo.discount.type==\'PRICE\'">-{{$ctrl.chRoomCtrl.bestPromo.discount.finalAmount|chCurrency}}</span></span><span ng-switch-when="EARLY_BOOKING"><span translate="promotions.early"></span>&nbsp;<span ng-if="$ctrl.chRoomCtrl.bestPromo.discount.type==\'PERCENTAGE\'">-{{$ctrl.chRoomCtrl.bestPromo.discount.finalAmount}}%</span><span ng-if="$ctrl.chRoomCtrl.bestPromo.discount.type==\'PRICE\'">-{{$ctrl.chRoomCtrl.bestPromo.discount.finalAmount|chCurrency}}</span></span><span ng-switch-when="LAST_MINUTE"><span translate="promotions.last.minute"></span>&nbsp;<span ng-if="$ctrl.chRoomCtrl.bestPromo.discount.type==\'PERCENTAGE\'">-{{$ctrl.chRoomCtrl.bestPromo.discount.finalAmount}}%</span><span ng-if="$ctrl.chRoomCtrl.bestPromo.discount.type==\'PRICE\'">-{{$ctrl.chRoomCtrl.bestPromo.discount.finalAmount|chCurrency}}</span></span><span ng-switch-when="LAST_SECOND"><span translate="promotions.last.second"></span>&nbsp;<span ng-if="$ctrl.chRoomCtrl.bestPromo.discount.type==\'PERCENTAGE\'">-{{$ctrl.chRoomCtrl.bestPromo.discount.finalAmount}}%</span><span ng-if="$ctrl.chRoomCtrl.bestPromo.discount.type==\'PRICE\'">-{{$ctrl.chRoomCtrl.bestPromo.discount.finalAmount|chCurrency}}</span></span></strong></div></div></div>',transclude:!0})}(),function(){"use strict";function t(t,e){this.$mdMedia=e,this.$onInit=function(){}}t.$inject=["$scope","$mdMedia"],angular.module("itaca.components").component("chRoomRate",{transclude:!0,require:{chRoomCtrl:"^chRoom",chRoomRatesCtrl:"^chRoomRates"},bindings:{rate:"<"},controller:t,templateUrl:"/tpls/room/room-rate.tpl"})}(),function(){"use strict";function t(t,n,e){var a=this;this.$onInit=function(){a.chRoomCtrl.showRateBtn=!0,a.getLowestRate(),a.isOnArrival(),a.bestPromotion(),a.hasFreeBeds()},this.hasFreeBeds=function(){_.isEmpty(a.availability.roomType.otherBeds)||(a.availability.hasFreeBeds=_.some(a.availability.roomType.otherBeds,function(t){return t.people.adults?t.adultsPrice<=0:t.people.boys?t.boysPrice<=0:t.people.children?t.childrenPrice<=0:!!t.people.kids&&t.kidsPrice<=0}))},this.bestPromotion=function(){var e=[];_.forEach(a.availability.totalRates,function(t){_.isEmpty(t.promotions)||(e=_.concat(e,t.promotions))}),a.chRoomCtrl.bestPromo=n.bestPromotion(e)},this.getLowestRate=function(){a.chRoomCtrl.bestRate=_.minBy(a.availability.totalRates,function(t){return t.amount.finalAmount})},this.isOnArrival=function(){a.chRoomCtrl.onArrival=a.availability.onArrival}}t.$inject=["$scope","ReservationUtils","DateUtils"],angular.module("itaca.components").component("chRoomRates",{require:{chRoomCtrl:"^chRoom"},bindings:{availability:"="},controller:t,template:'<div id="{{$ctrl.chRoomCtrl.$$index + \'-rates\'}}" ng-show="$ctrl.chRoomCtrl.showRoomRates"  ng-class="{\'animated fadeIn\': $ctrl.chRoomCtrl.showRoomRates}" ng-transclude></div>',transclude:!0})}(),function(){"use strict";function t(t,e){var n=this;this.toggleRates=function(){n.chRoomCtrl.showRoomRates=!n.chRoomCtrl.showRoomRates,n.chRoomCtrl.showRoomInfo=!1,n.chRoomCtrl.showRoomRates?e.scrollToAnchor("av-"+n.chRoomCtrl.$$index+"-rates"):e.scrollToAnchor("av-"+n.chRoomCtrl.$$index)},this.$onInit=function(){}}t.$inject=["$scope","Navigator"],angular.module("itaca.components").component("chRoomTitle",{require:{chRoomCtrl:"^chRoom"},bindings:{},controller:t,template:'<div class="img-title-bar layout-column layout-padding no-padding"><div class="layout-row layout-align-start-center"><div class="flex layout-column clickable" ng-click="$ctrl.toggleRates()" aria-label="show rate"><div class="md-title"><span translate="{{$ctrl.chRoomCtrl.room.roomType.nameKey}}"></span></div><div><small class="text-uppercase" translate="room.category.{{$ctrl.chRoomCtrl.room.category}}"></small></div></div><div class="layout-column no-padding"><div class="layout-row layout-wrap layout-align-end-center"><ch-people-icons people="$ctrl.chRoomCtrl.room.people" max="$ctrl.chRoomCtrl.room.guestsCount.standard" extra-people="$ctrl.chRoomCtrl.room.extraPeople" extra-max="$ctrl.chRoomCtrl.room.guestsCount.extra"></ch-people-icons></div></div></div></div>'})}(),function(){"use strict";function t(t,e){var n=this;this.$onInit=function(){n.$$index=e.uniqueNumber()}}t.$inject=["$scope","NumberUtils"],angular.module("itaca.components").component("chRoom",{transclude:!0,bindings:{room:"<",storageUrl:"<?",nights:"<?"},controller:t,template:'<div id="{{\'av-\'+ $ctrl.$$index}}" class="bg-gray-lighter md-margin no-margin-left no-margin-right relative" ng-transclude></div>'})}(),function(){"use strict";function t(i,o,l,t){var s=this;this.$onInit=function(){s.element=s.element||null,s.offset=isFinite(parseInt(s.offset))?parseInt(s.offset):500,s.ngDisabled=!!_.isBoolean(s.ngDisabled)&&s.ngDisabled,s.showClass=s.showClass||"zoomIn",_.isBoolean(s.showClass)&&(s.showClass=s.showClass?"zoomIn":""),s.hideClass=s.hideClass||"zoomOut",_.isBoolean(s.hideClass)&&(s.hideClass=s.hideClass?"zoomOut":""),angular.element(o.children()).addClass("hide")},this.$postLink=function(){s.$manageDisabled()},this.$manageDisabled=function(){s.ngDisabled=!!_.isBoolean(s.ngDisabled)&&s.ngDisabled,s.ngDisabled?s.$disableShow():s.$enableShow()},this.$onChanges=function(t){t&&t.ngDisabled&&s.$manageDisabled()},this.$enableShow=function(){angular.element(l).on("scroll",s.$toggle)},this.$disableShow=function(){angular.element(l).off("scroll",s.$toggle)},this.$checkVisible=function(){var t=document.querySelector(s.element);if(!t)return!1;var e=t.getBoundingClientRect(),n=Math.max(document.documentElement.clientHeight,window.innerHeight);return!(e.bottom<0||0<=e.top-n)},this.$toggle=function(){s.ngDisabled?s.$disableShow():t(s.$doToggle)},this.$doToggle=function(){var t=o.children(),e=angular.element(t.children());e&&e.addClass("animated");var n=l.pageYOffset;if(document.body){var a=window.getComputedStyle(document.body).getPropertyValue("top");n+=a?Math.abs(parseInt(a)):0}n>=s.offset&&!s.$checkVisible()?e&&(e.addClass("visible "+s.showClass),e.removeClass(s.hideClass),angular.element(o.children()).removeClass("hide")):e&&(e.removeClass("visible "+s.showClass),e.addClass(s.hideClass)),i.$apply()},this.$onDestroy=function(){s.$disableShow()}}t.$inject=["$scope","$element","$window","$timeout"],angular.module("itaca.components").component("chShowOnScroll",{transclude:!0,bindings:{offset:"@?",element:"@?",ngDisabled:"<?",showClass:"@?",hideClass:"@?"},controller:t,template:'<div class="ch-show-on-scroll" ng-transclude></div>'})}(),function(){"use strict";function t(n,e,a){var i=this;this.$onInit=function(){this.$initWatchers()},this.$postLink=function(){this.$$stepNumber=this.chStepperCtrl.$addStep(this)},this.$addOverlay=function(){if(!!!n.find(".ch-simple-step-body-overlay")[0]){var t=angular.element('<div class="ch-simple-step-body-overlay"></div>\n<div class="ch-simple-step-body-loading">\n<md-progress-circular md-mode="indeterminate"></md-progress-circular>\n</div>');e(t)(a),n.find(".ch-simple-stepper-scope").append(t)}},this.$initWatchers=function(){a.$watch(function(){return i.active},function(t,e){t?(n.addClass("ch-active"),i.$addOverlay()):n.removeClass("ch-active")})}}t.$inject=["$element","$compile","$scope"],angular.module("itaca.components").component("chSimpleStep",{transclude:!0,require:{chStepperCtrl:"^^chSimpleStepper"},bindings:{label:"@?",completedLabel:"@?",subtitle:"@?",completedSubtitle:"@?",optional:"<",optionalLabel:"@",ngDisabled:"<",iconClass:"@",iconCompletedClass:"@"},controller:t,templateUrl:"/tpls/simple-stepper/simple-step.tpl"})}(),function(){"use strict";function t(t,e,n,a){this.$onInit=function(){this.mobileMode=!!_.isBoolean(this.mobileMode)&&this.mobileMode,this.previousStepClick=!!_.isBoolean(this.previousStepClick)&&this.previousStepClick,this.linear=!_.isBoolean(this.linear)||this.linear,this.alternative=!_.isBoolean(this.alternative)||this.alternative,this.labelStep=this.labelStep||"Step",this.labelOf=this.labelOf||"of",this.$$steps=[],this.$$currentStep={index:0}},this.$postLink=function(){n.id||a.warn("You must set an id attribute to the stepper"),this.registeredStepper=e.register(this,n.id)},this.$onDestroy=function(){this.registeredStepper&&this.registeredStepper()},this.$addStep=function(t){var e=this.$$steps.push(t)-1;return this.$setCurrentStep(this.$$currentStep.index),e},this.$setCurrentStep=function(t){if(!(t=_.isFinite(t)?this.$$steps[t]:_.includes(this.$$steps,t)?t:null))return!1;var e=parseInt(this.$$currentStep.index);return this.$$currentStep=_.isPlainObject(this.$$currentStep)?this.$$currentStep:{},this.$$currentStep.index=t.$$stepNumber||_.indexOf(this.$$steps,t),this.$$currentStep.first=0==this.$$currentStep.index,this.$$currentStep.last=this.$$currentStep.index==this.$$steps.length-1,this.$$currentStep.lastButOne=this.$$currentStep.index==this.$$steps.length-2,this.$$currentStep.label=t.label,this.$$currentStep.completedLabel=t.completedLabel,this.$$currentStep.subtitle=t.subtitle,this.$$currentStep.completedSubtitle=t.completedSubtitle,this.$$currentStep.optional=t.optional,this.$$currentStep.optionalLabel=t.optionalLabel,this.$onStepChange(this.$$currentStep.index),this.$onStepChange(e),t},this.$onStepChange=function(t){var e=_.isFinite(t)?this.$$steps[t]:null;if(!e)return!1;e.$completed=this.isCompleted(t),e.$active=this.isActive(t)},this.next=function(){return this.$$currentStep.index<this.$$steps.length&&(this.clearError(),this.$setCurrentStep(this.$$currentStep.index+1),this.clearFeedback(),!0)},this.back=function(){return 0<this.$$currentStep.index&&(this.clearError(),this.$setCurrentStep(this.$$currentStep.index-1),this.clearFeedback(),!0)},this.skip=function(){return!!this.$$steps[this.$$currentStep.index].optional&&(this.$setCurrentStep(this.$$currentStep.index+1),this.clearFeedback(),!0)},this.error=function(t){var e=this.$$steps[this.$$currentStep.index];this.$$currentStep.hasError=e.hasError=!0,this.$$currentStep.message=e.message=t,this.clearFeedback()},this.clearError=function(){var t=this.$$steps[this.$$currentStep.index];this.$$currentStep.hasError=t.hasError=!1},this.goto=function(t){return t<this.$$steps.length&&(this.$setCurrentStep(t),this.clearFeedback(),!0)},this.showFeedback=function(t){this.hasFeedback=!0,this.feedbackMessage=t},this.clearFeedback=function(){this.hasFeedback=!1},this.isCompleted=function(t){return this.linear&&t<this.$$currentStep.index},this.isActive=function(t){return t===this.$$currentStep.index}}t.$inject=["$scope","$mdComponentRegistry","$attrs","$log"],angular.module("itaca.components").component("chSimpleStepper",{transclude:!0,bindings:{linear:"<?",previousStepClick:"<?",alternative:"<?",vertical:"<?",mobileMode:"<?",labelStep:"@?",labelOf:"@?"},controller:t,templateUrl:"/tpls/simple-stepper/simple-stepper.tpl"})}(),function(){"use strict";function t(n){return function(t){var e=n.get(t);return e||n.notFoundError(t),e}}t.$inject=["$mdComponentRegistry"],angular.module("itaca.components").factory("$chSimpleStepper",t)}(),function(){"use strict";function t(t,n){var a=this;this.$onInit=function(){a.direction=a.direction||"horizontal",a.containerCls=a.containerCls||"index-0 bg-gray-base",a.wrapperCls=a.wrapperCls||"layout-row layout-align-start-center",a.paginationCls=a.paginationCls||"swiper-pagination-white",a.slidesPerView=a.slidesPerView||1,a.slidesPerColumn=a.slidesPerColumn||1,a.loop=!_.isBoolean(a.loop)||a.loop,a.showNavButtons=!_.isBoolean(a.showNavButtons)||a.showNavButtons,a.paginationIsActive=!_.isBoolean(a.paginationIsActive)||a.paginationIsActive,a.paginationClickable=!_.isBoolean(a.paginationClickable)||a.paginationClickable,a.spaceBetween=a.spaceBetween||0,a.lazyLoading=!_.isBoolean(a.lazyLoading)||a.lazyLoading,a.$$overrideParameters={keyboardControl:!0,grabCursor:a.showNavButtons,centeredSlides:!0,lazyLoading:a.lazyLoading,preloadImages:!a.lazyLoading,lazyLoadingInPrevNext:a.lazyLoading,autoplayDisableOnInteraction:!1,pagination:!1,watchSlidesVisibility:a.lazyLoading&&("auto"==a.slidesPerView||1<a.slidesPerView)},a.$overrideConfig(),a.$sortGallery()},this.$sortGallery=function(){var t=angular.isFunction(a.sortFn)?a.sortFn:_.isBoolean(a.sort)&&a.sort?function(t){return+Boolean(t.cover)}:a.sort;t&&(a.gallery=_.sortBy(a.gallery,angular.isFunction(t)?[t]:t))},this.$overrideConfig=function(){_.assign(a.$$overrideParameters,a.overrideParameters)},this.$openGallery=function(t,e){a.openOnClick&&!_.isEmpty(a.gallery)&&n.showGallery(t,a.dialogTitle,a.gallery,{storageUrl:a.baseUrl,initialSlide:e||0})}}t.$inject=["$scope","Dialog"],angular.module("itaca.components").component("chSlidingGallery",{bindings:{gallery:"<?",baseUrl:"<?",sort:"<?",sortFn:"&?",openOnClick:"<?",tooltip:"@",dialogTitle:"@",onReady:"&",slidesPerView:"<?",slidesPerColumn:"<?",spaceBetween:"<?",parallax:"<?",parallaxTransition:"@",paginationIsActive:"<?",paginationClickable:"<?",showNavButtons:"<?",showScrollBar:"<?",loop:"<?",autoplay:"<?",initialSlide:"<?",containerCls:"@",wrapperCls:"@",paginationCls:"@",slideCls:"@",direction:"@",swiper:"<?",overrideParameters:"<?",lazyLoading:"<?"},controller:t,template:'<div flex ng-if="$ctrl.gallery.length"><ks-swiper-container override-parameters="$ctrl.$$overrideParameters"container-cls="{{$ctrl.containerCls}}"wrapper-cls="{{$ctrl.wrapperCls}}"pagination-cls="{{$ctrl.paginationCls}}"slide-cls="{{$ctrl.slideCls}}"slides-per-view="$ctrl.slidesPerView"slides-per-column="$ctrl.slidesPerColumn"autoplay="$ctrl.autoplay"direction="{{$ctrl.direction}}"show-nav-buttons="$ctrl.showNavButtons"show-scroll-bar="$ctrl.showScrollBar"pagination-is-active="$ctrl.paginationIsActive"pagination-clickable="$ctrl.paginationClickable"initial-slide="$ctrl.initialSlide"space-between="$ctrl.spaceBetween"parallax="$ctrl.parallax"parallax-transition="{{$ctrl.parallaxTransition}}"loop="$ctrl.loop"swiper="$ctrl.swiper"on-ready="$ctrl.onReady"><ks-swiper-slide slider-cls="no-bg" ng-class="{\'text-center\': $ctrl.$$overrideParameters.centeredSlides}" ng-repeat="image in $ctrl.gallery track by $index">\x3c!-- Preloaded Image --\x3e<div ng-if="!$ctrl.$$overrideParameters.lazyLoading" class="{{$ctrl.slideCls}} bg-center-center clickable" ng-style="{\'background-image\': \'url(\'+$ctrl.baseUrl + image.path+\')\'}"ng-click="$ctrl.$openGallery($event, $index)"></div>\x3c!-- Lazy Loading Image --\x3e<div ng-if="$ctrl.$$overrideParameters.lazyLoading" ng-attr-data-background="{{$ctrl.baseUrl}}{{image.path}}" class="{{$ctrl.slideCls}} bg-center-center clickable swiper-lazy"ng-click="$ctrl.$openGallery($event, $index)"><div class="swiper-lazy-preloader swiper-lazy-preloader-white"></div></div></ks-swiper-slide></ks-swiper-container><md-tooltip ng-if="$ctrl.openOnClick"><span ng-if="!$ctrl.tooltip" translate="photo.gallery.click.to.open"></span><span ng-if="$ctrl.tooltip" ng-bind="$ctrl.tooltip"></span></md-tooltip></div>'})}(),function(){"use strict";function t(t,e,n){var a=this;this.$onInit=function(){n.about&&(a.iconSize=a.iconSize||"md-38",a.mediaUrl=a.mediaUrl||"/resources/img/favicon-96x96.png",a.$$mediaUrl=e.parseUrl(a.mediaUrl).href,a.$$url=e.parseUrl(a.url).href)}}t.$inject=["$scope","UrlUtils","AppOptions"],angular.module("itaca.components").component("chSocialShare",{bindings:{iconSize:"<?",title:"@",text:"@",url:"@",tags:"@",mediaUrl:"@",fbAppId:"@"},controller:t,template:'<div class="layout-padding no-padding-top" ng-cloak><div hide-gt-sm class="layout-align-center-center layout-row layout-wrap"><a class="auto-height button-mini md-button" aria-label="whatsapp"socialsharesocialshare-provider="whatsapp"socialshare-url="{{$ctrl.$$url}}"socialshare-text="{{$ctrl.text}}"><md-icon class="mdi mdi-whatsapp {{$ctrl.iconSize}} material-icons text-whatsapp"></md-icon><div class="font-12 row-mini text-initial text-wrap">Whatsapp</div></a><a class="auto-height button-mini md-button" aria-label="sms"socialsharesocialshare-provider="sms"socialshare-text="{{$ctrl.text}}"socialshare-url="{{$ctrl.$$url}}"><md-icon class="mdi mdi-message-text {{$ctrl.iconSize}} material-icons text-primary"></md-icon><div class="font-12 row-mini text-initial text-wrap">SMS</div></a><a class="auto-height button-mini md-button" aria-label="facebook messenger"socialsharesocialshare-provider="facebook-messenger"socialshare-url="{{$ctrl.$$url}}"><md-icon class="mdi mdi-facebook-messenger {{$ctrl.iconSize}} material-icons text-messenger"></md-icon><div class="font-12 row-mini text-initial text-wrap">Messenger</div></a></div><md-divider hide-gt-sm></md-divider><div class="layout-align-center-center layout-row layout-wrap"><md-button class="auto-height button-mini" aria-label="email"socialsharesocialshare-provider="email"socialshare-media="{{$ctrl.$$mediaUrl}}"socialshare-subject="{{$ctrl.title}}"socialshare-body="{{$ctrl.text}} - {{$ctrl.$$url}}"socialshare-popup-height="300"socialshare-popup-width="400"><md-icon class="mdi mdi-email {{$ctrl.iconSize}} material-icons text-primary"></md-icon><div class="font-12 row-mini text-initial text-wrap">E-mail</div></md-button><md-button class="auto-height button-mini" aria-label="facebook"socialsharesocialshare-provider="facebook"socialshare-via="{{$ctrl.fbAppId}}"socialshare-type="feed"socialshare-media="{{$ctrl.$$mediaUrl}}"socialshare-text="{{$ctrl.title}}"socialshare-url="{{$ctrl.$$url}}"socialshare-redirect-uri="{{$ctrl.$$url}}"socialshare-quote="{{$ctrl.title}}"socialshare-hashtags="{{$ctrl.tags}}"socialshare-popup-height="300"socialshare-popup-width="400"socialshare-trigger="click"><md-icon class="mdi mdi-facebook {{$ctrl.iconSize}} material-icons text-fb"></md-icon><div class="font-12 row-mini text-initial text-wrap">Facebook</div></md-button><md-button class="auto-height button-mini" aria-label="twitter"socialsharesocialshare-provider="twitter"socialshare-hashtags="{{$ctrl.tags}}"socialshare-text="{{$ctrl.text}}"socialshare-url="{{$ctrl.$$url}}"socialshare-popup-height="300"socialshare-popup-width="400"socialshare-trigger="click"><md-icon class="mdi mdi-twitter text-twitter {{$ctrl.iconSize}} material-icons"></md-icon><div class="font-12 row-mini text-initial text-wrap">Twitter</div></md-button><md-button class="auto-height button-mini" aria-label="google plus"socialsharesocialshare-provider="google"socialshare-url="{{$ctrl.$$url}}"socialshare-popup-height="300"socialshare-popup-width="400"socialshare-trigger="click"><md-icon class="mdi mdi-google-plus text-gplus {{$ctrl.iconSize}} material-icons"></md-icon><div class="font-12 row-mini text-initial text-wrap">Google +</div></md-button><md-button class="auto-height button-mini" aria-label="telegram"socialsharesocialshare-provider="telegram"socialshare-url="{{$ctrl.$$url}}"socialshare-text="{{$ctrl.text}}"socialshare-trigger="click"><md-icon class="mdi mdi-telegram text-telegram {{$ctrl.iconSize}} material-icons"></md-icon><div class="font-12 row-mini text-initial text-wrap">Telegram</div></md-button><md-button class="auto-height button-mini" aria-label="skype"socialsharesocialshare-provider="skype"socialshare-url="{{$ctrl.$$url}}"socialshare-text="{{$ctrl.text}}"socialshare-popup-height="800"socialshare-popup-width="400"socialshare-trigger="click"><md-icon class="mdi mdi-skype text-skype {{$ctrl.iconSize}} material-icons"></md-icon><div class="font-12 row-mini text-initial text-wrap">Skype</div></md-button><md-button class="auto-height button-mini" aria-label="reddit"socialsharesocialshare-provider="reddit"socialshare-text="{{$ctrl.text}}"socialshare-url="{{$ctrl.$$url}}"socialshare-popup-height="300"socialshare-popup-width="400"socialshare-trigger="click"><md-icon class="mdi mdi-reddit text-reddit {{$ctrl.iconSize}} material-icons"></md-icon><div class="font-12 row-mini text-initial text-wrap">Reddit</div></md-button><md-button class="auto-height button-mini" aria-label="linkedin"socialsharesocialshare-provider="linkedin"socialshare-text="{{$ctrl.text}}"socialshare-url="{{$ctrl.$$url}}"socialshare-description="{{$ctrl.text}}"socialshare-source="{{$ctrl.title}}"socialshare-popup-height="300"socialshare-popup-width="400"socialshare-trigger="click"><md-icon class="mdi mdi-linkedin text-linkedin {{$ctrl.iconSize}} material-icons"></md-icon><div class="font-12 row-mini text-initial text-wrap">Linkedin</div></md-button><md-button class="auto-height button-mini" aria-label="pinterest"socialsharesocialshare-media="{{$ctrl.$$mediaUrl}}"socialshare-provider="pinterest"socialshare-text="{{$ctrl.text}}"socialshare-url="{{$ctrl.$$url}}"socialshare-popup-height="300"socialshare-popup-width="400"socialshare-trigger="click"><md-icon class="mdi mdi-pinterest text-pinterest {{$ctrl.iconSize}} material-icons"></md-icon><div class="font-12 row-mini text-initial text-wrap">Pinterest</div></md-button><md-button class="auto-height button-mini" aria-label="tumblr"socialsharesocialshare-provider="tumblr"socialshare-type="link"socialshare-text="{{$ctrl.text}}"socialshare-url="{{$ctrl.$$url}}"socialshare-popup-height="300"socialshare-popup-width="540"socialshare-trigger="click"><md-icon class="mdi mdi-tumblr text-tumblr {{$ctrl.iconSize}} material-icons"></md-icon><div class="font-12 row-mini text-initial text-wrap">Tumblr</div></md-button><md-button class="auto-height button-mini" aria-label="vk"socialsharesocialshare-provider="vk"socialshare-text="{{$ctrl.text}}"socialshare-url="{{$ctrl.$$url}}"socialshare-popup-height="300"socialshare-popup-width="400"socialshare-trigger="click"><md-icon class="mdi mdi-vk text-vk {{$ctrl.iconSize}} material-icons"></md-icon><div class="font-12 row-mini text-initial text-wrap">Vk</div></md-button></div></div>'})}(),function(){"use strict";function t(t,e,i){var o=this;this.$onInit=function(){o.$$parentNode=o.stickyParent?document.querySelector(o.stickyParent):null,o.$$parentNode||(o.$$parentNode=e.parent()[0]),o.$$parentNode.style.position="relative",o.$$wrapperNode=e[0].querySelector(".ch-sticky-wrapper"),o.$$targetEl=angular.element(e[0].querySelector(".ch-sticky")),o.stickyOffset=o.stickyOffset||0,o.scrollContainer=(o.scrollContainer?document.querySelector(o.scrollContainer):null)||i,o.scrollContainer.addEventListener("scroll",o.$doSticky)},this.$onDestroy=function(){o.scrollContainer.removeEventListener("scroll",o.$doSticky)},this.$doSticky=function(){var t=o.$$parentNode.offsetHeight,e=o.$$parentNode.offsetTop-o.stickyOffset,n=o.$$targetEl[0].offsetHeight,a=!_.isEmpty(angular.element(document.querySelectorAll(".md-select-backdrop, .md-menu-backdrop, .md-dialog-backdrop, .md-bottom-sheet-backdrop")))?Math.abs(parseInt(document.body.style.top)):i.pageYOffset;e<=a&&a<=e+(t-n)?(o.$$targetEl.css({position:"fixed",top:o.stickyOffset+"px","z-index":"10",bottom:"",width:o.$$wrapperNode.offsetWidth+"px"}),o.stickyClass&&o.$$targetEl.addClass(o.stickyClass),o.onSticky&&onSticky()):(e<=a&&e+(t-n)<a?o.$$targetEl.css({position:"absolute",bottom:"0","z-index":"",top:"",width:""}):o.$$targetEl.css({position:"absolute",bottom:"","z-index":"",top:"0",width:""}),o.stickyClass&&o.$$targetEl.removeClass(o.stickyClass))}}t.$inject=["$scope","$element","$window"],angular.module("itaca.components").component("chSticky",{transclude:!0,bindings:{stickyParent:"@",stickyOffset:"@",stickyClass:"@",scrollContainer:"@",onSticky:"&?"},controller:t,template:'<div class="ch-sticky-wrapper"><div class="ch-sticky" ng-transclude></div></div>'})}(),function(){"use strict";function t(t){var n=this;this.$onInit=function(){t.$watchGroup([function(){return n.start},function(){return n.end}],n.$calculateDiff)},this.$calculateDiff=function(){var t=n.start?moment(n.start):moment(),e=n.start?moment(n.end):moment();n.$$timeLeft=t.to(e)}}t.$inject=["$scope"],angular.module("itaca.components").component("chTimeLeft",{bindings:{start:"<?",end:"<?"},controller:t,template:'<span ng-bind="$ctrl.$$timeLeft"></span>'})}(),function(){"use strict";function t(t,e,n){t.$mdMedia=n;var a=this;this.$onInit=function(){a.event={date:a.date,title:a.eventTitle,iconBg:a.iconBg,iconClass:a.iconClass,dateFormat:a.dateFormat,animatedClass:a.chTimelineCtrl.animatedClass},a.chTimelineCtrl.addEvent(a.event),a.titleQuote=!_.isBoolean(a.titleQuote)||a.titleQuote,e.addClass("ch-timeline-event flex-xs-100 relative layout-column"),e.addClass("CENTER"==a.event.align?"flex-50":"flex-100")},this.$onChanges=function(t){t&&(t.eventTitle&&a.event&&(a.event.title=a.eventTitle),t.date&&a.event&&(a.event.date=a.date),t.iconBg&&a.event&&(a.event.iconBg=a.iconBg),t.iconClass&&a.event&&(a.event.iconClass=a.iconClass),t.dateFormat&&a.event&&(a.event.dateFormat=a.dateFormat))},this.$onDestroy=function(){a.chTimelineCtrl.removeEvent(a.event)}}t.$inject=["$scope","$element","$mdMedia"],angular.module("itaca.components").component("chTimelineEvent",{require:{chTimelineCtrl:"^chTimeline"},transclude:!0,bindings:{date:"<",eventTitle:"@",titleQuote:"<?",iconBg:"@",iconClass:"@",dateFormat:"@",isNew:"<?",ngDisabled:"<?"},controller:t,template:'<div class="md-padding relative" ch-animated="{{$ctrl.event.animatedClass}}" ch-animated-delay="{{$ctrl.event.animatedDelay}}"><div class="ch-timeline-event-icon {{$ctrl.event.iconBg}}"><md-icon ng-if="$ctrl.event.iconClass" class="material-icons {{$ctrl.event.iconClass}}"></md-icon><div ng-if="!$ctrl.event.iconClass" class="md-subhead ng-scope row-mini"><div class="text-bold">{{$ctrl.event.date|utcDate:\'d\'}}</div><div class="text-small">{{$ctrl.event.date|utcDate:\'MMM\'}}</div></div></div><div class="ch-timeline-event-content layout-padding no-padding bg-white text-left md-whiteframe-1dp"  ng-class="{\'locked\': $ctrl.ngDisabled}"><div ng-if="$ctrl.event.title || $ctrl.event.dateFormat" class="layout-row layout-wrap layout-padding layout-align-start-center"><div class="md-subhead text-left" ng-class="!$mdMedia(\'gt-sm\') ? \'flex-100\': \'flex\'"><span ng-if="$ctrl.isNew"><md-icon class="mdi mdi-new-box text-info material-icons"></md-icon></span><strong ng-if="$ctrl.event.title"><em><span ng-if="$ctrl.titleQuote">&ldquo;</span><span>{{$ctrl.event.title}}</span><span ng-if="$ctrl.titleQuote">&bdquo;</span></em></strong></div><div class="text-gray-light text-small">{{$ctrl.event.date|utcDate:$ctrl.event.dateFormat}}</div></div><div class="no-padding" ng-transclude></div></div></div>'})}(),function(){"use strict";function t(t,e,n){var a=this;this.events=[],this.bgArray=["bg-success text-white","bg-info text-white","bg-warn text-white","bg-danger text-white","bg-primary text-white","bg-primary-light text-white","bg-blue-sea text-white","bg-gray-light text-white","bg-gray-lighter only-border text-gray-light"],this.$onInit=function(){a.hideIcon=!!_.isBoolean(a.hideIcon)&&a.hideIcon,a.randomBg=!_.isBoolean(a.randomBg)||a.randomBg,a.manageAlign()},this.$onChanges=function(t){t&&(t.hideIcon&&(a.hideIcon=!!_.isBoolean(a.hideIcon)&&a.hideIcon),t.align&&a.manageAlign())},this.manageAlign=function(){a.align=_.includes(["LEFT","CENTER","RIGHT"],a.align)?a.align:"CENTER",a.align=e("gt-xs")?a.align:"RIGHT",a.alignClass="ch-timeline-"+a.align.toLowerCase(),a.animatedClass="RIGHT"==a.align?"slideInRight":"LEFT"==a.align?"slideInLeft":"slideInUp",_.forEach(a.events,function(t){t.align=newVal})},this.manageIconBgColor=function(t){_.isNil(t.iconBg)&&a.randomBg&&(a.bgArrayLeft=_.isEmpty(a.bgArrayLeft)?angular.copy(a.bgArray):a.bgArrayLeft,t.iconBg=_.sample(a.bgArrayLeft),_.pull(a.bgArrayLeft,t.iconBg),a.lastIconBg||a.lastIconBg==t.iconBg?a.manageIconBgColor(t):a.lastIconBg=t.iconBg)},this.addEvent=function(t){t.align=a.align,a.manageIconBgColor(t),t.index=a.events.push(t)-1,t.animatedDelay=0<=t.index&&t.index<=10?100*t.index:1e3,a.barClass=n.isOdd(a.events.length)?"ch-timeline-odd":"ch-timeline-even"},this.removeEvent=function(t){_.pull(a.events,t),a.barClass=n.isOdd(a.events.length)?"ch-timeline-odd":"ch-timeline-even"}}t.$inject=["$scope","$mdMedia","NumberUtils"],angular.module("itaca.components").component("chTimeline",{transclude:!0,bindings:{align:"@",randomBg:"<?",hideIcon:"<?"},controller:t,template:'<div class="ch-timeline {{$ctrl.alignClass}} {{$ctrl.barClass}} {{$ctrl.hideIcon ? \'no-icon\' : null}}"><div class="layout-row layout-wrap" ng-transclude></div><bar></bar></div>'})}(),function(){"use strict";function t(t,e){var n=this;n.$onInit=function(){t.$watchGroup([function(){return n.text},function(){return n.maxLength}],n.$truncate)},n.$truncate=function(){n.$$showTooltip=!n.hideTooltip&&n.text.length>n.maxLength,n.$$truncated=e(n.text,n.maxLength,n.suffix)}}t.$inject=["$scope","truncateFilter"],angular.module("itaca.components").component("chTruncate",{bindings:{text:"@",maxLength:"<?",suffix:"@",hideTooltip:"<?"},controller:t,template:'<span><span>{{$ctrl.$$truncated}}</span><md-tooltip ng-if="$ctrl.$$showTooltip">{{$ctrl.text}}</md-tooltip></span>'})}(),function(){"use strict";function t(e,l){var s=this;this.$$defaultUnits=["NUMBERS","HOURS","DAYS","WEEKS","MONTHS","YEARS"],this.$onInit=function(){s.ngModel=_.isPlainObject(s.ngModel)?s.ngModel:{},s.ngDisabled=!!_.isBoolean(s.ngDisabled)&&s.ngDisabled},this.$postLink=function(){s.$initCounts(),s.$initUnits()},this.$onChanges=function(t){t.ngModel&&(s.ngModel=_.isPlainObject(s.ngModel)?s.ngModel:{},t.ngModel.isFirstChange()&&(s.$$initialValue=angular.copy(s.ngModel))),(t.counts||t.disabledCounts||t.ngMin||t.ngStep||t.ngMax)&&s.$initCounts(),(t.units||t.disabledUnits)&&s.$initUnits()},this.$initCounts=function(){var t=[];if(_.isArray(s.counts)&&!_.isEmpty(s.counts))t=angular.copy(s.lengths);else{var e=1,n=10,a=1;if(s.ngMin&&_.isFinite(parseFloat(s.ngMin))){var i=parseFloat(s.ngMin);e=0<=i?i:e}s.ngStep&&_.isFinite(parseFloat(s.ngStep))&&(a=parseFloat(s.ngStep)),s.ngMax&&_.isFinite(parseFloat(s.ngMax))&&(n=parseFloat(s.ngMax));var o=n/a;t=l([],o=o<10?o:10,e,a)}s.$$counts=_.map(t,function(t){return{value:t,disabled:_.includes(s.disabledCounts,t)&&!(s.$$initialValue&&s.$$initialValue.count==t)}}),s.$manageManualCount()},this.$initUnits=function(){var t=angular.copy(s.$$defaultUnits);_.isEmpty(s.units)||(t=_.intersection(s.$$defaultUnits,s.units)),s.$$units=[],_.forEach(t,function(t){s.$$units.push({value:t,disabled:_.includes(s.disabledUnits,t)&&!(s.$$initialValue&&s.$$initialValue.unit==t)})})},this.$toggleManualCount=function(t){var e=_.isBoolean(t)?t:!s.$$manualCount;if(s.$checkCount(),!e){var n=s.ngModel?s.ngModel.count:null;if(!_.some(s.$$counts,{value:n,disabled:!1})){var a=_.find(s.$$counts,["disabled",!1]);_.isNil(a)?e=!0:(s.ngModel=s.ngModel||{},s.ngModel.count=a.value)}}return s.$$manualCount=e,s.$$manualCount},this.$manageManualCount=function(){return s.ngModel&&s.ngModel.count?s.$toggleManualCount(!_.some(s.$$counts,["value",s.ngModel.count])):s.$toggleManualCount(!1)},this.$checkCount=function(){if(e.chValueForm){var t=e.chValueForm.minLength;t&&(s.$initManualCountValidator(),t.$validate())}},this.$initManualCountValidator=function(){if(e.chValueForm){var t=e.chValueForm.count;t&&(t.$validators.exists||(t.$validators.exists=function(t,e){if(!t||isNaN(t))return!0;var n=Number(t);return!(_.includes(s.disabledCounts,n)&&(!s.$$initialValue||s.$$initialValue.count!=n))}))}},this.$update=function(){s.ngModelCtrl.$setViewValue(s.ngModel)}}t.$inject=["$scope","rangeFilter"],angular.module("itaca.components").component("chValueInput",{require:{ngModelCtrl:"ngModel"},bindings:{ngModel:"<",counts:"<?",disabledCounts:"<?",units:"<?",disabledUnits:"<?",hideUnit:"<?",ngMin:"<?",ngStep:"<?",ngMax:"<?",ngDisabled:"<?",ngReadonly:"<?",errorMessages:"<?"},controller:t,templateUrl:"/tpls/value-input/value-input.tpl"})}(),function(){"use strict";function t(t){this.$onInit=function(){}}t.$inject=["$scope"],angular.module("itaca.components").component("chValue",{bindings:{value:"<"},controller:t,templateUrl:"/tpls/value/value.tpl"})}(),function(){"use strict";function t(t){var e=this;this.$onInit=function(){e.$initWatchers()},this.$prepareText=function(){e.$$textArr=_.split(e.text,"")},this.$initWatchers=function(){t.$watch(function(){return e.text},ctr.$prepareText)}}t.$inject=["$scope"],angular.module("itaca.components").component("chVerticalText",{bindings:{text:"<"},controller:t,template:'<div><p ng-repeat="char in $ctrl.$$textArr">{{char}}</p></div>'})}(),function(){"use strict";angular.module("itaca.components").factory("WeatherUtils",function(){var t={getInfo:function(t){if(!t)return null;var e,n="mdi-minus",a="n"==t.slice(-1);switch(t){case"01d":n=e="sunny";break;case"01n":n=e="starry";break;case"02d":case"02n":e="partly.cloudy",n="cloudy";break;case"03d":case"03n":case"04d":case"04n":n=e="cloudy";break;case"09d":case"09n":e="drizzle",n="rainy";break;case"010d":case"010n":e="rain",n="rainy";break;case"011d":case"011n":e="thunderstorm",n="stormy";break;case"013d":case"013n":n=e="snowy";break;case"050d":case"050n":default:e="variable",n="material-icons md-160 mdi mdi-weather-windy text-white"}return{icon:n,label:e,isNight:a}},getLabel:function(t){if(!t)return null;var e="";switch(t){case"01d":e="sunny";break;case"01n":e="starry";break;case"02d":case"02n":e="partly.cloudy";break;case"03d":case"03n":case"04d":case"04n":e="cloudy";break;case"09d":case"09n":e="drizzle";break;case"010d":case"010n":e="rain";break;case"011d":case"011n":e="thunderstorm";break;case"013d":case"013n":e="snowy";break;case"050d":case"050n":default:e="variable"}return e},getIconClass:function(t){if(!t)return null;var e="mdi-minus";switch(t){case"01d":e="sunny";break;case"01n":e="starry";break;case"02d":case"02n":e="cloudy";break;case"03d":case"03n":case"04d":case"04n":e="cloudy";break;case"09d":case"09n":e="rainy";break;case"010d":case"010n":e="rainy";break;case"011d":case"011n":e="stormy";break;case"013d":case"013n":e="snowy";break;case"050d":case"050n":default:e="material-icons md-160 mdi mdi-weather-windy text-white"}return e},isNight:function(t){return t?"n"==t.slice(-1):null}};return t})}(),function(){"use strict";function t(t,e,n,a,i,o){var l=this;this.$onInit=function(){l.$reset()},this.$onChanges=function(t){t.city&&l.$getWeather()},this.$reset=function(){l.$$weather={icon:"mdi mdi-minus material-icons md-164",temp:"-"}},this.$getWeather=function(){a.get(l.city,l.country).then(function(t){_.isNil(t)?e.error("Error getting weather"):(l.$$weather.temp=o.fixedDecimals(t.main.temp,1),l.$getInfo(t.weather[0].icon))},function(t){e.error(t),l.$reset()})},this.$getInfo=function(t){_.assign(l.$$weather,i.getInfo(t))}}t.$inject=["$scope","$log","$http","Weather","WeatherUtils","NumberUtils"],angular.module("itaca.components").component("chWeather",{bindings:{city:"@",country:"@"},controller:t,template:'<div><div class="relative overflow-hidden weather-container"><i ng-if="$ctrl.$$weather.label == \'partly.cloudy\'" ng-class="$ctrl.$$weather.isNight ? \'starry\' : \'sunny\'" class="cloud"></i><i class="{{$ctrl.$$weather.icon}}"></i></div><div ng-if="$ctrl.$$weather.label" class="text-white"><span translate="weather.{{$ctrl.$$weather.label}}"></span></div><div class="md-headline text-bold text-white text-capitalize"><span>{{$ctrl.city}}</span></div><div class="md-body-2 text-white text-uppercase"><span>{{$ctrl.country}}</span></div><div><span class="md-headline text-bold text-white">{{$ctrl.$$weather.temp}}</span><mdi-icon class="mdi mdi-temperature-celsius material-icons text-white"></md-icon></div></div>'})}(),function(){"use strict";function a(t,i,e){var o=this;this.$$appId=e,this.API=t("https://api.openweathermap.org/data/2.5/weather"),this.get=function(e,n){var a=i.defer();if(!e)return a.reject("City cannot be null"),a.promise;var t={appId:o.$$appId,q:e+","+n,mode:"json",units:"metric"};return o.API.get(t,function(t){a.resolve(t)},function(t){a.reject(t.data&&t.data.message?t.data.message:"Error getting weather for "+e+", "+n)}),a.promise}}angular.module("itaca.components").provider("Weather",function(){var n="";this.setAppId=function(t){n=t},this.$get=["$resource","$q",function(t,e){return new a(t,e,n)}]})}(),function(){"use strict";function t(t,e){var n=this;this.$onInit=function(){n.labelClass=n.labelClass||"text-primary",n.$$step={label:n.label,$uid:e.uniqueNumber(),$done:!0,$active:!1},n.chWizardStepsDoneContentCtrl.addStep(n.$$step)},this.$onDestroy=function(){n.chWizardStepsDoneContentCtrl.removeStep(n.$$step)},this.$edit=function(){n.chWizardStepsDoneContentCtrl.editStep(n.$$step)}}t.$inject=["$scope","NumberUtils"],angular.module("itaca.components").component("chWizardStepDone",{transclude:!0,require:{chWizardStepsDoneContentCtrl:"^chWizardStepsDoneContent"},bindings:{label:"@",labelClass:"@",onEdit:"&"},controller:t,templateUrl:"/tpls/wizard/wizard-step-done.tpl"})}(),function(){"use strict";function t(t,e){var n=this;this.$onInit=function(){n.activeLabelClass=n.activeLabelClass||"text-primary",n.$$step={label:n.label,$uid:e.uniqueNumber()},n.chWizardCtrl.addStep(n.$$step)},this.$onDestroy=function(){n.chWizardCtrl.removeStep(n.$$step)}}t.$inject=["$scope","NumberUtils"],angular.module("itaca.components").component("chWizardStep",{transclude:!0,require:{chWizardCtrl:"^chWizard"},bindings:{label:"@",labelClass:"@",activeLabelClass:"@"},controller:t,templateUrl:"/tpls/wizard/wizard-step.tpl"})}(),function(){"use strict";function t(t){var e=this;this.$onInit=function(){},this.addStep=function(t){return!!_.isPlainObject(t)&&(e.$$doneSteps=_.isArray(e.$$doneSteps)?e.$$doneSteps:[],t.$active=_.isEmpty(e.$$doneSteps),t.$first=_.isEmpty(e.$$doneSteps),t.$index=_.size(e.$$doneSteps),t.$last=!1,t.$done=!0,e.$$doneSteps.push(t)-1)},this.removeStep=function(t){_.pull(e.$$doneSteps,t)},this.editStep=function(t){e.removeStep(t),e.chWizardCtrl.editStep(t)}}t.$inject=["$scope"],angular.module("itaca.components").component("chWizardStepsDoneContent",{transclude:!0,require:{chWizardCtrl:"^chWizard"},controller:t,templateUrl:"/tpls/wizard/wizard-steps-done-content.tpl"})}(),function(){"use strict";function t(e,n,a){var i=this;this.$onInit=function(){i.direction=i.direction||"vertical"},this.addStep=function(t){return!!_.isPlainObject(t)&&(i.$$steps=_.isArray(i.$$steps)?i.$$steps:[],t.$first=_.isEmpty(i.$$steps),t.$index=_.size(i.$$steps),t.$last=!1,t.$done=!1,t.$first&&((i.$$currentStep=t).$stopAnimation=!0,t.$active=!0),i.$$steps.push(t)-1)},this.removeStep=function(t){_.pull(i.$$steps,t)},this.editStep=function(t){return i.$goToStep(t.$index)},this.$forward=function(){var t=e.chFormWizardForm;if(t.$setSubmitted(),t.$invalid)return a.focusFirstInvalid(t.$name),!1;i.$goToStep(i.$$currentStep.$index+1)&&i.onForward&&i.onForward({$form:t,$step:i.$$currentStep})},this.$back=function(){return i.$goToStep(i.$$currentStep.$index-1)},this.$confirm=function(){var t=e.chFormWizardForm;if(t.$setSubmitted(),t.$invalid)return a.focusFirstInvalid(t.$name),!1;i.$$currentStep.$last?i.onConfirm&&i.onConfirm({$form:t,$step:i.$$currentStep}):i.$forward()},this.$goToStep=function(t){return!(t<0||t>=_.size(i.$$steps))&&(_.forEach(i.$$steps,function(t,e,n){t.$active=!1,t.$stopAnimation=!1,t.$first=0==e,t.$last=e==_.size(n)-1}),i.$$currentStep=i.$$steps[t],i.$$currentStep.$active=!0,n(function(){i.$$currentStep.$stopAnimation=!0},1e3),t)}}t.$inject=["$scope","$timeout","FormUtils"],angular.module("itaca.components").component("chWizard",{transclude:!0,bindings:{direction:"@",onForward:"&",onBack:"&",onConfirm:"&"},controller:t,templateUrl:"/tpls/wizard/wizard.tpl"})}(),angular.module("itaca.components").run(["$templateCache",function(t){"use strict";t.put("/tpls/amount-input/amount-input.tpl",'<ng-form name="chAmountInputForm"><div layout layout-padding class="no-padding"><div><md-input-container md-no-float="$ctrl.labelNoFloat" class="{{$ctrl.inputContainerClass}}" ng-class="{\'md-icon-left\': $ctrl.amountType, \'no-padding-left\': !$ctrl.amountType}"><label ng-if="$ctrl.label && !$ctrl.labelNoFloat"><span ng-bind="$ctrl.label"></span></label><md-icon ng-if="$ctrl.amountType == \'PRICE\'" class="mdi md-18" ng-class="{\n\t\t\t\t\t\'mdi-currency-eur\': !$ctrl.amountCurrency || $ctrl.amountCurrency == \'EUR\', \n\t\t\t\t\t\'mdi-currency-usd\': $ctrl.amountCurrency == \'USD\'}"></md-icon><md-icon ng-if="$ctrl.amountType == \'PERCENTAGE\'" class="mdi mdi-percent md-18"></md-icon><input type="text" name="{{$ctrl.inputName}}" placeholder="{{$ctrl.label}}" ng-model="$ctrl.ngModel.finalAmount" ng-required="$ctrl.ngRequired" ng-readonly="$ctrl.readonly" ng-change="$ctrl.$update()" ng-disabled="$ctrl.ngDisabled" ng-min="$ctrl.ngMin" ng-step="$ctrl.ngStep" ng-max="$ctrl.ngModel.type == \'PERCENTAGE\' ? 100 : $ctrl.ngMax" ng-pattern="$ctrl.allowNegative ? $ctrl.$$REGEXP.priceNoStrict : $ctrl.$$REGEXP.price" aria-label="Amount"><div ng-if="$ctrl.errorMessages" ng-messages="chAmountInputForm[$ctrl.inputName].$error"><div ng-repeat="errorObj in $ctrl.errorMessages" ng-message="{{errorObj.error}}"><span ng-if="errorObj.message" ng-bind="{{errorObj.message}}"></span><span ng-if="!errorObj.message && errorObj.messageKey" translate="{{errorObj.messageKey}}" translate-values="errorObj.messageKeyParams"></span></div></div></md-input-container></div><div ng-if="!$ctrl.amountType"><md-input-container md-no-float><md-select name="amountType" placeholder="{{::(\'common.amount.type\'|translate)}}" ng-model="$ctrl.ngModel.type" ng-required="$ctrl.ngRequired" ng-readonly="$ctrl.readonly" ng-change="$ctrl.$update()" aria-label="Amount type" ng-disabled="$ctrl.ngDisabled"><md-option value="PRICE" ng-selected="!$ctrl.ngModel.type || $ctrl.ngModel.type == \'PRICE\'"><md-icon class="mdi md-14" ng-class="{\n\t         \t\t\t\t\'mdi-currency-eur\': !$ctrl.amountCurrency || $ctrl.amountCurrency == \'EUR\', \n\t         \t\t\t\t\'mdi-currency-usd\': $ctrl.amountCurrency == \'USD\'}"></md-icon></md-option><md-option value="PERCENTAGE" ng-selected="$ctrl.ngModel.type == \'PERCENTAGE\'"><md-icon class="mdi mdi-percent md-14"></md-icon></md-option></md-select><div ng-messages="chAmountInputForm.amountType.$error"><div ng-message="required"><span translate-once="error.required"></span></div></div></md-input-container></div></div></ng-form>'),t.put("/tpls/bed-sold-edit/bed-sold-edit.tpl",'<div><ng-form name="bedSoldEditForm"><div layout><div flex><strong><span translate="bed.bed"></span><span translate="bed.{{$ctrl.bedSold.bed.type}}"></span></strong><div class="text-gray-light text-small"><span translate="bed.{{$ctrl.bedSold.bed.type}}.description"></span></div><div class="text-small text-lowercase"><span ng-if="$ctrl.bedSold.bed.adultsPrice"><span>{{$ctrl.bedSold.bed.adultsPrice|chCurrency}}&nbsp;</span><span translate="people.adult"></span><span ng-if="$ctrl.bedSold.bed.boysPrice">,&nbsp;</span></span><span ng-if="$ctrl.bedSold.bed.boysPrice"><span>{{$ctrl.bedSold.bed.boysPrice|chCurrency}}&nbsp;</span><span translate="people.boy"></span><span ng-if="$ctrl.bedSold.bed.childrenPrice">,&nbsp;</span></span><span ng-if="$ctrl.bedSold.bed.childrenPrice"><span>{{$ctrl.bedSold.bed.childrenPrice|chCurrency}}&nbsp;</span><span translate="people.child"></span><span ng-if="$ctrl.bedSold.bed.kidsPrice">,&nbsp;</span></span><span ng-if="$ctrl.bedSold.bed.kidsPrice"><span>{{$ctrl.bedSold.bed.kidsPrice|chCurrency}}&nbsp;</span><span translate="people.kid"></span></span></div><div class="text-gray-light"><small><span><span translate="common.for"></span>&nbsp;{{$ctrl.bedSold.bed.maxPerson}}&nbsp;</span><span ng-if="$ctrl.bedSold.bed.maxPerson > 1" class="text-lowercase" translate="people.people"></span><span ng-if="$ctrl.bedSold.bed.maxPerson == 1" class="text-lowercase" translate="people.person"></span></small></div><div class="text-gray-light"><small><em ng-if="$ctrl.bedSold.bed.frequency == \'LUMP_SUM\'"><span translate="bed.price.question.info"></span><span class="text-lowercase" translate="common.entire.stay"></span></em><em ng-if="$ctrl.bedSold.bed.frequency == \'DAILY\'" translate="bed.price.question.info.and.night"></em></small></div></div><div class="layout-row layout-align-center-end"><div class="layout-column layout-align-center-center"><strong ng-if="$ctrl.$$guestsCount.total > 0 && $ctrl.bedSold.amount" class="md-title"><span ng-if="$ctrl.bedSold.amount.finalAmount > 0">{{$ctrl.bedSold.amount.finalAmount|chCurrency}}</span><span ng-if="$ctrl.bedSold.amount.finalAmount == 0" class="text-success" translate="common.free"></span></strong><span ng-if="$ctrl.$$guestsCount.total <= 0 || !$ctrl.bedSold.amount">-</span><small class="text-mini text-gray-light no-padding-bottom"><span ng-if="$ctrl.nights > 1" translate="reservation.price.for.nights" translate-values="{count: $ctrl.nights}"></span><span ng-if="$ctrl.nights == 1" translate="reservation.price.for.one.night"></span></small></div></div></div><h2 class="md-subhead no-margin-bottom" ng-class="{\'text-center\': !$ctrl.$mdMedia(\'gt-sm\')}"><i translate="bed.sleep.here"></i></h2><div><ch-people-counters name="people" ng-model="$ctrl.bedSold.people" max-people="$ctrl.bedSold.bed.people" min="1" max="$ctrl.bedSold.bed.maxPerson" limits="$ctrl.peopleLimits" age-ranges="$ctrl.peopleAgeRanges" on-change="$ctrl.$onPeopleChange($people)"></ch-people-counters></div><div ng-show="bedSoldEditForm.people.$dirty" ng-messages="bedSoldEditForm.people.$error" class="md-padding no-padding-top text-danger text-small"><div ng-message="min"><span translate="error.bed.no.people"></span></div></div><div ng-if="bedSoldEditForm.people.$valid && $ctrl.$$guestsCount.total == $ctrl.bedSold.bed.maxPerson" class="md-padding no-padding-top"><span class="label label-inline-block bg-info text-wrap text-center" translate="bed.max.person.selected"></span></div><div layout="column" layout-gt-sm="row" layout-padding-sm layout-align="center center"><md-button ng-click="$ctrl.$cancel()" aria-label="Cancel bed edit"><md-icon class="mdi mdi-close md-24"></md-icon><span translate="common.cancel"></span></md-button><md-button class="bg-success text-white" ng-click="$ctrl.$confirm()" ng-disabled="bedSoldEditForm.$invalid" aria-label="Confirm bed edit"><md-icon class="mdi mdi-check md-24 text-white"></md-icon><span translate="common.confirm"></span></md-button></div></ng-form></div>'),t.put("/tpls/booking-form/booking-form.tpl",'<ng-form name="bookingForm" novalidate layout="column" layout-padding><div class="md-subhead no-padding-top no-padding-bottom text-gray-light text-center"><strong ng-if="$ctrl.reservation.nights && $ctrl.reservation.rooms.length"><span translate="reservation.summary.your"></span></strong><strong ng-if="$ctrl.reservation.nights && !$ctrl.reservation.rooms.length"><span translate="reservation.summary.search"></span></strong><strong ng-if="!$ctrl.reservation.nights"><span translate="reservation.search.your.room"></span></strong></div><div ng-if="!$ctrl.step || $ctrl.step <= 1" class="no-padding-top no-padding-bottom" layout="column" layout-padding-sm><div flex layout="column"><ch-date-range-picker label="{{\'reservation.when.question\'|translate}}" start-label="{{\'date.checkin\'|translate}}" start-hint-label="{{\'date.checkin.select.alt\'|translate}}" start="$ctrl.reservation.checkin" start-min-date="$ctrl.minDate" start-error-messages="{mindate: (\'error.date.before.today\'|translate)}" end-label="{{\'date.checkout\'|translate}}" end-hint-label="{{\'date.checkout.select.alt\'|translate}}" end="$ctrl.reservation.checkout" end-min-date="$ctrl.$$minEndDate" end-max-date="$ctrl.$$maxEndDate" end-error-messages="{mindate: (\'error.date.end.before.start\'|translate), maxdate: (\'error.reservation.search.maxdate\'|translate)}" max-range="$ctrl.maxRange" diff-label-singular="{{\'common.night\'|translate}}" diff-label-plural="{{\'common.nights\'|translate}}" disable-body-scroll="false" ng-required="true"></ch-date-range-picker></div><md-divider class="no-padding"></md-divider><div flex layout="column"><ch-people-picker label="{{\'reservation.people.question\'|translate}}" people="$ctrl.reservation.people" ng-required="true" has-confirm="true" disable-body-scroll="false" fullscreen="$ctrl.$mdMedia(\'xs\')"></ch-people-picker></div><md-divider></md-divider></div><div ng-if="$ctrl.step > 1" class="no-padding-top no-padding-bottom" layout="column" layout-padding-sm><div flex layout="column"><div layout="column" layout-padding class="text-center"><div class="text-gray-light text-small no-padding-bottom"><span>{{\'reservation.when.question\'|translate}}</span></div><div class="layout layout-wrap layout-align-center-center row-mini text-lowercase no-padding-bottom"><span><span translate="date.from.abbr"></span>&nbsp;<span class="md-subhead"><strong>{{$ctrl.reservation.checkin|date:"shortDate"}}</strong></span>&nbsp;</span><span><span translate="date.to.abbr"></span>&nbsp;<span class="md-subhead"><strong>{{$ctrl.reservation.checkout|date:"shortDate"}}</strong></span></span><span ng-if="$ctrl.reservation.nights" class="text-gray-light text-small no-padding no-margin text-lowercase">&nbsp;(<span>{{$ctrl.reservation.nights}}&nbsp;</span><span ng-show="$ctrl.reservation.nights == 1" translate="common.night"></span><span ng-show="$ctrl.reservation.nights > 1" translate="common.nights"></span>)</span></div></div></div><md-divider class="no-padding"></md-divider><div flex layout="column"><div layout="column" layout-padding class="text-center"><div class="text-gray-light text-small no-padding-bottom"><span translate="reservation.people.question"></span></div><div ng-if="$ctrl.reservation.people" class="md-subhead text-wrap row-mini no-padding-bottom"><strong><ch-people-summary people="$ctrl.reservation.people"></ch-people-summary></strong></div><div ng-if="$ctrl.step == 2 && ($ctrl.$$remainingPeople.adults > 0 || $ctrl.$$remainingPeople.boys > 0 || $ctrl.$$remainingPeople.children > 0 || $ctrl.$$remainingPeople.kids > 0)" class="text-lowercase text-small text-warn"><md-icon class="mdi mdi-alert md-14 text-warn"></md-icon><span translate="reservation.people.unsatisfied"></span>:&nbsp;<strong><ch-people-summary people="$ctrl.$$remainingPeople"></ch-people-summary>&nbsp;<span translate="reservation.people.unsatisfied.to.arrange"></span></strong>.&nbsp;<span class="text-initial" translate="reservation.people.unsatisfied.add.beds.or.rooms"></span>.</div></div></div><md-divider></md-divider></div><div id="booking-summary" class="no-padding-top no-padding-bottom layout-padding-sm" ng-show="$ctrl.reservation.totalAmount.finalAmount && $ctrl.reservation.totalAmount.finalAmount > 0"><div class="text-gray-light text-small text-center"><span translate="reservation.rooms.details"></span>:</div><div><ul class="no-margin-x-sides"><li ng-repeat="room in $ctrl.reservation.rooms"><div class="layout-row layout-padding-sm layout-align-start-center"><small class="flex no-padding-y-sides"><strong>1&nbsp;<span translate="{{room.type.roomType.nameKey}}"></span>&nbsp;<small class="text-uppercase" translate="room.category.{{room.type.category}}"></small></strong><span ng-if="$ctrl.reservation.nights > 1" class="text-lowercase"><span>&nbsp;(x&nbsp;{{$ctrl.reservation.nights}}&nbsp;<span translate="common.nights"></span>)</span></span></small><div class="text-right no-padding-y-sides"><div class="text-gray-light text-small text-striked" ng-if="room.totalRate.amount.initialAmount != room.totalRate.amount.finalAmount"><em>{{room.totalRate.amount.initialAmount|chCurrency}}</em></div><div><span>{{room.totalRate.amount.finalAmount|chCurrency}}</span></div></div></div><ul ng-if="room.services.length" class="no-padding no-margin-right no-margin-bottom no-margin-top"><li ng-if="!serviceSold.included" ng-repeat="serviceSold in room.services" class="layout-row layout-padding-sm layout-align-start-center" ng-class="{\'text-danger\': serviceSold.toRemove}"><small class="flex no-padding-y-sides"><span><span ng-if="serviceSold.count > 1">{{serviceSold.count}}</span><span ng-if="serviceSold.count <= 1">1</span><span>&nbsp;<span translate="{{serviceSold.service.type.nameKey}}"></span></span></span><span ng-if="serviceSold.service.paymentType == \'PER_PERSON\' && ! serviceSold.toRemove">&nbsp;x&nbsp;<ch-people-summary people="serviceSold.people" no-details="true"></ch-people-summary></span><span ng-if="$ctrl.reservation.nights > 1 && serviceSold.service.frequency == \'DAILY\'" class="text-lowercase"><span>&nbsp;(x&nbsp;{{$ctrl.reservation.nights}}<span translate="date.days.abbr"></span>)</span></span></small><span class="text-right no-padding-y-sides"><span ng-if="serviceSold.amount.finalAmount > 0">{{serviceSold.amount.finalAmount|chCurrency}}</span><i ng-if="serviceSold.amount.finalAmount <= 0" translate="common.free"></i></span></li></ul><ul ng-if="room.otherBeds.length" class="flex-100 no-padding no-margin-right no-margin-bottom no-margin-top"><li ng-repeat="bedSold in room.otherBeds" class="layout-row layout-padding-sm layout-align-start-center"><small class="flex no-padding-y-sides"><span>1&nbsp;<span class="text-lowercase" translate="bed.bed"></span>&nbsp;<span translate="{{\'bed.\' + bedSold.bed.type}}"></span></span><span>&nbsp;x&nbsp;<ch-people-summary people="bedSold.people" no-details="true"></ch-people-summary></span><span ng-if="$ctrl.reservation.nights > 1" class="text-lowercase"><span>&nbsp;(x&nbsp;{{$ctrl.reservation.nights}}&nbsp;<span translate="common.nights"></span>)</span></span></small><span class="text-right no-padding-y-sides"><span>{{bedSold.amount.finalAmount|chCurrency}}</span></span></li></ul></li></ul></div><md-divider></md-divider><div class="layout-row layout-wrap layout-padding no-pading-top no-padding-left no-padding-right" ng-if="$ctrl.reservation.totalAmount.finalAmount"><div class="flex no-padding" style="min-width: 125px"><div class="md-headline"><span translate="common.total"></span>&nbsp;</div><div ng-if="$ctrl.currentCurrency != $ctrl.hotelCurrency" class="text-lowercase" style="margin-top:-6px"><small>(<span translate="currency.your.currency"></span>)</small></div></div><div class="text-right no-padding md-headline"><span>{{$ctrl.reservation.totalAmount.finalAmount|chCurrency}}</span><span ng-if="$ctrl.currentCurrency != $ctrl.hotelCurrency">*</span></div></div><div class="layout-row layout-padding no-padding-left no-padding-right no-padding-top" ng-if="$ctrl.reservation.totalAmount.finalAmount && $ctrl.currentCurrency != $ctrl.hotelCurrency"><div class="flex no-padding"><div class="md-subhead"><span translate="common.total"></span>:</div><div class="text-lowercase" style="margin-top:-6px"><small>(<span translate="currency.hotel.currency"></span>)</small></div></div><div class="md-subhead text-right no-padding"><span>{{$ctrl.reservation.totalAmount.finalAmount | chCurrency:$ctrl.hotelCurrency }}</span></div></div><div class="text-gray-light layout-row no-padding" ng-if="$ctrl.reservation.totalAmount.finalAmount && $ctrl.currentCurrency != $ctrl.hotelCurrency"><small class="layout-column layout-margin no-margin"><span class="no-margin"><span translate="currency.info.payment" translate-values="{name: $ctrl.reservation.hotel.name}"></span><span>:&nbsp;{{ 1 | chCurrency:$ctrl.hotelCurrency}} = {{ 1 | chCurrency}}</span></span><span class="no-margin-left no-margin-bottom no-margin-right"><span translate="currency.info.payment2"></span></span></small></div></div><div layout="column" class="no-padding" ng-switch="$ctrl.step"><div ng-switch-default layout="column"><md-button class="md-raised md-primary row-1" ng-disabled="bookingForm.$invalid" ch-click="$ctrl.$search()" aria-label="Check availability"><div layout="column" layout-padding><span translate="reservation.availability.check"></span></div></md-button></div><div ng-switch-when="1" layout="column"><md-button class="md-raised md-primary row-1" ng-disabled="$ctrl.reservation.rooms.length <= 0" ng-click="$ctrl.$next()" aria-label="Book now"><div layout="column" layout-padding><span ng-if="$ctrl.reservation.rooms.length"><span translate="reservation.instant"></span><md-icon class="mdi mdi-chevron-right" ng-class="{\'animated infinite wobble\':$ctrl.reservation.rooms.length}"></md-icon></span><span ng-if="!$ctrl.reservation.rooms.length"><span translate="reservation.rooms.select"></span></span></div></md-button></div><div ng-switch-when="2|3|4" ng-switch-when-separator="|" layout="column"><md-button class="md-raised row-1" ng-class="{\'md-primary\': $ctrl.step == 2, \'bg-success\': $ctrl.step == 3}" ng-click="$ctrl.$next()" aria-label="Book now" ng-switch="$ctrl.step"><div ng-switch-when="2" layout="column" layout-padding><span><span translate="common.last.step"></span><md-icon class="mdi mdi-chevron-right animated infinite wobble"></md-icon></span></div><div ng-switch-when="3" layout="column" layout-padding><div class="text-initial no-padding"><small translate="reservation.text.alright"></small></div><div class="text-uppercase no-padding"><strong translate="reservation.book.now" style="margin-left: 24px"></strong><md-icon class="mdi mdi-chevron-right text-white animated infinite wobble"></md-icon></div><small ng-if="$ctrl.reservation.guest.email" class="ng-binding ng-scope no-padding text-initial text-wrap"><span><span translate="reservation.email.confirm.to"></span>:&nbsp;</span><span>{{$ctrl.reservation.guest.email}}</span></small></div></md-button></div></div><div class="layout-column layout-padding no-padding text-center" ng-if="$ctrl.step <= 1"><span class="no-padding-bottom"><md-icon class="mdi mdi-checkbox-marked-circle-outline text-success md-18"></md-icon>&nbsp;<span class="text-success" translate="common.only.two.min"></span></span></div><div layout="column" class="text-gray-light" ng-if="$ctrl.reservation.nights"><small><span ng-if="$ctrl.reservation.nights == 1" translate="reservation.rates.info.night"></span><span ng-if="$ctrl.reservation.nights > 1" translate="reservation.rates.info.nights" translate-value-count="{{$ctrl.reservation.nights}}"></span></small><small ng-if="$ctrl.roomVatRate"><strong><span translate="common.included"></span>:</strong>&nbsp;{{::$ctrl.roomVatRate}}%&nbsp;<span translate="billing.vat.tax"></span></small><small ng-if="$ctrl.hotelCityTax || $ctrl.reservation.checkinDetails"><strong><span translate="common.included.not"></span>:</strong>&nbsp;<span ng-if="$ctrl.hotelCityTax">{{::($ctrl.hotelCityTax|chCurrency:$ctrl.hotelCurrency)}}&nbsp;<span translate="reservation.cityTax.description"></span></span><span ng-if="$ctrl.reservation.checkinDetails && $ctrl.reservation.checkinDetails.amount.finalAmount"><span ng-if="$ctrl.hotelCityTax">,&nbsp;</span>"{{::($ctrl.reservation.checkinDetails.amount.finalAmount|chCurrency:$ctrl.hotelCurrency)}}&nbsp;<span translate="reservation.checkinDetails.description"></span></span></small></div></ng-form>'),t.put("/tpls/cancellation-policy-info/cancellation-policy-info.tpl",'<div><h4 class="{{$ctrl.titleClass}}"><strong><span ng-if="!$ctrl.title" translate="reservation.cancellation.terms.conditions"></span><span ng-if="$ctrl.title" ng-bind="$ctrl.title"></span></strong></h4><div ng-if="!$ctrl.cancellationPolicy || !$ctrl.cancellationPolicy.cancellation"><span translate="reservation.cancellation.room.no.condition"></span></div><div flex ng-if="$ctrl.cancellationPolicy && $ctrl.cancellationPolicy.cancellation"><div class="layout-column" ng-if="!$ctrl.cancellationPolicy.cancellation.deposit"><div ng-switch="$ctrl.rateType"><div ng-switch-when="STANDARD"><span ng-if="!$ctrl.cancellationPolicy.flexible"><span translate="reservation.cancellation.room.condition.free.label"></span><strong>{{::($ctrl.cancellationPolicy.limitDate|date:"shortDate")}}</strong><span translate="date.time.to" class="text-lowercase"></span><span><strong>{{::($ctrl.cancellationPolicy.limitDate|offsetDate:"HH:mm":$ctrl.offset)}}</strong></span><span>[{{::$ctrl.city}}].</span><span translate="reservation.cancellation.room.condition.free.label2"></span></span><span ng-if="$ctrl.cancellationPolicy.flexible"><span translate="reservation.cancellation.room.condition.flex.label" translate-values="{limit: ($ctrl.cancellationPolicy.limitDate|offsetDate:\'short\':$ctrl.offset) + \' [\' + $ctrl.city + \']\'}"></span></span><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights != $ctrl.cancellationPolicy.cancellation.stayNights">{{::$ctrl.cancellationPolicy.cancellation.percentage}}<span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights == 1"><span translate="reservation.percentage.firstNight"></span>&nbsp;<span translate="common.night" class="text-lowercase"></span></span><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights > 1"><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights < reservation.nights"><span translate="reservation.percentage.nights"></span>{{::$ctrl.cancellationPolicy.cancellation.chargeNights}}&nbsp;<span translate="common.nights" class="text-lowercase"></span></span><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights >= reservation.nights"><span translate="reservation.percentage.total.stay"></span></span></span><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights < 0"><span translate="reservation.percentage.total.stay"></span></span></span><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights == $ctrl.cancellationPolicy.cancellation.stayNights">{{::$ctrl.cancellationPolicy.cancellation.percentage}}<span translate="reservation.percentage.total.stay"></span></span><span translate="reservation.total.night"></span><strong>{{$ctrl.cancellationPolicy.amount.finalAmount|chCurrency}}</strong>.</div><div ng-switch-when="NOT_REFUNDABLE"><span translate="reservation.cancellation.room.condition.notRef.label"></span><span ng-if="$ctrl.cancellationPolicy.limitDate"><span translate="reservation.cancellation.room.condition.notRef.label2"></span><strong>{{::($ctrl.cancellationPolicy.limitDate|date:"shortDate")}}</strong><span translate="date.time.to" class="text-lowercase"></span><span><strong>{{::($ctrl.cancellationPolicy.limitDate|offsetDate:"HH:mm":$ctrl.offset)}}</strong></span><span>[{{::$ctrl.city}}],</span><span translate="reservation.cancellation.room.condition.notRef.label3"></span><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights != $ctrl.cancellationPolicy.cancellation.stayNights">{{::$ctrl.cancellationPolicy.cancellation.percentage}}<span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights == 1"><span translate="reservation.percentage.firstNight"></span>&nbsp;<span translate="common.night" class="text-lowercase"></span></span><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights > 1"><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights < reservation.nights"><span translate="reservation.percentage.nights"></span>{{::$ctrl.cancellationPolicy.cancellation.chargeNights}}&nbsp;<span translate="common.nights" class="text-lowercase"></span></span><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights >= reservation.nights"><span translate="reservation.percentage.total.stay"></span></span></span><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights < 0"><span translate="reservation.percentage.total.stay"></span></span></span><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights == $ctrl.cancellationPolicy.cancellation.stayNights">{{::$ctrl.cancellationPolicy.cancellation.percentage}}<span translate="reservation.percentage.total.stay"></span></span><span translate="reservation.total.night"></span><strong>{{$ctrl.cancellationPolicy.amount.finalAmount|chCurrency}}</strong>.</span><span ng-if="!$ctrl.cancellationPolicy.limitDate"><span translate-once="reservation.cancellation.room.condition.notRef.label4"></span><strong>{{room.total$ctrl.cancellationPolicy.amount.finalAmount|chCurrency}}</strong>.</span></div></div></div><div class="layout-column" ng-if="$ctrl.cancellationPolicy.cancellation.deposit"><div class="no-margin-top"><span translate="reservation.room.deposit.label1"></span><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights != $ctrl.cancellationPolicy.cancellation.stayNights">{{::$ctrl.cancellationPolicy.cancellation.percentage}}<span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights == 1"><span translate="reservation.percentage.firstNight"></span>&nbsp;<span translate="common.night" class="text-lowercase"></span></span><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights > 1"><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights < reservation.nights"><span translate="reservation.percentage.nights"></span>{{::$ctrl.cancellationPolicy.cancellation.chargeNights}}&nbsp;<span translate="common.nights" class="text-lowercase"></span></span><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights >= reservation.nights"><span translate="reservation.percentage.total.stay"></span></span></span><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights < 0"><span translate="reservation.percentage.total.stay"></span></span></span><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights == $ctrl.cancellationPolicy.cancellation.stayNights">{{::$ctrl.cancellationPolicy.cancellation.percentage}}<span translate="reservation.percentage.total.stay"></span></span><span translate="reservation.total.night"></span><strong>{{$ctrl.cancellationPolicy.amount.finalAmount|chCurrency}}</strong>.<span translate="reservation.room.deposit.label2"></span></div></div></div></div>'),t.put("/tpls/card/card.tpl",'<div layout-fill class="md-whiteframe-1dp bg-white flex layout-column" ng-click="$ctrl.$goTo()" ng-class="{\'clickable\': !$ctrl.ngDisabled && ($ctrl.url || $ctrl.state || $ctrl.onClick), \'cursor-disabled\': $ctrl.ngDisabled}"><div class="relative"><div ng-if="$ctrl.ngDisabled" class="disabled-box {{$ctrl.disabledClass}}"><span ng-if="$ctrl.disabledLabel" class="disabled-box-bar {{$ctrl.disabledBarClass}}">{{$ctrl.disabledLabel}}</span></div><div ng-if="$ctrl.isCompleted || $ctrl.isRequired || $ctrl.isSuggested" class="absolute full-width ng-scope text-right"><div ng-if="$ctrl.isCompleted" class="bg-success label label-inline-block md-margin"><md-icon class="mdi mdi-checkbox-marked-circle-outline text-white"></md-icon><span translate-once="common.full.alt"></span></div><div ng-if="$ctrl.isRequired && !$ctrl.isCompleted" class="bg-danger label label-inline-block md-margin"><md-icon class="mdi mdi-alert-circle-outline text-white"></md-icon><span translate-once="common.to.complete"></span></div><div ng-if="$ctrl.isSuggested && !$ctrl.isRequired && !$ctrl.isCompleted" class="bg-info label label-inline-block md-margin"><md-icon class="mdi mdi-information-outline text-white"></md-icon><span translate-once="common.hint"></span></div></div><div class="layout-padding no-padding-right absolute position-right position-top" style="z-index:2"><md-menu class="md-secondary" ng-if="$ctrl.menuItems && !$ctrl.ngDisabled"><md-button aria-label="Open user interactions menu" class="md-icon-button {{$ctrl.menuClass}}" ng-click="$mdMenu.open($event)"><md-icon class="mdi mdi-dots-vertical text-white"></md-icon></md-button><md-menu-content width="4"><div ng-repeat="item in $ctrl.menuItems" ng-if="!item.hide" layout="column"><md-menu-divider ng-if="item.type == \'divider\'"></md-menu-divider><md-menu-item ng-if="item.type != \'divider\'"><md-button ng-click="$ctrl.$menuClick($event, item)" aria-label="{{item.label | translate}}" class="{{item.labelClass}}" ng-disabled="item.disabled"><md-icon class="{{item.icon}} material-icons"></md-icon>&nbsp;<span translate-once="{{item.label}}"></span></md-button></md-menu-item></div></md-menu-content></md-menu><md-menu class="md-secondary" ng-if="$ctrl.disabledMenuItems && $ctrl.ngDisabled"><md-button aria-label="Open user interactions menu" class="md-icon-button {{$ctrl.menuClass}}" ng-click="$mdMenu.open($event)"><md-icon class="mdi mdi-dots-vertical text-white"></md-icon></md-button><md-menu-content width="4"><div ng-repeat="item in $ctrl.disabledMenuItems" ng-if="!item.hide" layout="column"><md-menu-divider ng-if="item.type == \'divider\'"></md-menu-divider><md-menu-item ng-if="item.type != \'divider\'"><md-button ng-click="$ctrl.$menuClick($event, item)" aria-label="{{item.label | translate}}" class="{{item.labelClass}}" ng-disabled="item.disabled"><md-icon class="{{item.icon}} material-icons"></md-icon>&nbsp;<span translate-once="{{item.label}}"></span></md-button></md-menu-item></div></md-menu-content></md-menu></div><div class="flex layout-column layout-align-center-center text-center overflow-hidden card-image" ng-class="{\'md-hover-icon\': !$ctrl.noHover}" ng-style="$ctrl.$$bgStyle"><div ng-if="$ctrl.imgUrl" class="{{$ctrl.imgContClass}}"><img ng-if="$ctrl.imgUrl" ng-src="{{$ctrl.imgUrl}}" class="{{$ctrl.imgClass}}" lazy-image loaded-class="animated fadeIn"></div><div ng-if="!$ctrl.imgUrl && ($ctrl.iconClass || $ctrl.iconSecondaryClass)"><div class="layout-column layout-padding-sm layout-align-center-center"><div ng-if="$ctrl.iconLabel && $ctrl.iconLabelPosition == \'top\'" class="{{$ctrl.iconLabelClass}}">{{$ctrl.iconLabel}}</div><div ng-if="$ctrl.iconSecondaryLabel && $ctrl.iconSecondaryLabelPosition == \'top\'" class="{{$ctrl.iconSecondaryLabelClass}}">{{$ctrl.iconSecondaryLabel}}</div><div><span ng-if="$ctrl.iconLabel && $ctrl.iconLabelPosition == \'left\'" class="{{$ctrl.iconLabelClass}}">{{$ctrl.iconLabel}}</span><span ng-if="$ctrl.iconSecondaryLabel && $ctrl.iconSecondaryLabelPosition == \'left\'" class="{{$ctrl.iconSecondaryLabelClass}}">{{$ctrl.iconSecondaryLabel}}</span><md-icon md-font-set="{{$ctrl.iconFontSet}}" class="{{$ctrl.iconClass}}" ng-class="{\'material-icons\': !$ctrl.iconFontSet}"></md-icon><md-icon ng-if="$ctrl.otherIconClass" md-font-set="{{$ctrl.otherIconFontSet}}" class="{{$ctrl.otherIconClass}}" ng-class="{\'material-icons\': !$ctrl.otherIconFontSet}"></md-icon><span ng-if="$ctrl.iconLabel && $ctrl.iconLabelPosition == \'right\'" class="{{$ctrl.iconLabelClass}}">{{$ctrl.iconLabel}}</span><span ng-if="$ctrl.iconSecondaryLabel && $ctrl.iconSecondaryLabelPosition == \'right\'" class="{{$ctrl.iconSecondaryLabelClass}}">{{$ctrl.iconSecondaryLabel}}</span></div><div ng-if="$ctrl.iconLabel && $ctrl.iconLabelPosition == \'bottom\'" class="{{$ctrl.iconLabelClass}}">{{$ctrl.iconLabel}}</div><div ng-if="$ctrl.iconSecondaryLabel && $ctrl.iconSecondaryLabelPosition == \'bottom\'" class="{{$ctrl.iconSecondaryLabelClass}}">{{$ctrl.iconSecondaryLabel}}</div></div></div><div ng-if="$ctrl.showAvatar && !$ctrl.imgUrl && !$ctrl.iconClass && !i$ctrl.conSecondaryClass && ($ctrl.title || $ctrl.description)" class="layout-row layout-align-center-center {{$ctrl.imgContClass}}"><span class="md-display-3 text-uppercase"><span ng-if="$ctrl.title">{{$ctrl.title.charAt(0)}}</span><span ng-if="!$ctrl.title">{{$ctrl.description.charAt(0)}}</span></span></div></div></div><md-divider></md-divider><div class="md-padding layout-column layout-padding-sm flex {{$ctrl.colorClass}}"><div class="layout-column layout-padding-sm layout-align-center-center"><div class="{{$ctrl.titleClass}} row-mini text-center"><span>{{$ctrl.title}}</span></div><small class="text-center" ng-if="$ctrl.subtitle">{{$ctrl.subtitle}}</small></div><div ng-transclude class="flex layout-column layout-align-center-center card-footer"></div></div></div>'),t.put("/tpls/color-picker/color-picker-button.tpl",'<md-button class="ch-color-picker-button md-raised" ng-style="$ctrl.$$btnStyle" ng-disabled="$ctrl.ngDisabled" ng-click="$ctrl.$openPicker($event)" aria-label="{{$ctrl.label || \'Select color\'}}"><span ng-if="!$ctrl.ngModel" ng-bind="$ctrl.label"></span></md-button>'),t.put("/tpls/color-picker/color-picker-inline.tpl",'<div layout-padding-sm><div><md-color-picker class="ch-color-picker-inline" ng-attr-colors-per-row="{{$ctrl.colorsPerRow || 5}}" ng-attr-color-margin="{{$ctrl.colorMargin || 5}}" ng-attr-color-size="{{$ctrl.colorSize || 50}}" ng-attr-palette="{{$ctrl.palette}}" ng-attr-default-tint="{{$ctrl.defaultTint || 500}}" ng-attr-use-spectrum-picker="{{!$ctrl.hideSubPalette}}" ng-attr-fixed-min-height="{{!$ctrl.flexible}}" value="{{$ctrl.ngModel || \' \'}}"></md-color-picker></div><div ng-if="$ctrl.showCode" class="text-center md-subhead"><strong ng-bind="$ctrl.ngModel"></strong></div></div>'),t.put("/tpls/color-picker/color-picker-panel.tpl",'<div><div><ch-color-picker-inline ng-model="$ctrl.$$data.color" colors-per-row="{{$ctrl.colorsPerRow}}" color-margin="{{$ctrl.colorMargin}}" color-size="{{$ctrl.colorSize}}" palette="{{$ctrl.palette}}" default-tint="{{$ctrl.defaultTint}}" hide-sub-palette="$ctrl.hideSubPalette" flexible="$ctrl.flexible" show-code="$ctrl.showCode" ng-change="$ctrl.onChange($event)"></ch-color-picker-inline></div><div ng-if="$ctrl.hasConfirm"><md-divider></md-divider><div layout><div flex></div><md-button class="no-margin-top no-margin-bottom" ng-click="$ctrl.cancel()" aria-label="Cancel"><small translate="common.cancel"></small></md-button><md-button class="md-primary no-margin-top no-margin-bottom" ng-click="$ctrl.confirm()" aria-label="Confirm"><small translate="common.confirm"></small></md-button></div></div></div>'),t.put("/tpls/color-picker/color-picker.tpl",'<span><ch-color-picker-inline ng-if="$ctrl.inline" ng-model="$ctrl.ngModel" colors-per-row="{{$ctrl.colorsPerRow}}" color-margin="{{$ctrl.colorMargin}}" color-size="{{$ctrl.colorSize}}" palette="{{$ctrl.palette}}" default-tint="{{$ctrl.defaultTint}}" hide-sub-palette="$ctrl.hideSubPalette" flexible="$ctrl.flexible" show-code="$ctrl.showCode" ng-change="$ctrl.$update()"></ch-color-picker-inline><ch-color-picker-button ng-if="!$ctrl.inline" ng-model="$ctrl.ngModel" label="{{$ctrl.label}}" colors-per-row="{{$ctrl.colorsPerRow}}" color-margin="{{$ctrl.colorMargin}}" color-size="{{$ctrl.colorSize}}" palette="{{$ctrl.palette}}" default-tint="{{$ctrl.defaultTint}}" hide-sub-palette="$ctrl.hideSubPalette" flexible="$ctrl.flexible" ng-disabled="$ctrl.ngDisabled" ng-readonly="$ctrl.ngReadonly" has-confirm="$ctrl.hasConfirm" has-backdrop="$ctrl.hasBackdrop" disable-parent-scroll="$ctrl.disableParentScroll" show-code="$ctrl.showCode" ng-change="$ctrl.$update()"></ch-color-picker-button></span>'),t.put("/tpls/counter/counter.tpl",'<div class="layout-column {{$ctrl.wrapperClass}}" ng-class="{\'flex\': $ctrl.flexible}" ng-style="{\'display\': $ctrl.flexible ? \'inherit\' : \'inline-block\'}" style="min-width: 150px"><div class="{{$ctrl.labelContClass}} layout-padding-sm no-padding"><div ng-if="$ctrl.label && ($ctrl.labelDirection == \'left\' || $ctrl.labelDirection == \'top\')" class="layout-row layout-align-center-center {{$ctrl.labelClass}}"><span ng-bind-html="$ctrl.label"></span></div><div class="layout-row layout-align-center-center flex"><md-button class="{{$ctrl.btnClass}} no-margin" ng-class="!$ctrl.$$decreaseDisabled ? $ctrl.btnActiveClass : \'\'" aria-label="Decrease" ng-disabled="$ctrl.ngDisabled || $ctrl.minusDisabled || ($ctrl.min && $ctrl.count <= $ctrl.min)" ng-click="$ctrl.$decrease($event)"><md-icon class="material-icons mdi mdi-minus md-18 {{$ctrl.iconClass}}" ng-class="!$ctrl.$$decreaseDisabled ? $ctrl.iconActiveClass : \'\'"></md-icon></md-button><div class="layout-column layout-padding layout-align-center-center" ng-class="{\'flex\': $ctrl.flexible, \'text-gray-light\': $ctrl.ngDisabled}"><span class="{{$ctrl.countClass}} border-gray-lighter border-radius">{{$ctrl.count || 0}}</span></div><md-button class="{{$ctrl.btnClass}} no-margin" ng-class="!$ctrl.$$increaseDisabled ? $ctrl.btnActiveClass : \'\'" aria-label="Increase" ng-disabled="$ctrl.ngDisabled || $ctrl.plusDisabled || ($ctrl.max && $ctrl.count >= $ctrl.max)" ng-click="$ctrl.$increase($event)"><md-icon class="material-icons mdi mdi-plus md-18 {{$ctrl.iconClass}}" ng-class="!$ctrl.$$increaseDisabled ? $ctrl.iconActiveClass : \'\'"></md-icon></md-button></div><div ng-if="$ctrl.label && ($ctrl.labelDirection == \'right\' || $ctrl.labelDirection == \'bottom\')" class="layout-row layout-align-center-center {{$ctrl.labelClass}}"><span ng-bind-html="$ctrl.label"></span></div></div><div class="no-padding"><md-input-container md-no-float class="md-block minimal-input no-margin no-padding"><input ng-if="$ctrl.fieldName" type="hidden" name="{{$ctrl.fieldName}}" step="{{$ctrl.step}}" ng-min="$ctrl.min" ng-max="$ctrl.max"><small ng-transclude class="no-padding text-center"></small></md-input-container></div></div>'),t.put("/tpls/date-picker/date-picker-trigger.tpl",'<ng-form name="chDatePickerTriggerForm" class="flex no-padding layout-column layout-fill"><md-button class="ch-date-picker-button flex minimal-button text-lowercase text-center {{$ctrl.buttonClass}}" ng-click="$ctrl.$openPanel($event)" aria-label="Change date" ng-disabled="$ctrl.ngDisabled" ng-readonly="$ctrl.ngReadonly"><div class="{{$ctrl.wrapperClass}} layout-align-center-center" ng-class="$ctrl.labelPosition == \'top\' ? \'layout-column\' : \'layout-row\'"><div ng-if="!$ctrl.hideLabel" class="no-padding row-mini"><small class="row-mini text-initial" ng-bind-html="$ctrl.label"></small></div><div class="layout-row layout-padding-sm layout-align-center-center"><span><md-icon class="mdi mdi-calendar" ng-class="{\'md-32\': $ctrl.size == \'big\', \'md-24\': $ctrl.size == \'medium\', \'md-18\': $ctrl.size == \'small\'}"></md-icon></span><span ng-class="{\'md-display-1\': $ctrl.size == \'big\', \'md-title\': $ctrl.size == \'medium\', \'md-subhead\': $ctrl.size == \'small\'}">{{$ctrl.ngModel|date:"dd"}}</span><span class="layout-column" ng-class="$ctrl.size == \'small\' ? \'text-small row-1\' : \'row-mini\'"><span class="text-lowercase">{{$ctrl.ngModel|date:"MMM"}}</span><span>{{$ctrl.ngModel|date:"yyyy"}}</span></span></div></div><md-input-container class="md-block no-margin no-padding"><input type="hidden" style="visibility: hidden" name="date" ng-model="$ctrl.ngModel" ng-required="$ctrl.ngRequired"><div ng-messages="chDatePickerTriggerForm.date.$error" ng-show="chDatePickerTriggerForm.$submitted || chDatePickerTriggerForm.date.$touched || chDatePickerTriggerForm.date.$dirty"><div ng-repeat="errorObj in $ctrl.errorMessages" ng-message="{{errorObj.error}}" class="no-padding"><span ng-if="errorObj.message" ng-bind="{{errorObj.message}}"></span><span ng-if="!errorObj.message && errorObj.messageKey" translate="{{errorObj.messageKey}}" translate-values="errorObj.messageKeyParams"></span></div></div></md-input-container></md-button></ng-form>'),t.put("/tpls/date-picker/date-picker.tpl",'<div><div><md-calendar class="no-today-selection" ng-model="$ctrl.data.current" ng-model-options="$ctrl.modelOptions" md-min-date="$ctrl.data.min" md-max-date="$ctrl.data.max"></md-calendar></div><div ng-if="$ctrl.hasConfirm" layout class="no-padding"><div flex></div><md-button class="no-margin-top no-margin-bottom" ng-click="$ctrl.cancel()" aria-label="Cancel"><small translate="common.cancel"></small></md-button><md-button class="md-primary no-margin-top no-margin-bottom" ng-click="$ctrl.confirm()" aria-label="Confirm"><small translate="common.confirm"></small></md-button></div></div>'),t.put("/tpls/date-range-picker/date-range-picker-trigger.tpl",'<ng-form name="chDateRangePickerTriggerForm" class="flex no-padding layout-column layout-fill"><md-button class="ch-date-range-picker-button minimal-button flex text-lowercase text-center {{$ctrl.buttonClass}}" ng-click="$ctrl.$openPanel($event)" aria-label="Change period" ng-disabled="$ctrl.ngDisabled"><div class="{{$ctrl.wrapperClass}}"><div ng-if="$ctrl.label || $ctrl.placeholder" class="layout-row layout-align-center-center" ng-class="{\'no-padding-top\': $ctrl.$mdMedia(\'gt-xs\'), \'md-padding\': !$ctrl.$mdMedia(\'gt-xs\') || $ctrl.start || $ctrl.end}"><div class="{{$ctrl.labelClass}} text-initial text-wrap row-1" ng-class="{\'text-small\': $ctrl.start || $ctrl.end}"><span ng-if="$ctrl.placeholder && !$ctrl.start && !$ctrl.end" ng-bind-html="$ctrl.placeholder"></span><span ng-if="$ctrl.label && (($ctrl.start || $ctrl.end) || !$ctrl.placeholder)" ng-bind-html="$ctrl.label"></span></div></div><div ng-if="!$ctrl.largeTemplate"><div ng-show="$ctrl.start || $ctrl.end" class="layout layout-wrap layout-align-center-center row-mini"><span><span translate="date.from.abbr"></span>&nbsp;<span class="md-subhead"><strong>{{$ctrl.start|date:"shortDate":$ctrl.$$timezone}}</strong></span>&nbsp;</span><span><span translate="date.to.abbr"></span>&nbsp;<span class="md-subhead"><strong>{{$ctrl.end|date:"shortDate":$ctrl.$$timezone}}</strong></span></span><span ng-if="$ctrl.showDiff && $ctrl.$$diff" class="{{$ctrl.labelClass}} text-small no-padding no-margin text-lowercase">&nbsp;(<span ng-bind="$ctrl.$$diff"></span>&nbsp;<span ng-show="$ctrl.$$diff == 1"><span ng-if="!$ctrl.$$diffLabelSingular" translate="date.day"></span><span ng-if="$ctrl.$$diffLabelSingular" ng-bind="$ctrl.$$diffLabelSingular"></span>)</span><span ng-show="$ctrl.$$diff > 1"><span ng-if="!$ctrl.$$diffLabelPlural" translate="date.days"></span><span ng-if="$ctrl.$$diffLabelPlural" ng-bind="$ctrl.$$diffLabelPlural"></span>)</span></span></div></div><div ng-if="$ctrl.largeTemplate" class="layout-row layout-wrap layout-align-center-center layout-padding-sm"><div class="layout-column layout-padding-sm flex-45 row-1"><span class="no-padding-bottom row-1 text-initial" ng-bind-html="$ctrl.startLabel"></span><div class="layout-align-center-center layout-row"><span><md-icon class="mdi mdi-calendar md-32"></md-icon></span><span ng-if="$ctrl.start" class="md-display-1 layout-padding">{{$ctrl.start|date:"dd":$ctrl.$$timezone}}</span><span ng-if="$ctrl.start" class="layout-column row-mini"><span>{{$ctrl.start|date:"MMM":$ctrl.$$timezone}}</span><span>{{$ctrl.start|date:"yyyy":$ctrl.$$timezone}}</span></span></div></div><div class="layout-column flex text-bold">-</div><div class="layout-column layout-padding-sm flex-45 row-1"><span class="no-padding-bottom row-1 text-initial" ng-bind-html="$ctrl.endLabel"></span><div class="layout-align-center-center layout-row"><span><md-icon class="mdi mdi-calendar md-32"></md-icon></span><span ng-if="$ctrl.end" class="md-display-1 layout-padding">{{$ctrl.end|date:"dd":$ctrl.$$timezone}}</span><span ng-if="$ctrl.end" class="layout-column row-mini"><span>{{$ctrl.end|date:"MMM":$ctrl.$$timezone}}</span><span>{{$ctrl.end|date:"yyyy":$ctrl.$$timezone}}</span></span></div></div><div ng-if="$ctrl.showDiff && $ctrl.$$diff" class="layout-column flex-100 row-1"><span class="{{$ctrl.labelClass}} text-small no-padding no-margin text-lowercase">&nbsp;(<span ng-bind="$ctrl.$$diff">&nbsp;</span><span ng-show="$ctrl.$$diff == 1"><span ng-if="!$ctrl.$$diffLabelSingular" translate="date.day"></span><span ng-if="$ctrl.$$diffLabelSingular" ng-bind="$ctrl.$$diffLabelSingular"></span>)</span><span ng-show="$ctrl.$$diff > 1"><span ng-if="!$ctrl.$$diffLabelPlural" translate="date.days"></span><span ng-if="$ctrl.$$diffLabelPlural" ng-bind="$ctrl.$$diffLabelPlural"></span>)</span></span></div></div></div><md-input-container class="md-block no-margin no-padding"><input type="hidden" style="visibility: hidden" name="{{$ctrl.startInputName}}" ng-model="$ctrl.start" ng-required="$ctrl.ngRequired"><div ng-messages="chDateRangePickerTriggerForm[$ctrl.startInputName].$error" class="font-12 text-center text-danger"><div ng-repeat="errorObj in $ctrl.startErrorMessages" ng-message="{{errorObj.error}}" class="no-padding"><span ng-if="errorObj.message" ng-bind="{{errorObj.message}}"></span><span ng-if="!errorObj.message && errorObj.messageKey" translate="{{errorObj.messageKey}}" translate-values="errorObj.messageKeyParams"></span></div></div></md-input-container><md-input-container class="md-block no-margin no-padding"><input type="hidden" style="visibility: hidden" name="{{$ctrl.endInputName}}" ng-model="$ctrl.end" ng-required="$ctrl.ngRequired"><div ng-messages="chDateRangePickerTriggerForm[$ctrl.endInputName].$error" class="font-12 text-center text-danger" ng-show="!chDateRangePickerTriggerForm[$ctrl.startInputName].$invalid && (chDateRangePickerTriggerForm[$ctrl.endInputName].$dirty || chDateRangePickerTriggerForm[$ctrl.endInputName].$touched)"><div ng-repeat="errorObj in $ctrl.endErrorMessages" ng-message="{{errorObj.error}}" class="no-padding"><span ng-if="errorObj.message" ng-bind="{{errorObj.message}}"></span><span ng-if="!errorObj.message && errorObj.messageKey" translate="{{errorObj.messageKey}}" translate-values="errorObj.messageKeyParams"></span></div></div></md-input-container></md-button></ng-form>'),t.put("/tpls/date-range-picker/date-range-picker.tpl",'<div ng-switch="$ctrl.currentView"><div class="md-subhead" layout layout-padding><strong><span ng-switch-when="end"><span ng-if="!$ctrl.endTitle"><span translate="date.end.select"></span></span><span ng-if="$ctrl.endTitle" ng-bind-html="$ctrl.endTitle"></span></span><span ng-switch-default><span ng-if="!$ctrl.startTitle"><span translate="date.start.select"></span></span><span ng-if="$ctrl.startTitle" ng-bind-html="$ctrl.startTitle"></span></span></strong><span flex></span><md-button class="md-icon-button" ng-click="$ctrl.cancel()" aria-label="Cancel"><md-icon class="mdi mdi-close md-24"></md-icon><md-tooltip><span translate="common.close"></span></md-tooltip></md-button></div><div class="layout-column layout-align-center-center"><div ng-switch-when="end"><md-calendar class="no-today-selection" ng-model="$ctrl.data.end" ng-model-options="$ctrl.modelOptions" md-min-date="$ctrl.data.endMinDate" md-max-date="$ctrl.data.endMaxDate"></md-calendar></div><div ng-switch-default><md-calendar class="no-today-selection" ng-model="$ctrl.data.start" ng-model-options="$ctrl.modelOptions" md-min-date="$ctrl.data.startMinDate" md-max-date="$ctrl.data.startMaxDate"></md-calendar></div></div><md-divider></md-divider><div layout layout-padding-sm layout-align="center center" class="bg-gray-lighter text-lowercase"><div layout layout-align="start center"><span translate="date.from.abbr"></span>&nbsp;<md-button class="no-margin" ng-class="{\'only-border border-primary\': $ctrl.currentView == \'start\'}" ng-click="$ctrl.currentView = \'start\'" aria-label="Choose start date"><span ng-show="!$ctrl.$$startDate" class="text-gray-light"><md-icon class="mdi mdi-dots-horizontal md-24"></md-icon></span><span ng-show="$ctrl.$$startDate" class="md-subhead"><strong>{{$ctrl.$$startDate|date:"shortDate":$ctrl.timezone}}</strong></span><md-tooltip><span ng-if="!$ctrl.startTitle"><span translate="date.start.select"></span></span><span ng-if="$ctrl.startTitle" ng-bind-html="$ctrl.startTitle"></span></md-tooltip></md-button></div><div layout layout-align="start center"><span translate="date.to.abbr"></span>&nbsp;<md-button class="no-margin" ng-class="{\'only-border border-primary\': $ctrl.currentView == \'end\'}" ng-click="$ctrl.currentView = \'end\'" aria-label="Choose end date"><span ng-show="!$ctrl.$$endDate" class="text-gray-light"><md-icon class="mdi mdi-dots-horizontal md-24"></md-icon></span><span ng-show="$ctrl.$$endDate" class="md-subhead"><strong>{{$ctrl.$$endDate|date:"shortDate":$ctrl.timezone}}</strong></span><md-tooltip><span ng-if="!$ctrl.endTitle"><span translate="date.end.select"></span></span><span ng-if="$ctrl.endTitle" ng-bind-html="$ctrl.endTitle"></span></md-tooltip></md-button><div ng-if="$ctrl.showDiff  && $ctrl.data.diff > 0 && $ctrl.$$startDate && $ctrl.$$endDate" class="text-gray-light text-small no-padding no-margin text-lowercase">&nbsp;(<span>{{$ctrl.data.diff}}&nbsp;</span><span ng-show="$ctrl.data.diff == 1"><span ng-if="!$ctrl.diffLabelSingular" translate="date.day"></span><span ng-if="$ctrl.diffLabelSingular">{{$ctrl.diffLabelSingular}}</span>)</span><span ng-show="$ctrl.data.diff > 1"><span ng-if="!$ctrl.diffLabelPlural" translate="date.days"></span><span ng-if="$ctrl.diffLabelPlural">{{$ctrl.diffLabelPlural}}</span>)</span></div></div></div></div>'),t.put("/tpls/icon-select/icon-select.tpl",'<div flex layout="column" layout-fill><div ng-show="$ctrl.$$exists && !$ctrl.$$showIcons" flex layout="column" layout-padding layout-fill layout-align="center center" class="no-padding"><div><md-icon md-font-set="{{$ctrl.ngModel.fontSet}}" class="{{$ctrl.ngModel.cssClass}} md-94"></md-icon></div><div><md-button class="md-primary" ng-click="$ctrl.$showIconSelect()" ng-disabled="$ctrl.ngDisabled" aria-label="Change icon"><small translate-once="common.icon.change"></small></md-button></div></div><div ng-if="!$ctrl.ngDisabled" ng-show="!$ctrl.$$exists || $ctrl.$$showIcons" flex layout="column" layout-fill layout-padding class="no-padding"><div class="text-center text-gray-light" ng-if="$ctrl.label"><span ng-bind="$ctrl.label"></span></div><div class="no-padding" flex layout="column"><div ng-if="!$ctrl.hideFilter"><md-input-container md-no-float class="md-icon-right md-icon-left md-block no-margin"><md-icon class="mdi mdi-magnify md-24"></md-icon><input type="text" ng-model="$ctrl.$$loader.params.filter" placeholder="{{\'search.filter\'|translate}}..."><md-icon class="mdi mdi-close md-24 clickable" ng-show="$ctrl.$$loader.params.filter" ng-click="$ctrl.$$loader.params.filter = \'\'"></md-icon></md-input-container></div><md-content flex id="chIconSelectCont" class="only-border border-radius"><div layout-fill infinite-scroll="$ctrl.$$loader.nextPage()" infinite-scroll-container="\'#chIconSelectCont\'" infinite-scroll-disabled="$ctrl.loader.busy" infinite-scroll-distance="0.5"><div layout layout-wrap><md-button ng-repeat="icon in $ctrl.$$loader.items track by icon.cssClass" class="minimal-button" ng-click="$ctrl.$selectIcon(icon)" aria-label="{{icon.label || icon.cssClass}}"><md-icon md-font-set="{{icon.fontSet}}" class="{{icon.cssClass}} md-32"></md-icon></md-button></div><div ng-show="$ctrl.$$loader.busy" layout layout-align="space-around"><md-progress-circular class="md-primary ch-progress" md-mode="indeterminate" md-diameter="30"></md-progress-circular></div><div ng-if="!$ctrl.$$loader.busy && !$ctrl.$$loader.items.length" flex layout="column" layout-padding layout-align="center center" class="text-opaque"><md-icon class="mdi mdi-shape md-56 text-opaque"></md-icon><div><span translate-once="common.icon.list.none"></span></div></div><div ng-if="$ctrl.$$error" class="text-danger text-center"><span ng-bind="$ctrl.$$error"></span></div></div></md-content><div ng-if="$ctrl.$$exists" class="text-center"><md-button ng-click="$ctrl.$cancelIconSelect()" aria-label="Cancel icon select"><md-icon class="mdi mdi-close md-18"></md-icon><small translate-once="common.cancel"></small></md-button></div></div></div></div>'),t.put("/tpls/identity-document-edit/identity-document-edit.tpl",'<div><ng-form name="identityDocumentForm"><div ng-class="{\'text-center\': !$ctrl.$mdMedia(\'gt-sm\')}" class="text-gray-light" ng-switch="$ctrl.identityDocument.guestType"><div ng-switch-when="FAMILY_MEMBER" class="bg-success text-white md-button button-small"><md-icon class="mdi mdi-account md-18 text-white"></md-icon><small translate="common.FAMILY_MEMBER"></small></div><div ng-switch-when="GROUP_MEMBER" class="bg-success text-white md-button button-small"><md-icon class="mdi mdi-account md-18 text-white"></md-icon><small translate="common.GROUP_MEMBER"></small></div><div ng-switch-default><md-button ng-class="{\'bg-success\': $ctrl.identityDocument.guestType == \'GROUP_LEADER\'}" class="button-small" ng-click="$ctrl.$setGuestType(\'GROUP_LEADER\')" aria-label="Set as group leader"><md-icon class="mdi mdi-google-circles md-18" ng-class="$ctrl.identityDocument.guestType == \'GROUP_LEADER\' ? \'text-white\' : \'text-success\'"></md-icon><small translate="common.GROUP_LEADER" ng-class="$ctrl.identityDocument.guestType == \'GROUP_LEADER\' ? \'text-white\' : \'text-success\'"></small></md-button><md-button ng-class="{\'bg-success\': $ctrl.identityDocument.guestType == \'HOUSEHOLDER\'}" class="button-small" ng-click="$ctrl.$setGuestType(\'HOUSEHOLDER\')" aria-label="Set as householder"><md-icon class="mdi mdi-account-multiple md-18" ng-class="$ctrl.identityDocument.guestType == \'HOUSEHOLDER\' ? \'text-white\' : \'text-success\'"></md-icon><small translate="common.HOUSEHOLDER" ng-class="$ctrl.identityDocument.guestType == \'HOUSEHOLDER\' ? \'text-white\' : \'text-success\'"></small></md-button><md-button ng-class="{\'bg-success\': $ctrl.identityDocument.guestType == \'SINGLE_GUEST\'}" class="button-small" ng-click="$ctrl.$setGuestType(\'SINGLE_GUEST\')" aria-label="Set as single guest"><md-icon class="mdi mdi-account md-18" ng-class="$ctrl.identityDocument.guestType == \'SINGLE_GUEST\' ? \'text-white\' : \'text-success\'"></md-icon><small translate="common.SINGLE_GUEST" ng-class="$ctrl.identityDocument.guestType == \'SINGLE_GUEST\' ? \'text-white\' : \'text-success\'"></small></md-button></div></div><div><div class="layout-row layout-wrap layout-padding"><div class="flex-xs-100 flex-sm-50 flex-gt-sm-50 flex-gt-md-20"><md-input-container class="md-block no-margin-bottom"><label translate="common.name"></label><input type="text" ng-model="$ctrl.identityDocument.name" name="name" required><div ng-messages="identityDocumentForm.name.$error"><div ng-message="required"><span translate="error.required"></span></div></div></md-input-container></div><div class="flex-xs-100 flex-sm-50 flex-gt-sm-50 flex-gt-md-20"><md-input-container class="md-block no-margin-bottom"><label translate="common.surname"></label><input type="text" ng-model="$ctrl.identityDocument.surname" name="surname" required><div ng-messages="identityDocumentForm.surname.$error"><div ng-message="required"><span translate="error.required"></span></div></div></md-input-container></div><div class="flex-xs-100 flex-sm-50 flex-gt-sm-33 flex-gt-md-20"><md-input-container class="md-block no-margin-bottom"><label translate="common.birthdate"></label><md-datepicker name="birthdate" ng-model="$ctrl.identityDocument.birthDate" utc-date md-datepicker-on-click md-open-on-focus md-hide-icons="calendar" md-max-date="$ctrl.$$maxDate" required></md-datepicker><div ng-messages="identityDocumentForm.birthdate.$error"><div ng-message="maxdate"><span translate="reservation.text.identityDocuments.legalAge"></span></div><div ng-message="required"><span translate="error.required"></span></div></div></md-input-container></div><div class="flex-xs-100 flex-sm-50 flex-gt-sm-33 flex-gt-md-20"><md-input-container class="md-block no-margin-bottom"><label translate="common.birthplace"></label><input type="text" ng-model="$ctrl.identityDocument.birthPlace" name="birtplace"></md-input-container></div><div class="flex-xs-100 flex-sm-50 flex-gt-sm-33 flex-gt-md-20"><md-input-container class="md-block no-margin-bottom"><label translate="common.nationality"></label><input type="text" ng-model="$ctrl.identityDocument.nationality" name="nationality"></md-input-container></div></div><div class="layout-row layout-wrap layout-padding" ng-if="$ctrl.identityDocument.guestType != \'GROUP_MEMBER\' && $ctrl.identityDocument.guestType != \'FAMILY_MEMBER\'"><div class="flex-xs-100 flex-sm-50 flex-gt-sm-33 flex-gt-md-20"><md-input-container class="md-block no-margin-bottom"><label translate="common.document.type"></label><md-select ng-model="$ctrl.identityDocument.type" aria-label="type" name="type"><md-option value="PASSPORT"><span translate="common.PASSPORT"></span></md-option><md-option value="DRIVING_LICENSE"><span translate="common.DRIVING_LICENSE"></span></md-option><md-option value="IDENTITY_CARD"><span translate="common.IDENTITY_CARD"></span></md-option></md-select></md-input-container></div><div class="flex-xs-100 flex-sm-50 flex-gt-sm-33 flex-gt-md-20"><md-input-container class="md-block no-margin-bottom"><label translate="common.document.number"></label><input type="text" ng-model="$ctrl.identityDocument.number" name="number"></md-input-container></div><div class="flex-xs-100 flex-sm-50 flex-gt-sm-33 flex-gt-md-20"><md-input-container class="md-block no-margin-bottom"><label translate="common.document.expirationDate"></label><md-datepicker name="expirationDate" ng-model="$ctrl.identityDocument.expirationDate" utc-date md-datepicker-on-click md-open-on-focus md-hide-icons="calendar" md-min-date="$ctrl.$$today"></md-datepicker><div ng-messages="identityDocumentForm.expirationDate.$error"><div ng-message="mindate"><span translate="error.date.before.today"></span></div></div></md-input-container></div><div class="flex-xs-100 flex-sm-50 flex-gt-sm-50 flex-gt-md-20"><md-input-container class="md-block no-margin-bottom"><label translate="common.place.issuer"></label><input type="text" ng-model="$ctrl.identityDocument.issuer" name="issuer"></md-input-container></div><div class="flex-xs-100 flex-sm-50 flex-gt-sm-50 flex-gt-md-20"><md-input-container class="md-block no-margin-bottom"><label translate="common.citizenship"></label><input type="text" ng-model="$ctrl.identityDocument.citizenship" name="citizenship"></md-input-container></div></div></div><div layout="column" layout-gt-sm="row" layout-padding-sm layout-align="center center"><md-button ng-click="$ctrl.$cancel()" aria-label="Cancel identity document edit"><md-icon class="mdi mdi-close md-24"></md-icon><span translate="common.cancel"></span></md-button><md-button class="bg-success text-white" ng-click="$ctrl.$confirm()" ng-disabled="identityDocumentForm.$invalid" aria-label="Confirm identity document edit"><md-icon class="mdi mdi-check md-24 text-white"></md-icon><span translate="common.confirm"></span></md-button></div></ng-form></div>'),t.put("/tpls/invoice/invoice-header.tpl",'<div layout layout-wrap layout-padding><div flex="50" flex-xs="100" layout-padding class="no-padding"><div><md-whiteframe class="md-whiteframe-2dp" flex layout="column"><md-toolbar class="md-accent auto-height" layout-padding-sm><div class="md-toolbar-tools auto-height" layout-padding-sm><span translate="billing.invoice.details"></span></div></md-toolbar><div layout-padding-sm><div><div layout layout-padding-sm><div flex="40"><span translate="billing.invoice.number"></span></div><div flex><span ng-bind="$ctrl.invoice.number"></span>&nbsp;/&nbsp;<span ng-bind="$ctrl.invoice.year"></span></div></div><div layout layout-padding-sm><div flex="40"><span translate="billing.invoice.date"></span></div><div flex><span ng-bind="$ctrl.invoice.issueDate|date:\'shortDate\'"></span></div></div></div></div></md-whiteframe></div><div><md-whiteframe class="md-whiteframe-2dp" flex layout="column"><md-toolbar class="md-accent auto-height" layout-padding-sm><div class="md-toolbar-tools auto-height" layout-padding-sm><span translate="order.details"></span></div></md-toolbar><div layout-padding-sm><div><div layout layout-padding-sm><div flex="40"><span translate="order.order.number"></span></div><div flex><span ng-bind="$ctrl.invoice.order.serial"></span></div></div><div layout layout-padding-sm><div flex="40"><span translate="order.date"></span></div><div flex><span ng-bind="$ctrl.invoice.order.createdDate|date:\'shortDate\'"></span></div></div><div layout layout-padding-sm ng-if="$ctrl.invoice.order.customer"><div flex="40"><span translate="customer.name"></span></div><div flex><span ng-bind="$ctrl.invoice.order.customer.name"></span>&nbsp;<span ng-bind="$ctrl.invoice.order.customer.surname"></span></div></div></div></div></md-whiteframe></div></div><div flex="50" flex-xs="100"><md-whiteframe class="md-whiteframe-2dp" flex layout="column"><md-toolbar class="md-accent auto-height" layout-padding-sm><div class="md-toolbar-tools auto-height" layout-padding-sm><span translate="billing.invoice.header"></span></div></md-toolbar><div layout-padding-sm><div layout-padding-sm><div><span ng-bind="$ctrl.invoice.customerBillingData.name"></span></div><div flex><span ng-bind="$ctrl.invoice.customerBillingData.addressInfo.address"></span></div><div><span ng-bind="$ctrl.invoice.customerBillingData.addressInfo.zipcode"></span>,&nbsp;<span ng-bind="$ctrl.invoice.customerBillingData.addressInfo.city"></span>,&nbsp;<span ng-bind="$ctrl.invoice.customerBillingData.addressInfo.province"></span>,&nbsp;<span ng-if="$ctrl.invoice.customerBillingData.addressInfo.country" ng-bind="$ctrl.invoice.customerBillingData.addressInfo.country"></span></div><div><span translate="common.vat.abbr"></span>:&nbsp;<span ng-bind="$ctrl.invoice.customerBillingData.vat"></span></div><div ng-if="$ctrl.invoice.customerBillingData.fiscalCode"><span translate="common.fiscalCode.abbr"></span>:&nbsp;<span ng-bind="$ctrl.invoice.customerBillingData.fiscalCode"></span></div></div></div></md-whiteframe></div></div>'),t.put("/tpls/invoice/invoice-items.tpl",'<div layout-padding><div><md-whiteframe class="md-whiteframe-2dp" flex layout="column"><md-toolbar class="md-accent auto-height" layout-padding-sm><div class="md-toolbar-tools auto-height" layout-padding-sm><span translate="order.items"></span></div></md-toolbar><div layout="column"><div layout layout-padding layout-align="center center" class="bg-gray-lighter"><div hide-xs flex="10" class="text-center"><strong translate="order.item.code.abbr">Cod. articolo</strong></div><div flex class="text-left"><strong translate="common.description">Descrizione</strong></div><div flex="10" class="text-center"><strong translate="common.quantity.abbr">Quantit</strong></div><div hide-xs flex="20" class="text-right"><strong translate="common.price.unit">Importo unitario</strong></div><div flex="20" class="text-right"><strong translate="common.amount">Importo</strong></div><div flex="10" flex-xs="15" class="text-center"><strong><span translate="common.vat.alt">IVA</span>&nbsp;(%)</strong></div></div><md-divider></md-divider><div><div ng-repeat="productSold in $ctrl.invoice.order.products track by productSold.product.id" layout layout-padding ng-class="{\'bg-gray-lighter\': $odd}"><div hide-xs flex="10" class="text-center"><span ng-bind="productSold.product.serial"></span></div><div flex class="text-left"><span ng-bind="productSold.product.name"></span><span hide show-xs>&nbsp;(<span ng-bind="productSold.product.serial"></span>)</span><div ng-if="productSold.product.category.type == \'FREE_LOAN\'" class="text-gray-light"><small>(<span translate="common.freeloan"></span>)</small></div></div><div flex="10" class="text-center"><span ng-bind="productSold.counter.actual"></span></div><div hide-xs flex="20" class="text-right"><span ng-if="productSold.product.paymentOption.amount != null && productSold.product.paymentOption.amount.finalAmount != null">{{productSold.product.paymentOption.amount.finalAmount|chCurrency}}</span><span ng-if="productSold.product.paymentOption.amount == null || productSold.product.paymentOption.amount.finalAmount == null">{{0|chCurrency}}</span></div><div flex="20" class="text-right"><span ng-if="productSold.amount != null && productSold.amount.finalAmount != null">{{productSold.amount.finalAmount|chCurrency}}</span><span ng-if="productSold.amount == null || productSold.amount.finalAmount == null">{{0|chCurrency}}</span></div><div flex="10" flex-xs="15" class="text-center"><span ng-if="productSold.amount != null && productSold.amount.vatRate != null" ng-bind="productSold.amount.vatRate"></span><span ng-if="productSold.amount == null || productSold.amount.vatRate == null">-</span></div></div></div><md-divider></md-divider><div layout-padding-sm><div ng-if="$ctrl.invoice.order.amount.initialAmount && $ctrl.invoice.order.amount.initialAmount > 0 && $ctrl.invoice.order.amount.initialAmount != $ctrl.invoice.order.amount.finalAmount" layout layout-padding-sm><div flex>&nbsp;</div><div flex="20" flex-xs="70" class="text-left"><span translate="common.subtotal">SUBTOTALE</span></div><div flex="20" class="text-right"><span ng-bind="$ctrl.invoice.order.amount.initialAmount|chCurrency"></span></div><div flex="10" flex-xs="15">&nbsp;</div></div><div ng-if="$ctrl.invoice.order.amount.discountAmount && $ctrl.invoice.order.amount.discountAmount > 0" layout layout-padding-sm><div flex>&nbsp;</div><div flex="20" flex-xs="70" class="text-left"><span translate="common.discount">SCONTO</span></div><div flex="20" class="text-right"><small ng-if="$ctrl.invoice.order.amount.discountRate && $ctrl.invoice.order.amount.discountRate > 0">(<span ng-bind="$ctrl.invoice.order.amount.discountRate + \'%\'"></span>)&nbsp;</small><span ng-bind="$ctrl.invoice.order.amount.discountAmount|chCurrency"></span></div><div flex="10" flex-xs="15">&nbsp;</div></div><div layout layout-padding-sm><div flex>&nbsp;</div><div flex="20" flex-xs="70" class="text-left"><span translate="common.taxable">Imponibile</span></div><div flex="20" class="text-right"><span ng-if="$ctrl.invoice.order.amount && $ctrl.invoice.order.amount.finalAmount"><span ng-if="$ctrl.invoice.order.amount.vatAmount" ng-bind="($ctrl.invoice.order.amount.finalAmount - $ctrl.invoice.order.amount.vatAmount)|chCurrency"></span><span ng-if="!$ctrl.invoice.order.amount.vatAmount" ng-bind="$ctrl.invoice.order.amount.finalAmount|chCurrency"></span></span><span ng-if="!$ctrl.invoice.order.amount || !$ctrl.invoice.order.amount.finalAmount" ng-bind="0|chCurrency"></span></div><div flex="10" flex-xs="15">&nbsp;</div></div><div ng-repeat="(vatRate, vatAmount) in $ctrl.invoice.order.vatMap track by vatRate" layout layout-padding-sm><div flex>&nbsp;</div><div flex="20" flex-xs="70" class="text-left"><span translate="common.vat.alt">IVA</span>&nbsp;<span ng-bind="vatRate"></span>%</div><div flex="20" class="text-right"><span ng-bind="vatAmount|chCurrency"></span></div><div flex="10" flex-xs="15">&nbsp;</div></div><div layout layout-padding-sm class="md-subhead text-primary"><div flex>&nbsp;</div><div flex="20" flex-xs="70" class="text-left only-border no-border-bottom no-border-right no-border-left"><strong translate="billing.invoice.price.total">TOTALE FATTURA</strong></div><div flex="20" class="text-right text-primary only-border no-border-bottom no-border-right no-border-left"><strong ng-if="$ctrl.invoice.order.amount && $ctrl.invoice.order.amount.finalAmount" ng-bind="$ctrl.invoice.order.amount.finalAmount|chCurrency"></strong><strong ng-if="!$ctrl.invoice.order.amount || !$ctrl.invoice.order.amount.finalAmount" ng-bind="0|chCurrency"></strong></div><div flex="10" flex-xs="15">&nbsp;</div></div></div></div></md-whiteframe></div></div>'),t.put("/tpls/month-picker/month-picker-trigger.tpl",'<ng-form name="chMonthPickerTriggerForm" flex class="no-padding"><md-button class="ch-month-picker-button flex minimal-button text-initial text-center {{$ctrl.buttonClass}}" ng-click="$ctrl.$openPanel($event)" ng-disabled="$ctrl.ngDisabled" aria-label="Change month"><div class="{{$ctrl.wrapperClass}}" layout-align="center center" ng-class="$ctrl.labelPosition == \'top\' ? \'layout-column\' : \'layout-row\'"><div ng-if="$ctrl.label" class="no-padding row-mini"><small class="row-mini text-initial" ng-bind-html="$ctrl.label"></small></div><div layout layout-align="center center"><span ng-if="!$ctrl.hideIcon"><md-icon class="mdi mdi-calendar {{$ctrl.iconColorClass}}" ng-class="{\'md-32\': $ctrl.size == \'big\', \'md-24\': $ctrl.size == \'medium\', \'md-18\': $ctrl.size == \'small\'}"></md-icon></span><small ng-show="!$ctrl.ngModel" class="text-gray-light"><em><span ng-if="!$ctrl.placeholder">...</span><span ng-if="$ctrl.placeholder" ng-bind="$ctrl.placeholder"></span></em></small><span ng-show="$ctrl.ngModel" ng-class="$ctrl.size == \'small\' ? \'text-small row-1\' : \'row-mini\'"><span class="text-capitalize"><span ng-show="!$ctrl.$$selectedText" ng-bind="($ctrl.ngModel|date:\'MMMM\')"></span><span ng-show="$ctrl.$$selectedText" ng-bind-html="$ctrl.$$selectedText"></span></span><span ng-show="$ctrl.$$showYear">&nbsp;<span ng-bind="($ctrl.ngModel|date:\'yyyy\')"></span></span></span><span><md-icon class="mdi mdi-menu-down md-24 {{$ctrl.iconColorClass}}"></md-icon></span></div></div><md-input-container class="md-block no-margin no-padding"><input type="hidden" style="visibility: hidden" name="date" ng-model="$ctrl.ngModel" ng-required="$ctrl.ngRequired"><div ng-messages="chMonthPickerTriggerForm.date.$error" ng-show="chMonthPickerTriggerForm.$submitted || chMonthPickerTriggerForm.date.$touched || chMonthPickerTriggerForm.date.$dirty"><div ng-repeat="errorObj in $ctrl.errorMessages" ng-message="{{errorObj.error}}" class="no-padding"><span ng-if="errorObj.message" ng-bind="{{errorObj.message}}"></span><span ng-if="!errorObj.message && errorObj.messageKey" translate="{{errorObj.messageKey}}" translate-values="errorObj.messageKeyParams"></span></div></div></md-input-container></md-button></ng-form>'),t.put("/tpls/month-picker/month-picker.tpl",'<div><div><md-calendar class="no-today-selection" ng-model="$ctrl.data.current" ng-model-options="$ctrl.modelOptions" md-min-date="$ctrl.data.min" md-max-date="$ctrl.data.max" md-mode="month"></md-calendar></div><div ng-if="$ctrl.hasConfirm" layout class="no-padding"><div flex></div><md-button class="no-margin-top no-margin-bottom" ng-click="$ctrl.cancel()" aria-label="Cancel"><small translate="common.cancel"></small></md-button><md-button class="md-primary no-margin-top no-margin-bottom" ng-click="$ctrl.confirm()" aria-label="Confirm"><small translate="common.confirm"></small></md-button></div></div>'),t.put("/tpls/no-show-policy-info/no-show-policy-info.tpl",'<div><h4 class="{{$ctrl.titleClass}}"><strong><span ng-if="!$ctrl.title" translate="reservation.noshow.terms.conditions"></span><span ng-if="$ctrl.title" ng-bind="$ctrl.title"></span></strong></h4><div ng-if="!$ctrl.noShowPolicy || !$ctrl.noShowPolicy.cancellation"><span translate="reservation.cancellation.room.no.condition"></span></div><div flex ng-if="$ctrl.noShowPolicy && $ctrl.noShowPolicy.cancellation"><div><span translate="reservation.noshow.room.conditions"></span><span ng-if="$ctrl.noShowPolicy.cancellation.chargeNights != $ctrl.noShowPolicy.cancellation.stayNights">{{::$ctrl.noShowPolicy.cancellation.percentage}}<span ng-if="$ctrl.noShowPolicy.cancellation.chargeNights == 1"><span translate="reservation.percentage.firstNight"></span><span translate="common.night" class="text-lowercase"></span></span><span ng-if="$ctrl.noShowPolicy.cancellation.chargeNights > 1"><span ng-if="$ctrl.noShowPolicy.cancellation.chargeNights < reservation.nights"><span translate="reservation.percentage.nights"></span>{{::$ctrl.noShowPolicy.cancellation.chargeNights}}&nbsp;<span translate="common.nights" class="text-lowercase"></span></span><span ng-if="$ctrl.noShowPolicy.cancellation.chargeNights >= reservation.nights"><span translate="reservation.percentage.total.stay"></span></span></span><span ng-if="$ctrl.noShowPolicy.cancellation.chargeNights < 0"><span translate="reservation.percentage.total.stay"></span></span></span><span ng-if="$ctrl.noShowPolicy.cancellation.chargeNights == $ctrl.noShowPolicy.cancellation.stayNights">{{::$ctrl.noShowPolicy.cancellation.percentage}}<span translate="reservation.percentage.total.stay"></span></span><span translate="reservation.total.night"></span><strong>{{$ctrl.noShowPolicy.amount.finalAmount|chCurrency}}</strong>.</div></div></div>'),t.put("/tpls/password-input/password-input.tpl",'<ng-form name="chPasswordInputForm" flex><md-input-container class="{{$ctrl.containerClass}} no-padding-right" ng-class="{\'no-padding-left\': !$ctrl.iconClass, \'md-icon-left\': $ctrl.iconClass, \'md-icon-right\': $ctrl.showIconClass || $ctrl.hideIconClass}"><label><span ng-if="$ctrl.inputLabel" ng-bind="$ctrl.inputLabel"></span><span ng-if="!$ctrl.inputLabel" translate="login.password"></span></label><md-icon ng-if="$ctrl.iconClass" class="{{$ctrl.iconClass}}"></md-icon><input type="{{$ctrl.$$showPwd ? \'text\' : \'password\'}}" name="{{$ctrl.inputName}}" ng-model="$ctrl.ngModel" ng-required="$ctrl.ngRequired" ng-disabled="$ctrl.ngDisabled" ng-readonly="$ctrl.ngReadonly" style="padding-right: 30px"><md-icon class="clickable" ng-class="$ctrl.$$showPwd ? $ctrl.hideIconClass : $ctrl.showIconClass" ng-click="$ctrl.$$showPwd = !$ctrl.$$showPwd" aria-label="Show/Hide password" tabindex="-1"><md-tooltip><span ng-show="$ctrl.$$showPwd" translate="common.hide"></span><span ng-show="!$ctrl.$$showPwd" translate="common.show"></span></md-tooltip></md-icon><div ng-messages="chPasswordInputForm[$ctrl.inputName].$error"><div ng-repeat="errorObj in $ctrl.errorMessages" ng-message="{{errorObj.error}}"><span ng-if="errorObj.message" ng-bind="{{errorObj.message}}"></span><span ng-if="!errorObj.message && errorObj.messageKey" translate="{{errorObj.messageKey}}" translate-values="errorObj.messageKeyParams"></span></div></div></md-input-container></ng-form>'),t.put("/tpls/payment-option/payment-option-edit.tpl",'<div class="only-border border-radius bg-gray-lighter md-padding"><ng-form name="chPaymentOptionForm" flex><div ng-if="$ctrl.title"><h3 class="md-subhead no-margin-top text-center"><strong ng-bind="$ctrl.title"></strong></h3><div ng-if="$ctrl.subtitle" class="text-gray-light"><span ng-bind="$ctrl.subtitle"></span></div></div><div layout layout-wrap layout-padding><div flex="100" flex-gt-sm="50" flex-gt-lg="25"><div><span ng-if="!$ctrl.sizeTitle" translate-once="payment.option.size.title"></span><span ng-if="$ctrl.sizeTitle" ng-bind="$ctrl.sizeTitle"></span></div><div ng-if="$ctrl.sizeSubtitle" class="text-gray-light"><small ng-bind="$ctrl.sizeSubtitle"></small></div><div><md-input-container md-no-float><md-select name="size" placeholder="{{::(\'payment.option.size\'|translate)}}" ng-model="$ctrl.$$paymentOption.size" ng-disabled="$ctrl.ngDisabled" ng-required="true" aria-label="Payment size"><md-option ng-repeat="size in $ctrl.$$sizes track by $index" ng-value="size.value" ng-disabled="size.disabled" ng-selected="$ctrl.$$sizes.length == 1 || $ctrl.$$paymentOption.size == size.value"><span translate-once="payment.option.size.{{size.value}}"></span></md-option></md-select><div ng-messages="chPaymentOptionForm.size.$error"><div ng-message="required"><span translate-once="error.required"></span></div></div></md-input-container></div></div><div flex="100" flex-gt-sm="50" flex-gt-lg="25"><div><span ng-if="!$ctrl.frequencyTitle" translate-once="payment.option.frequency.title"></span><span ng-if="$ctrl.frequencyTitle" ng-bind="$ctrl.frequencyTitle"></span></div><div ng-if="$ctrl.frequencySubtitle" class="text-gray-light"><small ng-bind="$ctrl.frequencySubtitle"></small></div><div><md-input-container md-no-float><md-select name="frequency" placeholder="{{::(\'payment.option.frequency\'|translate)}}" ng-model="$ctrl.$$paymentOption.frequency" ng-disabled="$ctrl.ngDisabled" ng-required="true" ng-change="$ctrl.$onFrequencyChange()" aria-label="Payment frequency"><md-option ng-repeat="frequency in $ctrl.$$frequencies track by $index" ng-value="frequency.value" ng-disabled="frequency.disabled" ng-selected="$ctrl.$$frequencies.length == 1 || $ctrl.$$paymentOption.frequency == frequency.value"><span translate-once="payment.option.frequency.{{frequency.value}}"></span></md-option></md-select><div ng-messages="chPaymentOptionForm.frequency.$error"><div ng-message="required"><span translate-once="error.required"></span></div></div></md-input-container></div></div><div flex="100" flex-gt-sm="50" flex-gt-lg="25"><div><span ng-if="!$ctrl.amountTitle" translate-once="payment.option.amount.title"></span><span ng-if="$ctrl.amountTitle" ng-bind="$ctrl.amountTitle"></span></div><div ng-if="$ctrl.amountSubtitle" class="text-gray-light"><small ng-bind="$ctrl.amountSubtitle"></small></div><div layout><div><md-input-container ng-class="{\'md-icon-left\': $ctrl.amountType, \'no-padding-left\': !$ctrl.amountType}"><label ng-switch="$ctrl.$$paymentOption.frequency"><span ng-switch-when="DAILY"><span translate-once="date.frequency.daily"></span></span><span ng-switch-when="NIGHTLY"><span translate-once="date.frequency.nightly"></span></span><span ng-switch-when="WEEKLY"><span translate-once="date.frequency.weekly"></span></span><span ng-switch-when="MONTHLY"><span translate-once="date.frequency.monthly"></span></span><span ng-switch-when="YEARLY"><span translate-once="date.frequency.yearly"></span></span></label><md-icon ng-if="$ctrl.amountType == \'PRICE\'" class="mdi md-18" ng-class="{\'mdi-currency-eur\': !$ctrl.amountCurrency || $ctrl.amountCurrency == \'EUR\', \'mdi-currency-usd\': $ctrl.amountCurrency == \'USD\'}"></md-icon><md-icon ng-if="$ctrl.amountType == \'PERCENTAGE\'" class="mdi mdi-percent md-18"></md-icon><input type="text" name="amount" placeholder="{{::(\'common.free\'|translate)}}" ng-model="$ctrl.$$paymentOption.amount.finalAmount" min="1" step="0.50" ng-max="$ctrl.$$paymentOption.amount.type == \'PERCENTAGE\' ? 100 : null" ng-pattern="$ctrl.$$paymentOption.amount.type == \'PERCENTAGE\' ? null : $ctrl.$$REGEXP.price" aria-label="Amount" ng-disabled="$ctrl.ngDisabled"><div ng-messages="chPaymentOptionForm.amount.$error"><div ng-message="min"><span translate="error.field.min" translate-value-num="1"></span></div><div ng-message="max"><span translate="error.field.max" translate-value-num="100"></span></div><div ng-message="step"><span translate-once="error.amount.invalid"></span></div></div></md-input-container></div><div ng-if="!$ctrl.amountType"><md-input-container md-no-float><md-select name="amountType" placeholder="{{::(\'common.amount.type\'|translate)}}" ng-model="$ctrl.$$paymentOption.amount.type" ng-required="true" aria-label="Amount type" ng-disabled="$ctrl.ngDisabled"><md-option value="PRICE" ng-selected="!$ctrl.$$paymentOption.amount.type || $ctrl.$$paymentOption.amount.type == \'PRICE\'"><md-icon class="mdi md-14" ng-class="{\'mdi-currency-eur\': !$ctrl.amountCurrency || $ctrl.amountCurrency == \'EUR\', \'mdi-currency-usd\': $ctrl.amountCurrency == \'USD\'}"></md-icon></md-option><md-option value="PERCENTAGE" ng-selected="$ctrl.$$paymentOption.amount.type == \'PERCENTAGE\'"><md-icon class="mdi mdi-percent md-14"></md-icon></md-option></md-select><div ng-messages="chPaymentOptionForm.amountType.$error"><div ng-message="required"><span translate-once="error.required"></span></div></div></md-input-container></div></div></div><div flex="100" flex-gt-sm="50" flex-gt-lg="25" ng-if="$ctrl.hideLengths"><div><span ng-if="!$ctrl.lengthTitle" translate-once="payment.option.minLength.title"></span><span ng-if="$ctrl.lengthTitle" ng-bind="$ctrl.lengthTitle"></span></div><div ng-if="$ctrl.lengthSubtitle" class="text-gray-light"><small ng-bind="$ctrl.lengthSubtitle"></small></div><div><ch-value-input ng-model="$ctrl.$$paymentOption.minLength" units="$ctrl.$$minLengthUnits" disabled-units="$ctrl.$$disabledMinLengthUnits" counts="$ctrl.lengths" disabled-counts="$ctrl.disabledLengths" ng-min="1" ng-step="1" ng-disabled="$ctrl.ngDisabled"></ch-value-input></div></div></div><div><div class="bg-info border-radius font-16 md-padding ng-binding text-italic" ng-if="$ctrl.$$paymentOption.amount.finalAmount && $ctrl.$$paymentOption.size && $ctrl.$$paymentOption.frequency"><span>&ldquo;<span><span translate-once="payment.option.hint"></span><strong>&nbsp;{{$ctrl.$$paymentOption.amount.finalAmount|chCurrency}}&nbsp;</strong><span ng-if="$ctrl.$$paymentOption.size && $ctrl.$$paymentOption.size != \'SINGLE\'" class="text-lowercase" translate="{{\'payment.option.size.\'+ $ctrl.$$paymentOption.size}}"></span><span ng-if="$ctrl.$$paymentOption.frequency && $ctrl.$$paymentOption.frequency != \'LUMP_SUM\'" class="text-lowercase" translate="{{\'service.type.payment.at.\'+ $ctrl.$$paymentOption.frequency}}"></span><span ng-if="!$ctrl.$$paymentOption.frequency || $ctrl.$$paymentOption.frequency == \'LUMP_SUM\'" class="text-lowercase" translate-once="payment.option.frequency.LUMP_SUM"><span ng-if="$ctrl.$$paymentOption.minLength.count" class="text-lowercase"><span translate="date.for.at.least"></span><span>{{$ctrl.$$paymentOption.minLength|chValue}}</span></span><em>(<span translate="payment.option.payment.in.advance.with.date" translate-values="{day: $ctrl.appOptions.about.contractPaymentDeadline}"></span>)</em></span>&rdquo;</span></span></div></div><div layout layout-align="center center"><md-button ng-click="$ctrl.$cancel($event)" aria-label="Cancel" ng-disabled="$ctrl.ngDisabled"><span translate-once="common.cancel"></span></md-button><md-button class="md-raised md-primary" ng-click="$ctrl.$confirm($event)" aria-label="Confirm" ng-disabled="$ctrl.ngDisabled"><span translate-once="common.confirm"></span></md-button></div></ng-form></div>'),t.put("/tpls/payment-option/payment-option.tpl",'<span><span ng-if="!$ctrl.paymentOption.amount.finalAmount"><span translate="common.free"></span></span><span ng-if="$ctrl.paymentOption.amount.finalAmount" class="text-lowercase"><span ng-if="$ctrl.discount"><del ng-if="$ctrl.$$finalAmount != $ctrl.$$initialAmount">{{$ctrl.$$initialAmount|chCurrency}}&nbsp;</del><span>{{$ctrl.$$finalAmount|chCurrency}}</span></span><span ng-if="!$ctrl.discount" class="{{$ctrl.amountClass}}" ng-bind-html="($ctrl.paymentOption.amount|chAmount)"></span><span ng-switch="$ctrl.paymentOption.frequency"><span ng-switch-when="LUMP_SUM" ng-show="!$ctrl.showLumpSumLabel">&nbsp;<span ng-if="$ctrl.lumpSumLabel" ng-bind-html="$ctrl.lumpSumLabel"></span><span ng-if="!$ctrl.lumpSumLabel" translate="payment.option.frequency.LUMP_SUM"></span></span><span ng-switch-when="DAILY">/<span ng-if="$ctrl.frequencyLabel" ng-bind-html="$ctrl.frequencyLabel"></span><span ng-if="!$ctrl.frequencyLabel" translate="date.day"></span></span><span ng-switch-when="NIGHTLY">/<span ng-if="$ctrl.frequencyLabel" ng-bind-html="$ctrl.frequencyLabel"></span><span ng-if="!$ctrl.frequencyLabel" translate="common.night"></span></span><span ng-switch-when="WEEKLY">/<span ng-if="$ctrl.frequencyLabel" ng-bind-html="$ctrl.frequencyLabel"></span><span ng-if="!$ctrl.frequencyLabel" translate="date.week"></span></span><span ng-switch-when="MONTHLY">/<span ng-if="$ctrl.frequencyLabel" ng-bind-html="$ctrl.frequencyLabel"></span><span ng-if="!$ctrl.frequencyLabel" translate="date.month"></span></span><span ng-switch-when="YEARLY">/<span ng-if="$ctrl.frequencyLabel" ng-bind-html="$ctrl.frequencyLabel"></span><span ng-if="!$ctrl.frequencyLabel" translate="date.year"></span></span><span ng-switch-default></span></span></span><span ng-switch="$ctrl.paymentOption.size"><span ng-switch-when="PER_ADULT">/<span ng-if="$ctrl.sizeLabel" ng-bind-html="$ctrl.sizeLabel"></span><span ng-if="!$ctrl.sizeLabel" translate="people.adult"></span></span><span ng-switch-when="PER_BOY">/<span ng-if="$ctrl.sizeLabel" ng-bind-html="$ctrl.sizeLabel"></span><span ng-if="!$ctrl.sizeLabel" translate="people.boy"></span></span><span ng-switch-when="PER_CHILD">/<span ng-if="$ctrl.sizeLabel" ng-bind-html="$ctrl.sizeLabel"></span><span ng-if="!$ctrl.sizeLabel" translate="people.child"></span></span><span ng-switch-when="PER_KID">/<span ng-if="$ctrl.sizeLabel" ng-bind-html="$ctrl.sizeLabel"></span><span ng-if="!$ctrl.sizeLabel" translate="people.kid"></span></span><span ng-switch-default></span></span><span ng-if="$ctrl.paymentOption.minLength.count" class="text-lowercase">&nbsp; (<span translate="date.length.minimum.of"></span>&nbsp;<ch-value value="$ctrl.paymentOption.minLength"></ch-value>)</span></span>'),t.put("/tpls/payment-policy-info/payment-policy-info.tpl",'<div><h4 class="{{$ctrl.titleClass}}"><strong><span ng-if="!$ctrl.title" translate="common.payment"></span><span ng-if="$ctrl.title" ng-bind="$ctrl.title"></span></strong></h4><div ng-if="!$ctrl.cancellationPolicy"><span translate="reservation.payment.room.policy.free.label"></span><span translate="reservation.payment.room.policy.free.label2"></span></div><div flex ng-if="$ctrl.cancellationPolicy"><div ng-if="!$ctrl.cancellationPolicy.cancellation.deposit"><div ng-if="$ctrl.rateType == \'STANDARD\' && !$ctrl.cancellationPolicy.flexible"><span translate="reservation.payment.room.policy.free.label"></span><span translate="reservation.payment.room.policy.free.label2"></span><span translate="reservation.payment.room.policy.free.label3"></span></div><div ng-if="$ctrl.rateType == \'NOT_REFUNDABLE\' || $ctrl.cancellationPolicy.flexible"><span translate="reservation.payment.room.policy.notRef.label"></span><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights != $ctrl.cancellationPolicy.cancellation.stayNights">{{::$ctrl.cancellationPolicy.cancellation.percentage}}<span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights == 1"><span translate="reservation.percentage.firstNight"></span>&nbsp;<span translate="common.night" class="text-lowercase"></span></span><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights > 1"><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights < reservation.nights"><span translate="reservation.percentage.nights"></span>{{::$ctrl.cancellationPolicy.cancellation.chargeNights}}&nbsp;<span translate="common.nights" class="text-lowercase"></span></span><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights >= reservation.nights"><span translate="reservation.percentage.total.stay"></span></span></span><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights < 0"><span translate="reservation.percentage.total.stay"></span></span></span><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights == $ctrl.cancellationPolicy.cancellation.stayNights">{{::$ctrl.cancellationPolicy.cancellation.percentage}}<span translate="reservation.percentage.total.stay"></span></span><span translate="reservation.total.night"></span><strong>{{$ctrl.cancellationPolicy.amount.finalAmount|chCurrency}}</strong><br><span ng-if="!$ctrl.cancellationPolicy.limitDate || $ctrl.cancellationPolicy.flexible" translate="reservation.payment.room.policy.notRef.label2"></span><span ng-if="$ctrl.cancellationPolicy.limitDate && !$ctrl.cancellationPolicy.flexible"><span translate="reservation.payment.room.policy.notRef.label2.bis"></span><strong>{{::($ctrl.cancellationPolicy.limitDate|date:"shortDate")}}</strong><span translate="date.time.to" class="text-lowercase"></span><span><strong>{{::($ctrl.cancellationPolicy.limitDate|offsetDate:"HH:mm":$ctrl.offset)}}</strong></span><span>[{{::$ctrl.city}}].</span></span></div></div><div class="layout-column" ng-if="$ctrl.cancellationPolicy.cancellation.deposit"><span class="no-margin-top"><span translate="reservation.payment.room.policy.deposit.label"></span><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights != $ctrl.cancellationPolicy.cancellation.stayNights">{{::$ctrl.cancellationPolicy.cancellation.percentage}}<span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights == 1"><span translate="reservation.percentage.firstNight"></span>&nbsp;<span translate="common.night" class="text-lowercase"></span></span><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights > 1"><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights < reservation.nights"><span translate="reservation.percentage.nights"></span>{{::$ctrl.cancellationPolicy.cancellation.chargeNights}}&nbsp;<span translate="common.nights" class="text-lowercase"></span></span><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights >= reservation.nights"><span translate="reservation.percentage.total.stay"></span></span></span><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights < 0"><span translate="reservation.percentage.total.stay"></span></span></span><span ng-if="$ctrl.cancellationPolicy.cancellation.chargeNights == $ctrl.cancellationPolicy.cancellation.stayNights">{{::$ctrl.cancellationPolicy.cancellation.percentage}}<span translate="reservation.percentage.total.stay"></span></span><span translate="reservation.total.night"></span><strong>{{$ctrl.cancellationPolicy.amount.finalAmount|chCurrency}}</strong><span translate="reservation.payment.room.policy.notRef.label2"></span></span></div></div></div>'),t.put("/tpls/people-counters/people-counters.tpl",'<div class="layout layout-wrap layout-align-center-center"><div class="flex layout-column layout-align-center-center"><ch-counter label="{{$ctrl.$$adultsHint}}" count-class="bg-white only-border" ng-model="$ctrl.people.adults" min="$ctrl.$$peopleLimits.adults.min" max="$ctrl.$$peopleLimits.adults.max"></ch-counter></div><div class="flex layout-column layout-align-center-center"><ch-counter label="{{$ctrl.$$boysHint}}" count-class="bg-white only-border" ng-model="$ctrl.people.boys" min="$ctrl.$$peopleLimits.boys.min" max="$ctrl.$$peopleLimits.boys.max"></ch-counter></div><div class="flex layout-column layout-align-center-center"><ch-counter label="{{$ctrl.$$childrenHints}}" count-class="bg-white only-border" ng-model="$ctrl.people.children" min="$ctrl.$$peopleLimits.children.min" max="$ctrl.$$peopleLimits.children.max"></ch-counter></div><div class="flex layout-column layout-align-center-center layout-padding"><ch-counter label="{{$ctrl.$$kidsHints}}" count-class="bg-white only-border" ng-model="$ctrl.people.kids" min="$ctrl.$$peopleLimits.kids.min" max="$ctrl.$$peopleLimits.kids.max"></ch-counter></div></div>'),t.put("/tpls/people-picker/people-picker-trigger.tpl",'<ng-form name="chPeoplePickerForm" class="flex no-padding layout-column layout-fill"><md-button class="ch-people-picker-button minimal-button flex text-lowercase text-center {{$ctrl.buttonClass}}" aria-label="Change people" ng-disabled="$ctrl.ngDisabled" ng-click="$ctrl.$openPanel($event)"><div class="{{$ctrl.wrapperClass}}"><div ng-if="$ctrl.label" class="layout-row layout-align-center-center" ng-class="{\'no-padding-top\': $ctrl.$mdMedia(\'gt-xs\'), \'md-padding\': !$ctrl.$mdMedia(\'gt-xs\') || $ctrl.$$hasPeople}"><div class="{{$ctrl.labelClass}} text-initial text-wrap row-1" ng-class="{\'text-small\': $ctrl.$$hasPeople}"><span ng-bind-html="$ctrl.label"></span></div></div><div ng-show="$ctrl.$$hasPeople" class="md-subhead text-wrap row-mini"><strong><ch-people-summary people="$ctrl.people"></ch-people-summary></strong></div></div><div ng-messages="chPeoplePickerForm[$ctrl.fieldName].$error" ng-show="chPeoplePickerForm[$ctrl.fieldName].$dirty" class="text-danger text-small text-center row-1 no-padding layout-column layout-padding-sm"><div ng-message="required"><md-icon ng-if="$ctrl.showErrorIcon" class="mdi mdi-alert-outline material-icons md-18 text-danger"></md-icon><span class="text-wrap" translate="error.required"></span></div><div ng-message="min"><md-icon ng-if="$ctrl.showErrorIcon" class="mdi mdi-alert-outline material-icons md-18 text-danger"></md-icon><span class="text-wrap" ng-if="$ctrl.errorMessages.min" ng-bind="$ctrl.errorMessages.min"></span><span class="text-wrap" ng-if="!$ctrl.errorMessages.min" translate="error.field.min" translate-value-num="{{$ctrl.minCount}}"></span></div></div></md-button><input type="hidden" name="{{$ctrl.fieldName}}" ng-model="$ctrl.people" ng-required="$ctrl.ngRequired"></ng-form>'),t.put("/tpls/people-picker/people-picker.tpl",'<div layout="column" layout-padding><div class="text-center" ng-if="!$ctrl.data.noTitle"><strong><span ng-if="!$ctrl.data.title" translate="reservation.people.question"></span><span ng-if="$ctrl.data.title" ng-bind-html="$ctrl.data.title"></span></strong></div><div class="no-padding"><div layout layout-align="center center" class="md-margin"><ch-counter label="<div class=\'text-center\'>{{::(\'people.adults\'|translate)}}</div><small>({{\'date.years.min.range.abbr\'| translate:\'{min:18}\'}})</small>" label-direction="{{$mdMedia(\'xs\') ? \'top\' : \'left\'}}" label-class="md-body-1 text-gray-light flex-40" flexible="true" ng-model="$ctrl.data.people.adults" min="1" plus-disabled="$ctrl.data.plusDisabled" aria-label="Adults"></ch-counter></div><div layout layout-align="center center" class="md-margin"><ch-counter label="<div class=\'text-center\'>{{::(\'people.boys\'|translate)}}</div><small>({{\'date.years.range.abbr\'| translate:\'{min:13,max:17}\'}})</small>" label-direction="{{$mdMedia(\'xs\') ? \'top\' : \'left\'}}" label-class="md-body-1 text-gray-light flex-40" flexible="true" ng-model="$ctrl.data.people.boys" min="0" plus-disabled="$ctrl.data.plusDisabled" aria-label="Boys"></ch-counter></div><div layout layout-align="center center" class="md-margin"><ch-counter label="<div class=\' text-center\'>{{::(\'people.children\'|translate)}}</div><small>({{\'date.years.range.abbr\'| translate:\'{min:3,max:12}\'}})</small>" label-direction="{{$mdMedia(\'xs\') ? \'top\' : \'left\'}}" label-class="md-body-1 text-gray-light flex-40" flexible="true" ng-model="$ctrl.data.people.children" min="0" plus-disabled="$ctrl.data.plusDisabled" aria-label="Children"></ch-counter></div><div layout layout-align="center center" class="md-margin"><ch-counter label="<div class=\'text-center\'>{{::(\'people.kids\'|translate)}}</div><small>({{\'date.years.range.abbr\'| translate:\'{min:0,max:2}\'}})</small>" label-direction="{{$mdMedia(\'xs\') ? \'top\' : \'left\'}}" label-class="md-body-1 text-gray-light flex-40" flexible="true" ng-model="$ctrl.data.people.kids" min="0" plus-disabled="$ctrl.data.plusDisabled" aria-label="Kids"></ch-counter></div></div><div ng-if="$ctrl.hasConfirm" class="no-padding layout-row layout-align-center-center"><md-button class="no-margin-top no-margin-bottom md-raised" ng-click="$ctrl.cancel()" aria-label="Cancel"><small translate="common.cancel"></small></md-button><md-button class="md-primary md-raised no-margin-top no-margin-bottom" ng-click="$ctrl.confirm()" aria-label="Confirm"><small translate="common.confirm"></small></md-button></div><div layout ng-if="!$ctrl.hasConfirm && $ctrl.hasClose" class="no-padding"><div flex></div><md-button class="md-primary no-margin-top no-margin-bottom" ng-click="$ctrl.confirm()" aria-label="Close"><small translate="common.close"></small></md-button></div></div>'),t.put("/tpls/planning/planning-content-weekly.tpl",'<md-content id="planningCont" flex layout="column" layout-fill ng-switch="$ctrl.$$roomsType"><md-subheader class="no-padding bg-gray-lighter"><div layout flex><div hide show-gt-sm flex="25" layout layout-padding layout-align="center center" class="border-right-white"><strong class="text-uppercase text-gray-light"><span translate="room.room"></span></strong></div><div flex layout layout-padding-sm><div flex layout="column" class="border-right-white" ng-repeat="viewDate in $ctrl.$$viewDates track by viewDate.uid"><md-button tabindex="-1" ng-click="$ctrl.toggleAllRoomsClosing(viewDate.date)" ng-disabled="viewDate.isPast || viewDate.hotelStatus.hotelClosed" class="no-margin row-mini text-left" ng-class="{\'minimal-button\': !$ctrl.$mdMedia(\'gt-xs\'),\n\t\t\t\t\t\t\'text-gray-light\': !viewDate.hotelStatus.roomsClosed,\n\t\t\t\t\t\t\'bg-danger text-white\': viewDate.hotelStatus.roomsClosed}"><div layout="column" ng-class="{\'text-primary\': (viewDate.date|amDifference:$ctrl.$$today:\'days\') == 0}"><small class="text-capitalize">{{viewDate.date|date:"EEE"}}</small><strong ng-class="{\'md-display-1\': $ctrl.$mdMedia(\'gt-xs\'), \'md-title\': $ctrl.$mdMedia(\'xs\')}">{{viewDate.date|date:"d"}}</strong></div><md-tooltip><span ng-show="viewDate.hotelStatus.roomsClosed" translate="hotel.availability.open.day"></span><span ng-show="!viewDate.hotelStatus.roomsClosed" translate="hotel.availability.close.day"></span></md-tooltip></md-button></div></div></div></md-subheader><div ng-switch-when="2" flex layout="column" infinite-scroll="$ctrl.rooms.nextPage()" infinite-scroll-container="\'#planningCont\'" infinite-scroll-disabled="$ctrl.rooms.busy" infinite-scroll-distance="1"><ch-planning-room ng-repeat="room in $ctrl.rooms.items track by room.id" room="room" dates="$ctrl.$$viewDates" reservations="$ctrl.reservations[room.id]"></ch-planning-room><div flex ng-show="$ctrl.rooms.busy" flex layout="column" layout-padding layout-align="center center"><div><md-progress-circular class="md-primary ch-progress" md-mode="indeterminate" md-diameter="40"></md-progress-circular></div><div class="text-gray-light"><span translate="room.rooms.yours.loading"></span>...</div></div></div><div ng-switch-default flex layout="column"></div></md-content>'),t.put("/tpls/planning/planning-header.tpl",'<div class="ch-planning-header" ng-style="{\'background-image\': $ctrl.$$bgImage}"><div class="ch-planning-header-content bg-opaque-4" layout="column"><div flex layout layout-padding-sm><div flex><ch-month-picker ng-model="$ctrl.chPlanningCtrl.$$startDate" hide-icon="true" wrapper-class="text-white text-bold" icon-color-class="text-white" selected-text="$ctrl.$getMonthLabel()" ng-change="$ctrl.$onMonthChange()"></ch-month-picker></div><div><md-button class="md-icon-button" ng-click="$ctrl.$goToToday()" aria-label="Go to today"><md-icon class="mdi mdi-calendar-today md-24 text-white"></md-icon><md-tooltip><span translate="date.today.go.to"></span></md-tooltip></md-button></div><div><md-menu md-position-mode="target bottom"><md-button ng-class="{\'no-padding no-margin-x-sides minimal-button\': !$ctrl.$mdMedia(\'gt-sm\')}" ng-click="$mdMenu.open($event)" aria-label="Switch view"><span ng-switch="$ctrl.chPlanningCtrl.$$currentView" class="text-white text-bold"><span ng-switch-when="D" translate="date.day"></span><span ng-switch-when="W" translate="date.week"></span><span ng-switch-when="M" translate="date.month"></span></span><md-icon class="mdi mdi-menu-down md-24 text-white"></md-icon><md-tooltip><span translate="planning.view.change"></span></md-tooltip></md-button><md-menu-content><md-menu-item><md-button ng-click="$ctrl.$dailyView()" aria-label="Switch to daily view"><span translate="date.day"></span></md-button></md-menu-item><md-menu-item><md-button ng-click="$ctrl.$weeklyView()" aria-label="Switch to weekly view"><span translate="date.week"></span></md-button></md-menu-item><md-menu-item><md-button ng-click="$ctrl.$monthlyView()" aria-label="Switch to monthly view"><span translate="date.month"></span></md-button></md-menu-item></md-menu-content></md-menu></div><div><md-menu md-position-mode="target bottom"><md-button class="md-icon-button" ng-class="{\'no-margin-x-sides\': !$ctrl.$mdMedia(\'gt-sm\')}" ng-click="$mdMenu.open($event)" aria-label="Open planning menu"><md-icon class="mdi mdi-dots-vertical md-24 text-white"></md-icon></md-button><md-menu-content><md-menu-item><md-button ng-click="$ctrl.$openSettings()" aria-label="Open planning settings"><span translate="menu.settings"></span></md-button></md-menu-item></md-menu-content></md-menu></div></div><div layout><div><md-button ng-class="{\'no-margin-x-sides minimal-button\': !$ctrl.$mdMedia(\'gt-sm\')}" ng-click="$ctrl.$prevWeek()" aria-label="Go to previous week"><md-icon class="mdi mdi-chevron-left md-24 text-white"></md-icon><span hide-xs class="text-white text-bold" translate="date.week.previous"></span><span hide-gt-xs class="text-white text-bold" translate="common.previous"></span><md-tooltip hide show-xs show-sm><span class="text-uppercase" translate="date.week.previous"></span></md-tooltip></md-button></div><div flex></div><div><md-button ng-class="{\'no-margin-x-sides minimal-button\': !$ctrl.$mdMedia(\'gt-sm\')}" ng-click="$ctrl.$nextWeek()" aria-label="Go to next week"><span hide-xs class="text-white text-bold" translate="date.week.next"></span><span hide-gt-xs class="text-white text-bold" translate="common.next.female"></span><md-icon class="mdi mdi-chevron-right md-24 text-white"></md-icon><md-tooltip hide show-xs show-sm><span class="text-uppercase" translate="date.week.next"></span></md-tooltip></md-button></div></div></div></div>'),t.put("/tpls/planning/planning-room.tpl",'<div layout-gt-sm="row" layout-sm="column" layout-xs="column" class="ch-planning-row"><span ng-if="!$ctrl.room.enabled" class="locked-string bg-warn opaque text-uppercase"><span translate="common.disabled.female"></span></span><div flex-xs="100" flex-sm="100" flex-gt-sm="25" layout="column" layout-padding class="ch-planning-cell"><div flex layout="column" layout-padding-sm layout-align="center center" class="text-center"><strong class="text-primary text-uppercase text-center" ng-bind="$ctrl.room.name"></strong><md-truncate class="text-wrap"><small class="text-gray-light">(<span ng-repeat="roomType in $ctrl.room.types track by roomType.id"><span translate="{{roomType.roomType.nameKey}}"></span>&nbsp;<span class="text-uppercase" translate="room.category.{{roomType.category}}"></span><span ng-if="!$last">,&nbsp;</span></span>)</small></md-truncate></div></div><div flex layout><div flex layout="column" layout-padding class="ch-planning-cell" ng-repeat="viewDate in $ctrl.$$viewDates track by viewDate.uid"><div ng-repeat="reservation in viewDate.$reservations track by reservation.id" class="ch-planning-reservation" ng-style="{left: reservation.left + \'%\', width: reservation.width + \'%\'}"><div class="full-width bg-blue-sea">AAAAAAAA</div></div></div></div></div>'),t.put("/tpls/planning/planning.tpl",'<div flex layout="column" layout-fill ng-switch="$ctrl.$$currentView"><ch-planning-header></ch-planning-header><md-button class="md-fab md-primary md-fab-bottom-right am-fade-and-scale" ui-sref="hotel-reservations-new" aria-label="Add reservation"><md-icon class="mdi mdi-book-plus md-24"></md-icon><md-tooltip md-direction="left"><span translate-once="reservations.reservation.new"></span></md-tooltip></md-button><div ng-switch-when="D" flex layout="column"><div layout-fill ng-include="\'/tpls/planning/planning-content-daily.tpl\'" autoscroll></div></div><div ng-switch-when="W" flex layout="column"><div layout-fill ng-include="\'/tpls/planning/planning-content-weekly.tpl\'" autoscroll></div></div><div ng-switch-when="M" flex layout="column"><div layout-fill ng-include="\'/tpls/planning/planning-content-monthly.tpl\'" autoscroll></div></div></div>'),t.put("/tpls/rate-amount-input/rate-amount-input.tpl",'<ng-form name="chRateAmountInputForm" ng-class="{\'text-gray-light cursor-disabled\': $ctrl.ngDisabled}"><div class="no-padding-bottom no-padding-top row-mini layout-column layout-align-center-center"><span ng-if="$ctrl.promotion" ng-switch="$ctrl.promotion.promotionType"><span ng-switch-when="STANDARD" class="label label-xs bg-info"><ch-truncate text="{{$ctrl.promotion.name[$ctrl.$$currentLang.iso]}}" max-length="20" suffix="..."></ch-truncate>&nbsp;<span ng-if="$ctrl.promotion.discount.type==\'PERCENTAGE\'">-{{$ctrl.promotion.discount.finalAmount}}%</span><span ng-if="$ctrl.promotion.discount.type==\'PRICE\'">-{{$ctrl.promotion.discount.finalAmount|chCurrency}}</span></span><span ng-switch-when="MINIMUM_STAY" class="label label-xs bg-primary-light"><span translate="promotions.promotion.label.minstay.nights" translate-value-count="{{$ctrl.promotion.days}}"></span>&nbsp;<span ng-if="$ctrl.promotion.discount.type==\'PERCENTAGE\'">-{{$ctrl.promotion.discount.finalAmount}}%</span><span ng-if="$ctrl.promotion.discount.type==\'PRICE\'">-{{$ctrl.promotion.discount.finalAmount|chCurrency}}</span></span><span ng-switch-when="BOOK_TODAY" class="label label-xs bg-danger"><span translate-once="promotions.promotion.label.only.today"></span>!&nbsp;<span ng-if="$ctrl.promotion.discount.type==\'PERCENTAGE\'">-{{$ctrl.promotion.discount.finalAmount}}%</span><span ng-if="$ctrl.promotion.discount.type==\'PRICE\'">-{{$ctrl.promotion.discount.finalAmount|chCurrency}}</span></span><span ng-switch-when="EARLY_BOOKING" class="label label-xs bg-warn"><span translate-once="promotions.early"></span>&nbsp;<span ng-if="$ctrl.promotion.discount.type==\'PERCENTAGE\'">-{{$ctrl.promotion.discount.finalAmount}}%</span><span ng-if="$ctrl.promotion.discount.type==\'PRICE\'">-{{$ctrl.promotion.discount.finalAmount|chCurrency}}</span></span><span ng-switch-when="LAST_MINUTE" class="label label-xs bg-primary"><span translate-once="promotions.last.minute"></span>&nbsp;<span ng-if="$ctrl.promotion.discount.type==\'PERCENTAGE\'">-{{$ctrl.promotion.discount.finalAmount}}%</span><span ng-if="$ctrl.promotion.discount.type==\'PRICE\'">-{{$ctrl.promotion.discount.finalAmount|chCurrency}}</span></span><span ng-switch-when="LAST_SECOND" class="label label-xs bg-success"><span translate-once="promotions.last.second"></span>&nbsp;<span ng-if="$ctrl.promotion.discount.type==\'PERCENTAGE\'">-{{$ctrl.promotion.discount.finalAmount}}%</span><span ng-if="$ctrl.promotion.discount.type==\'PRICE\'">-{{$ctrl.promotion.discount.finalAmount|chCurrency}}</span></span></span><small class="text-gray-light" ng-if="!$ctrl.hideInitialValue"><span ng-if="$ctrl.ngModel.initialAmount > 0 && $ctrl.ngModel.initialAmount > $ctrl.ngModel.finalAmount"><i><del>{{($ctrl.ngModel.initialAmount|chCurrency)}}</del></i></span><span ng-if="!($ctrl.ngModel.initialAmount > 0 && $ctrl.ngModel.initialAmount > $ctrl.ngModel.finalAmount)"></span></small></div><div class="no-padding-top"><div ng-if="$ctrl.readOnlyView" class="text-center">{{$ctrl.ngModel.finalAmount|chCurrency}}</div><div ng-if="!$ctrl.readOnlyView"><div class="text-right" ng-if="$ctrl.showOriginalValue"><ch-original-value ng-model="$ctrl.ngModel.finalAmount" refer-to="$ctrl.ngModel.$originalValue.finalAmount" filter="chCurrency" label="{{$ctrl.originalValueLabel}}" css-class="{{$ctrl.originalValueClass}}"></ch-original-value></div><div class="layout-align-end-center layout-row row-mini"><md-input-container class="{{$ctrl.cssClass}}" ng-class="{\'md-icon-right\': !$ctrl.hideRefreshIcon && $ctrl.ngModel.finalAmount != $ctrl.ngModel.$originalValue.finalAmount}"><md-icon ng-if="!$ctrl.hideIcon && !$ctrl.ngDisabled" class="{{$ctrl.iconClass}}"></md-icon><input type="number" name="{{$ctrl.inputName}}" ng-model="$ctrl.ngModel.finalAmount" ng-min="$ctrl.ngMin" step="0.01" ng-max="$ctrl.max" ng-pattern="$ctrl.$$pattern" required ng-disabled="$ctrl.ngDisabled" aria-label="Edit amount" class="text-center"><md-icon ng-if="!$ctrl.hideRefreshIcon && !$ctrl.ngDisabled && $ctrl.ngModel.finalAmount != $ctrl.ngModel.$originalValue.finalAmount" class="{{$ctrl.refreshIconClass}} clickable" ng-click="$ctrl.$refreshPrice()" aria-label="reset price"><md-tooltip><span translate-once="common.restore"></span></md-tooltip></md-icon><div ng-messages="chRateAmountInputForm[$ctrl.inputName].$error"><span ng-message="required"><span translate-once="error.required"></span></span><span ng-message="min"><span translate="error.amount.min" translate-values="{num: ($ctrl.ngMin | chCurrency)}"></span></span><span ng-message="max"><span translate="error.amount.max" translate-values="{num: ($ctrl.max | chCurrency)}"></span></span><span ng-message="$$pattern"><span translate-once="error.field.generic.invalid"></span></span><span ng-if="errorMessages" ng-repeat="error in $ctrl.errorMessages" ng-message="error.key"><span translate="error.label"></span></span></div></md-input-container></div></div></div></ng-form>'),t.put("/tpls/ratesheet/ratesheet-availability.tpl",'<div flex layout="column"><div ng-if="$ctrl.availability.hotelClosed" layout layout-align="center center" flex><md-button class="md-icon-button no-margin no-padding auto-height cursor-help" tabindex="-1" aria-label="Availability"><md-icon class="mdi mdi-lock md-18"></md-icon><md-tooltip><span translate="hotel.closed"></span></md-tooltip></md-button></div><div ng-if="!$ctrl.availability.hotelClosed" flex layout="column"><md-button ng-disabled="$ctrl.availability.pastDate" tabindex="-1" aria-label="Availability" ng-click="$ctrl.$click($event)" class="no-margin row-1 forced" ng-class="{\'minimal-button\': !$ctrl.$mdMedia(\'gt-xs\'),\n\t\t\t\t\'bg-success\': $ctrl.availability.counter.actual > 0 && !$ctrl.availability.hotelClosed && !$ctrl.availability.roomClosed, \n\t\t\t\t\'bg-danger\': $ctrl.availability.roomClosed, \n\t\t\t\t\'bg-warn\': $ctrl.availability.counter.actual <= 0 && !$ctrl.availability.hotelClosed && !$ctrl.availability.roomClosed}"><div layout layout-wrap layout-align="center center" class="md-margin" ng-class="{\'text-small\': $ctrl.$mdMedia(\'xs\')}"><div ng-if="$ctrl.availability.counter.actual > 0"><strong>{{$ctrl.availability.counter.actual}}</strong><small>/{{$ctrl.availability.counter.total}}</small></div><div ng-if="$ctrl.availability.counter.actual <= 0"><md-icon class="mdi mdi-calendar-remove md-18 text-white"></md-icon></div></div><md-tooltip><div ng-if="$ctrl.availability.counter.actual > 0"><span ng-if="!$ctrl.availability.pastDate" translate="ratesheet.availability.edit">Edit availability</span><span ng-if="$ctrl.availability.pastDate && $ctrl.availability.counter.actual == 1" translate="ratesheet.availability.rooms.one"></span><span ng-if="$ctrl.availability.pastDate && $ctrl.availability.counter.actual > 1" translate="ratesheet.availability.rooms" translate-values="{count: $ctrl.availability.counter.actual}"></span></div><div ng-if="$ctrl.availability.counter.actual <= 0"><span translate="hotel.availability.none"></span></div></md-tooltip></md-button></div></div>'),t.put("/tpls/ratesheet/ratesheet-header.tpl",'<div flex layout="column"><div ng-if="$ctrl.header.hotelClosed" layout layout-align="center center" flex><md-button class="md-icon-button no-margin no-padding auto-height cursor-help" tabindex="-1" aria-label="Availability"><md-icon class="mdi mdi-lock md-18"></md-icon><md-tooltip><span translate="hotel.closed"></span></md-tooltip></md-button></div><div ng-if="!$ctrl.header.hotelClosed" flex layout="column"><md-button ng-disabled="$ctrl.header.pastDate || $ctrl.header.availability.actual <= 0" ng-click="$ctrl.$toggleRoomTypeClosing($event)" aria-label="Enable/Disable all room rates" tabindex="-1" class="no-margin row-1 forced" ng-class="{\'minimal-button\': !$ctrl.$mdMedia(\'gt-xs\'), \n\t\t\t\t\'bg-success\': !$ctrl.header.roomClosed && $ctrl.header.availability.actual > 0, \n\t\t\t\t\'bg-danger\': $ctrl.header.roomClosed, \n\t\t\t\t\'bg-warn\': !$ctrl.header.roomClosed && $ctrl.header.availability.actual <= 0}"><div class="text-small" ng-if="$ctrl.header.roomClosed"><strong hide-xs translate="common.closed.female"></strong><span hide show-xs><md-icon class="mdi mdi-lock md-24 text-white"></md-icon></span></div><div class="text-small" ng-if="!$ctrl.header.roomClosed"><strong><span ng-if="$ctrl.header.availability.actual > 0"><span hide-xs translate="ratesheet.available"></span><span hide show-xs><md-icon class="mdi mdi-lock-open md-24 text-white"></md-icon></span></span><span ng-if="$ctrl.header.availability.actual <= 0"><span hide-xs translate="hotel.availability.none.abbr"></span><span hide show-xs><md-icon class="mdi mdi-close md-24 text-white"></md-icon></span></span></strong></div><md-tooltip><span ng-if="$ctrl.header.roomClosed" translate="ratesheet.rate.room.open"></span><span ng-if="!$ctrl.header.roomClosed && $ctrl.header.availability.actual > 0" translate="ratesheet.rate.room.close"></span><span ng-if="!$ctrl.header.roomClosed && $ctrl.header.availability.actual <= 0" translate="hotel.availability.none"></span></md-tooltip></md-button></div></div>'),t.put("/tpls/ratesheet/ratesheet-promotion-edit.tpl",'<ng-form name="chRatesheetPromotionForm" flex layout="column"><div ng-if="$ctrl.promotion.hotelClosed" layout layout-align="center center" flex><md-button aria-label="Closed" class="md-icon-button no-margin no-padding auto-height cursor-help" tabindex="-1"><md-icon class="mdi mdi-lock md-18"></md-icon><md-tooltip><span translate="hotel.closed"></span></md-tooltip></md-button></div><div ng-if="!$ctrl.promotion.valid && !$ctrl.promotion.hotelClosed" layout layout-align="center center" flex><md-icon class="mdi mdi-block-helper md-18"></md-icon></div><div ng-if="$ctrl.promotion.valid && !$ctrl.promotion.hotelClosed"><div ng-switch="$ctrl.type" layout="column" layout-align="center center"><div ng-switch-when="MINIMUM_STAY"><md-input-container flex class="no-margin-bottom minimal-input"><label><span translate="common.nights"></span></label><input value="{{$ctrl.promotion.minStay}}" class="text-center" disabled="disabled" readonly="readonly"></md-input-container></div><div ng-switch-default><md-input-container flex class="no-margin-bottom minimal-input"><label><span translate="common.nights"></span></label><input type="number" class="text-center" name="minStay" ng-model="$ctrl.promotion.minStay" ng-disabled="$ctrl.promotion.pastDate || $ctrl.promotion.roomClosed || !$ctrl.promotion.enabled" min="0" step="1" ng-blur="$ctrl.$saveMinStay()" tabindex="2"><div ng-messages="chRatesheetPromotionForm.minStay.$error"><div ng-message="min"><span translate="error.field.min" translate-values="{num: 1}"></span></div></div></md-input-container></div></div></div></ng-form>'),t.put("/tpls/ratesheet/ratesheet-promotion.tpl",'<div flex layout="column"><div ng-if="$ctrl.promotion.hotelClosed" layout layout-align="center center" flex><md-button aria-label="Closed" class="md-icon-button no-margin no-padding auto-height cursor-help" tabindex="-1"><md-icon class="mdi mdi-lock md-18"></md-icon><md-tooltip><span translate="hotel.closed"></span></md-tooltip></md-button></div><div ng-if="!$ctrl.promotion.valid && !$ctrl.promotion.hotelClosed" layout layout-align="center center" flex><md-icon class="mdi mdi-block-helper md-18"></md-icon></div><div ng-if="$ctrl.promotion.valid && !$ctrl.promotion.hotelClosed"><div layout="column" flex><md-button ng-disabled="$ctrl.promotion.pastDate || $ctrl.promotion.availability.actual <= 0 || $ctrl.promotion.roomClosed" ng-click="$ctrl.$toggleClosing()" aria-label="Enable/Disable promotion" class="no-margin forced" ng-class="{\'minimal-button\': !$ctrl.$mdMedia(\'gt-xs\'), \n\t\t\t\t\t\'bg-success\': !$ctrl.promotion.roomClosed && $ctrl.promotion.enabled && $ctrl.promotion.availability.actual > 0,\n\t\t\t\t\t\'bg-warn\': !$ctrl.promotion.roomClosed && $ctrl.promotion.enabled && $ctrl.promotion.availability.actual <= 0,\n\t\t\t\t\t\'bg-danger\': $ctrl.promotion.roomClosed || !$ctrl.promotion.enabled}" tabindex="-1"><div ng-show="!$ctrl.promotion.roomClosed" flex layout layout-xs="column" layout-align="center center"><small ng-show="$ctrl.promotion.minStay > 1"><md-icon class="mdi mdi-calendar-today md-14 text-white"></md-icon></small></div><md-tooltip><span ng-if="$ctrl.promotion.roomClosed || !$ctrl.promotion.enabled"><span ng-if="$ctrl.promotion.availability.actual > 0" translate="ratesheet.promos.promo.enable"></span><span ng-if="$ctrl.promotion.availability.actual <= 0" translate="hotel.availability.none.abbr"></span></span><span ng-if="!$ctrl.promotion.roomClosed && $ctrl.promotion.enabled" translate="ratesheet.promos.promo.disable"></span></md-tooltip></md-button></div></div></div>'),t.put("/tpls/ratesheet/ratesheet-rate-edit-amount.tpl",'<ng-form name="chRatesheetRateDataForm" flex layout="column"><md-input-container class="no-margin minimal-input no-padding-left text-center"><label><span ng-if="$ctrl.label" ng-bind="$ctrl.label"></span><span ng-if="!$ctrl.label" translate="common.price"></span></label><md-icon ng-if="$ctrl.errorIcon" ng-show="!$ctrl.rate.amount.finalAmount" class="material-icons {{$ctrl.errorIcon}}" ng-class="$ctrl.$mdMedia(\'gt-xs\') ? \'md-24\' : \'md-18\'"></md-icon><input type="number" name="amount" ng-model="$ctrl.rate.amount.finalAmount" ng-model-options="{updateOn: $ctrl.updateOn}" ng-disabled="$ctrl.ngDisabled" min="0.01" step="0.01" aria-label="{{$ctrl.type}} Rate" ng-pattern="$ctrl.REGEXP.price" ng-required="$ctrl.ngRequired" ng-change="$ctrl.$onChange()" ng-class="$ctrl.errorBg && !$ctrl.rate.amount.finalAmount ? $ctrl.errorBg : \'\'"><div ng-messages="chRatesheetRateDataForm.amount.$error"><div ng-repeat="errorObj in $ctrl.errorMessages" ng-message="{{errorObj.error}}"><span ng-if="errorObj.message" ng-bind="{{errorObj.message}}"></span><span ng-if="!errorObj.message && errorObj.messageKey" translate="{{errorObj.messageKey}}" translate-values="errorObj.messageKeyParams"></span></div></div></md-input-container></ng-form>'),t.put("/tpls/ratesheet/ratesheet-rate-edit.tpl",'<ng-form name="chRatesheetRateForm" flex layout="column"><div ng-if="$ctrl.rate.hotelClosed" layout layout-align="center center" flex><md-button aria-label="Closed" class="md-icon-button no-margin no-padding auto-height cursor-help" tabindex="-1"><md-icon class="mdi mdi-lock md-18"></md-icon><md-tooltip><span translate="hotel.closed"></span></md-tooltip></md-button></div><div ng-if="!$ctrl.rate.hotelClosed"><div layout="column" layout-align="center center"><div ng-if="!$ctrl.hideRate"><ch-ratesheet-rate-edit-amount rate="$ctrl.rate[$ctrl.$$rateDataKey]" type="{{$ctrl.type}}" ng-required="true" ng-disabled="$ctrl.rate.pastDate || $ctrl.rate.roomClosed || !$ctrl.rate[$ctrl.$$rateDataKey].enabled" validate-on-init="true" update-on="blur" on-change="$ctrl.$saveRate()"></ch-ratesheet-rate-edit-amount></div><div ng-if="!$ctrl.hideRestrictions"><md-input-container class="minimal-input"><label flex><span translate="common.nights"></span></label><input type="number" class="text-center" name="minStay" ng-model="$ctrl.rate[$ctrl.$$rateDataKey].minStay" ng-disabled="$ctrl.rate.pastDate || $ctrl.rate.roomClosed || !$ctrl.rate[$ctrl.$$rateDataKey].enabled" min="1" step="1" ng-blur="$ctrl.$saveMinStay()" tabindex="2"><div ng-messages="chRatesheetRateForm.minStay.$error"><div ng-message="min"><span translate="error.field.min" translate-values="{num: 1}"></span></div></div></md-input-container></div></div></div></ng-form>'),t.put("/tpls/ratesheet/ratesheet-rate.tpl",'<div flex layout="column"><div ng-if="$ctrl.rate.hotelClosed" layout layout-align="center center" flex><md-button aria-label="Closed" class="md-icon-button no-margin no-padding auto-height cursor-help" tabindex="-1"><md-icon class="mdi mdi-lock md-18"></md-icon><md-tooltip><span translate="hotel.closed"></span></md-tooltip></md-button></div><div ng-if="!$ctrl.rate.hotelClosed"><div layout="column" flex><md-button ng-disabled="$ctrl.rate.pastDate || $ctrl.rate.availability.actual <= 0" ng-click="$ctrl.$toggleRateClosing($event)" aria-label="Enable/Disable rate" class="no-margin button-label forced" ng-class="{\'minimal-button\': !$ctrl.$mdMedia(\'gt-xs\'), \n\t\t\t\t\t\'bg-success\': !$ctrl.rate.roomClosed && $ctrl.rate[$ctrl.$$rateDataKey].enabled && $ctrl.rate[$ctrl.$$rateDataKey].amount.finalAmount && $ctrl.rate.availability.actual > 0, \n\t\t\t\t\t\'bg-warn\': !$ctrl.rate.roomClosed && $ctrl.rate[$ctrl.$$rateDataKey].enabled && (!$ctrl.rate[$ctrl.$$rateDataKey].amount.finalAmount || $ctrl.rate.availability.actual <= 0),\n\t\t\t\t\t\'bg-danger\': $ctrl.rate.roomClosed || !$ctrl.rate[$ctrl.$$rateDataKey].enabled}" tabindex="-1"><div ng-show="!$ctrl.rate.roomClosed && $ctrl.rate[$ctrl.$$rateDataKey].enabled" flex layout layout-xs="column" layout-align="center center"><div flex ng-show="$ctrl.rate[$ctrl.$$rateDataKey].amount.finalAmount"><span ng-class="{\'text-small\': $ctrl.$mdMedia(\'xs\')}">{{$ctrl.rate[$ctrl.$$rateDataKey].amount.finalAmount|currency:\'\'}}</span></div><div ng-if="!$ctrl.rate[$ctrl.$$rateDataKey].amount.finalAmount"><md-icon class="mdi mdi-currency-usd-off text-white md-24"></md-icon></div><small ng-show="$ctrl.rate[$ctrl.$$rateDataKey].amount.finalAmount && $ctrl.rate[$ctrl.$$rateDataKey].minStay > 1"><md-icon class="mdi mdi-calendar-plus md-14 text-white"></md-icon><md-tooltip><span translate="ratesheet.rate.minstay" translate-value-count="{{$ctrl.rate[$ctrl.$$rateDataKey].minStay}}"></span></md-tooltip></small></div><md-tooltip><div ng-if="!$ctrl.rate[$ctrl.$$rateDataKey].amount.finalAmount"><span translate="ratesheet.rates.none"></span></div><div ng-if="!$ctrl.rate.pastDate"><div ng-if="$ctrl.rate.roomClosed || !$ctrl.rate[$ctrl.$$rateDataKey].enabled"><span translate="ratesheet.rate.enable"></span></div><div ng-if="!$ctrl.rate.roomClosed && $ctrl.rate[$ctrl.$$rateDataKey].enabled"><span ng-if="$ctrl.rate.availability.actual > 0" translate="ratesheet.rate.disable"></span><span ng-if="$ctrl.rate.availability.actual <= 0" translate="hotel.availability.none"></span></div></div></md-tooltip></md-button></div></div></div>'),t.put("/tpls/rich-editor/rich-editor.tpl",'<ng-form name="chRichEditorForm" class="display-block no-padding-left no-padding-bottom no-padding-right"><ng-quill-editor name="chRichEditorText" ng-model="$ctrl.ngModel" max-length="$ctrl.maxLength" min-length="$ctrl.minLength" modules="$ctrl.modules" read-only="$ctrl.ngDisabled" placeholder="{{$ctrl.placeholder}}" ng-required="$ctrl.ngRequired" on-editor-created="$ctrl.onEditorCreated(editor)" on-selection-changed="$ctrl.onSelectionChanged(editor, range, oldRange, source)" on-content-changed="$ctrl.onEditorChanged(editor, html, text, delta, oldDelta, source)"></ng-quill-editor><div ng-if="!$ctrl.hideCharsCounter || !$ctrl.hideWordsCounter" ng-show="$ctrl.counter.chars" class="layout-padding-md no-padding-bottom text-right text-small" ng-class="{\'text-danger\': ($ctrl.maxLength && $ctrl.counter.chars > $ctrl.maxLength) || ($ctrl.minLength && $ctrl.counter.chars < $ctrl.minLength)}"><div class="no-padding"><span ng-if="!$ctrl.hideCharsCounter"><span translate-once="common.chars"></span>:&nbsp;<strong><span ng-bind="$ctrl.counter.chars"></span><span ng-if="$ctrl.maxLength">/<span ng-bind="$ctrl.maxLength"></span></span></strong></span><span ng-if="!$ctrl.hideWordsCounter" ng-show="$ctrl.counter.words"><span ng-if="!$ctrl.hideCharsCounter">&nbsp;-&nbsp;</span><span translate-once="common.words"></span>:&nbsp;<strong><span ng-bind="$ctrl.counter.words"></span></strong></span></div></div><div ng-messages="chRichEditorForm.chRichEditorText.$error" class="ch-messages-animation"><div ng-message="required" class="ch-message-animation"><span translate-once="error.required"></span></div><div ng-message="maxlength" class="ch-message-animation"><span translate="error.field.generic.maxlength" translate-values="{count: $ctrl.maxLength}"></span></div><div ng-message="minlength" class="ch-message-animation"><span translate="error.field.generic.minlength" translate-values="{count: $ctrl.minLength}"></span></div></div></ng-form>'),t.put("/tpls/room-edit/room-edit-beds.tpl",'<div><div ng-if="!$ctrl.$$showDetails"><div ng-if="!$ctrl.beds.length"><span class="text-italic" translate="bed.beds.no.selection"></span><md-button class="only-border border-blue-sea text-blue-sea" ng-click="$ctrl.$toggleDetails(true)" aria-label="Show available beds"><md-icon class="mdi mdi-plus md-18 text-blue-sea"></md-icon><small translate="common.add.now"></small></md-button></div><md-list ng-if="$ctrl.beds.length"><md-list-item class="layout-row layout-wrap layout-padding-sm layout-align-center-center no-padding-top no-padding-right" ng-class="{\'no-padding-left\': !$ctrl.$mdMedia(\'gt-sm\')}" ng-repeat="bedSold in $ctrl.beds"><div class="flex"><strong ng-click="$ctrl.$showBedInfo($event, bedSold)" aria-label="Bed info" class="clickable"><span translate="bed.bed"></span>&nbsp;<span translate="bed.{{bedSold.bed.type}}"></span>&nbsp;<md-icon class="mdi mdi-information-outline md-14"></md-icon></strong><div class="text-gray-light text-small"><span translate="bed.{{bedSold.bed.type}}.description"></span></div><div class="text-gray-light text-small"><ch-people-summary people="bedSold.people"></ch-people-summary></div><div ng-if="bedSold.amount" class="md-subhead"><span ng-if="bedSold.amount.finalAmount > 0">{{bedSold.amount.finalAmount|chCurrency}}</span><span ng-if="bedSold.amount.finalAmount == 0" class="text-success"><span translate="common.free"></span></span></div></div><div class="no-padding-right" ng-if="!$ctrl.minCount || $ctrl.$$availableBeds.length > $ctrl.minCount"><md-button class="button-small no-margin text-small text-blue-sea" ng-click="$ctrl.$toggleDetails(true)" aria-label="Edit beds"><md-icon class="mdi mdi-pencil md-18 text-blue-sea"></md-icon><span translate="common.edit"></span></md-button></div><div ng-if="!$last" class="no-margin no-padding"><md-divider></md-divider></div></md-list-item><md-list-item class="layout-row layout-wrap layout-align-center-center am-fade-and-slide-right" ng-class="{\'no-padding-left\': !$ctrl.$mdMedia(\'gt-sm\')}" ng-if="$ctrl.$$errors.min" ng-switch on="$ctrl.minCount - $ctrl.beds.length"><div flex class="layout-row layout-align-start-center"><span ng-switch-when="1" translate="error.beds.left.one"></span><span ng-switch-default translate="error.beds.left" translate-values="{num: $ctrl.minCount - $ctrl.beds.length}"></span></div><div class="layout-row layout-align-end-center"><md-button class="button-small bg-danger" aria-label="Select beds" ng-click="$ctrl.$toggleDetails(true)"><small translate="common.select.now"></small></md-button></div></md-list-item></md-list></div><div class="md-margin no-margin-x-sides no-margin-top" ng-if="$ctrl.$$showDetails"><div ng-if="!$ctrl.$$availableBeds.length"><span class="text-italic" translate="bed.beds.none.alt"></span></div><div ng-if="$ctrl.$$availableBeds.length"><md-list><md-list-item class="am-fade-and-slide-right no-padding-top no-padding-right" ng-class="{\'no-padding-left\': !$ctrl.$mdMedia(\'gt-sm\'), \'no-padding\': bed.$$editing}" ng-repeat="bed in $ctrl.$$availableBeds track by $index"><div flex><div ng-if="!bed.$$editing" layout layout-wrap layout-padding-sm layout-align="center center"><div class="flex flex-order-xs-1 flex-order-sm-1" ng-if="bed.$$available"><strong ng-click="$ctrl.$showBedInfo($event, bed)" aria-label="Bed info" class="clickable"><span translate="bed.bed"></span>&nbsp;<span translate="bed.{{bed.type}}"></span>&nbsp;<md-icon class="mdi mdi-information-outline md-14"></md-icon></strong><div class="text-gray-light text-small"><span translate="bed.{{bed.type}}.description"></span></div><div class="text-small text-lowercase"><span ng-if="bed.adultsPrice"><span>{{bed.adultsPrice|chCurrency}}&nbsp;</span><span translate="people.adult"></span><span ng-if="bed.boysPrice">,&nbsp;</span></span><span ng-if="bed.boysPrice"><span>{{bed.boysPrice|chCurrency}}&nbsp;</span><span translate="people.boy"></span><span ng-if="bed.childrenPrice">,&nbsp;</span></span><span ng-if="bed.childrenPrice"><span>{{bed.childrenPrice|chCurrency}}&nbsp;</span><span translate="people.child"></span><span ng-if="bed.kidsPrice">,&nbsp;</span></span><span ng-if="bed.kidsPrice"><span>{{bed.kidsPrice|chCurrency}}&nbsp;</span><span translate="people.kid"></span></span></div><div class="text-gray-light text-small"><span><span translate="common.for"></span>&nbsp;{{bed.maxPerson}}&nbsp;</span><span ng-if="bed.maxPerson == 1" class="text-lowercase" translate="people.person"></span><span ng-if="bed.maxPerson > 1" class="text-lowercase" translate="people.people"></span></div><div class="text-gray-light text-small"><em ng-if="bed.frequency == \'LUMP_SUM\'"><span translate="bed.price.question.info"></span><span class="text-lowercase" translate="common.entire.stay"></span></em><em ng-if="bed.frequency == \'DAILY\'" translate="bed.price.question.info.and.night"></em></div><div class="text-info" ng-if="bed.$$available && bed.$$blocked"><small translate="bed.remove.to.add.other"></small></div></div><div class="flex flex-order-xs-1 flex-order-sm-1" ng-if="!bed.$$available"><strong ng-click="$ctrl.$showBedInfo($event, bed)" aria-label="Bed info" class="clickable"><span translate="bed.bed"></span><span translate="bed.{{bed.bed.type}}"></span>&nbsp;<md-icon class="mdi mdi-information-outline md-14"></md-icon></strong><div class="text-gray-light text-small"><span translate="bed.{{bed.bed.type}}.description"></span></div><div class="text-gray-light text-small"><ch-people-summary people="bed.people"></ch-people-summary></div><div ng-if="bed.amount" class="md-subhead"><span ng-if="bed.amount.finalAmount > 0">{{bed.amount.finalAmount|chCurrency}}</span><span ng-if="bed.amount.finalAmount == 0" class="text-success"><span translate="common.free"></span></span></div></div><div class="layout-column layout-align-end-center flex-order-xs-2 flex-order-sm-2" ng-class="{\'text-center\': !$ctrl.$mdMedia(\'gt-sm\')}" ng-if="!bed.$$available"><div class="text-center"><md-icon class="mdi mdi-checkbox-marked-circle-outline text-success md-18"></md-icon>&nbsp;<small class="text-success" translate="common.booked.male"></small></div><md-button ng-if="$ctrl.configBed" hide show-gt-sm class="button-small text-blue-sea text-small" ng-class="$ctrl.$mdMedia(\'gt-sm\') ? \'auto-height row-1\' : \'only-border border-blue-sea\'" ng-click="$ctrl.$editBed(bed)" ng-disabled="$ctrl.$$editingBed" aria-label="Edit bed"><md-icon class="mdi mdi-pencil md-18 text-blue-sea"></md-icon><span translate="common.edit"></span></md-button></div><div class="no-padding-right flex-order-xs-3 flex-order-sm-3" ng-class="{\'flex-100 layout-column text-center\': !$ctrl.$mdMedia(\'gt-sm\')}" ng-if="bed.$$available && !$ctrl.$$editingBed"><md-button class="button-small only-border" aria-label="Select bed" ng-click="$ctrl.$selectBed(bed)" ng-disabled="bed.$$blocked" ng-class="{\'border-success text-success\': !bed.$$blocked}"><md-icon class="mdi mdi-plus md-18 text-white" ng-class="{\'text-success\': !bed.$$blocked}"></md-icon><small translate="common.select"></small></md-button></div><div class="no-padding-right flex-order-xs-3 flex-order-sm-3" ng-class="$ctrl.$mdMedia(\'gt-sm\') ? \'layout-row layout-align-end-center\' : \'flex-100 layout-column\'" ng-if="!bed.$$available"><md-button ng-if="$ctrl.configBed" hide-gt-sm class="button-small text-blue-sea text-small" ng-class="$ctrl.$mdMedia(\'gt-sm\') ? \'auto-height row-1\' : \'only-border border-blue-sea\'" ng-click="$ctrl.$editBed(bed)" ng-disabled="$ctrl.$$editingBed" aria-label="Edit bed"><md-icon class="mdi mdi-pencil md-18 text-blue-sea"></md-icon><span translate="common.edit"></span></md-button><md-button class="text-small" ng-class="{\'no-margin md-icon-button\': $ctrl.$mdMedia(\'gt-sm\')}" ng-click="$ctrl.$removeBed(bed)" ng-disabled="$ctrl.beds.length <= $ctrl.minCount || $ctrl.$$editingBed" aria-label="Remove bed"><md-icon class="mdi mdi-close md-18"></md-icon><span hide-gt-sm translate="common.remove"></span><md-tooltip hide show-gt-sm><span translate="common.remove"></span></md-tooltip></md-button></div></div><div ng-if="bed.$$editing && $ctrl.$$editingBed"><ch-bed-sold-edit class="md-whiteframe-z2 md-margin layout-column layout-padding-sm" bed-sold="$ctrl.$$editingBed" nights="$ctrl.nights" people-limits="$ctrl.$$peopleLimits" people-age-ranges="$ctrl.peopleAgeRanges" on-confirm="$ctrl.$confirmBedEdit($bedSold)" on-cancel="$ctrl.$cancelBedEdit($bedSold)"></ch-bed-sold-edit></div></div><div ng-if="!$last" class="no-margin no-padding"><md-divider></md-divider></div></md-list-item></md-list></div><div ng-if="!$ctrl.$$editingBed" ng-class="{\'layout-column layout-align-center-center\': !$ctrl.$mdMedia(\'gt-sm\'), \'layout-row\': $ctrl.$mdMedia(\'gt-sm\')}"><div flex class="text-danger layout-row layout-align-start-center" ng-if="$ctrl.$$availableBeds.length && $ctrl.$$errors.min" ng-switch on="$ctrl.minCount - $ctrl.beds.length"><span ng-switch-when="1" translate="error.beds.left.one"></span><span ng-switch-default translate="error.beds.left" translate-values="{num: $ctrl.minCount - $ctrl.beds.length}"></span></div><div flex class="layout-row layout-align-end-center"><md-button ng-class="{\'md-raised\': $ctrl.beds.length, \'bg-success\': !$ctrl.$$errors.min && !$ctrl.$$errors.max && $ctrl.beds.length, \'text-blue-sea\': !$ctrl.beds.length}" ng-disabled="$ctrl.$$errors.min || $ctrl.$$errors.max" ng-click="$ctrl.$confirm()" aria-label="Confirm beds"><md-icon ng-show="$ctrl.beds.length" class="mdi mdi-check md-24" ng-class="{\'text-white\': !$ctrl.$$errors.min && !$ctrl.$$errors.max}"></md-icon><md-icon ng-show="!$ctrl.beds.length" class="mdi mdi-chevron-up md-24 text-blue-sea"></md-icon><span ng-show="$ctrl.beds.length" translate="common.confirm"></span><span ng-show="!$ctrl.beds.length" translate="common.hide"></span></md-button></div></div></div></div>'),t.put("/tpls/room-edit/room-edit-identity-documents.tpl",'<div><md-list><md-list-item ng-repeat="document in $ctrl.identityDocuments track by $index" class="am-fade-and-slide-right"><div flex layout="column"><div layout layout-wrap layout-align="start center"><div ng-switch="document.guestType"><md-icon ng-switch-when="GROUP_LEADER" class="mdi mdi-google-circles md-18 circle-icon bg-success text-white"></md-icon><md-icon ng-switch-when="HOUSEHOLDER" class="mdi mdi-account-multiple md-18 circle-icon bg-success text-white"></md-icon><md-icon ng-switch-default class="mdi md-18 circle-icon bg-gray-lighter text-gray-light" ng-class="document.name && document.surname ? \'mdi-account\': \'mdi-account-alert\'"></md-icon></div><div><strong><span translate="guest.guest"></span>&nbsp;{{$index+1}}:&nbsp;</strong></div><div flex ng-if="!document.$$editing" class="md-padding" ng-class="{\'flex\': $ctrl.$mdMedia(\'gt-sm\'), \'text-center\': !$ctrl.$mdMedia(\'gt-sm\')}"><span ng-if="document.name && document.surname"><span class="text-capitalize">{{document.name}}&nbsp;{{document.surname}}</span>&nbsp;<span ng-if="document.birthDate">-&nbsp;{{document.birthDate|date:"shortDate"}}&nbsp;</span><span ng-class="document.guestType == \'GROUP_LEADER\' || document.guestType == \'HOUSEHOLDER\'? \'label label-xs bg-success\' : \'label label-xs bg-gray-light\'"><span ng-if="document.guestType == \'GROUP_LEADER\'" translate="common.GROUP_LEADER"></span><span ng-if="document.guestType == \'HOUSEHOLDER\'" translate="common.HOUSEHOLDER"></span><span ng-if="document.guestType == \'SINGLE_GUEST\'" translate="common.SINGLE_GUEST"></span><span ng-if="document.guestType == \'GROUP_MEMBER\'" translate="common.GROUP_MEMBER"></span><span ng-if="document.guestType == \'FAMILY_MEMBER\'" translate="common.FAMILY_MEMBER"></span></span></span><span ng-if="!document.name || !document.surname" class="text-gray-light"><span translate="reservation.text.identityDocuments.no.guest"></span>.&nbsp;<span translate="reservation.text.identityDocuments.add.question"></span></span></div><div ng-if="!document.$$editing" ng-class="{\'flex-100 layout-column\': !$ctrl.$mdMedia(\'gt-sm\')}"><md-button ng-class="document.name && document.surname ? \'text-blue-sea\' : \'only-border border-success text-success\'" class="button-small" ng-disabled="$ctrl.$$editingDocument" ng-click="$ctrl.$editDocument(document)" aria-label="{{document.name && document.surname ? \'Edit\' : \'Add\'}} document"><span ng-if="document.name && document.surname"><span class="mdi mdi-pencil md-24" ng-class="{\'text-blue-sea\': !$ctrl.$$editingDocument}"></span><small translate="common.edit"></small></span><span ng-if="!document.name || !document.surname"><span class="mdi mdi-plus md-24"></span><small translate="common.add"></small></span></md-button><md-button ng-if="document.name && document.surname" class="md-icon-button no-margin" ng-disabled="$ctrl.$$editingDocument" ng-click="$ctrl.$removeDocument(document)" aria-label="Remove document"><md-icon class="mdi mdi-close md-18"></md-icon><md-tooltip><span translate="common.remove"></span></md-tooltip></md-button></div></div><div flex ng-if="document.$$editing && $ctrl.$$editingDocument"><div><ch-identity-document-edit class="md-whiteframe-z2 md-margin layout-column layout-padding-sm" identity-document="$ctrl.$$editingDocument" on-confirm="$ctrl.$confirmDocumentEdit($document)" on-cancel="$ctrl.$cancelDocumentEdit($document)"></ch-identity-document-edit></div></div></div><md-divider class="no-padding" ng-if="!document.$$editing && !$last"></md-divider></md-list-item></md-list></div>'),t.put("/tpls/room-edit/room-edit-people.tpl",'<div><md-list ng-show="!$ctrl.$$showDetails"><md-list-item ng-if="$ctrl.maxCount > 1" class="layout-row layout-wrap layout-padding layout-align-center-center no-padding-top no-padding-bottom no-padding-right"><div flex><ch-people-summary people="$ctrl.people"></ch-people-summary></div><div class="no-padding-right"><md-button class="button-small no-margin text-blue-sea" ng-click="$ctrl.$toggleDetails(true)" aria-label="Edit guests"><small><md-icon class="mdi mdi-pencil md-18 text-blue-sea"></md-icon><span translate="common.edit"></span></small></md-button></div></md-list-item><md-list-item ng-if="$ctrl.maxCount == 1" class="layout-row layout-wrap layout-padding layout-align-center-center no-padding-top no-padding-bottom no-padding-right"><div class="flex"><span><span translate="people.people.only.inroom"></span>&nbsp;</span><ch-people-summary people="$ctrl.people"></ch-people-summary></div></md-list-item></md-list><div class="layout-column" ng-class="{\'layout-align-center-center\': !$mdMedia(\'gt-sm\')}" ng-show="$ctrl.$$showDetails"><div><ch-people-counters ng-model="$ctrl.people" max-people="$ctrl.maxPeople" min="1" max="$ctrl.maxCount" limits="$ctrl.limits" age-ranges="$ctrl.ageRanges" on-change="$ctrl.$onPeopleChange($people)"></ch-people-counters></div><div ng-if="$ctrl.$$guestsCount.standard >= $ctrl.maxCount" class="md-padding no-padding-bottom no-padding-top"><span class="bg-info label label-inline-block text-wrap text-center" translate="people.max.room"></span></div><div class="text-right" ng-class="{\'layout-column\': !$mdMedia(\'gt-sm\')}"><md-button class="bg-success text-white md-raised" ng-click="$ctrl.$toggleDetails()" aria-label="Confirm guests"><md-icon class="mdi mdi-check md-24 text-white"></md-icon><span translate="common.confirm"></span></md-button></div></div></div>'),t.put("/tpls/room-edit/room-edit-services.tpl",'<div><div ng-if="!$ctrl.totalServices.length"><span class="text-italic" translate="service.none"></span></div><div ng-if="$ctrl.totalServices.length"><md-list class="layout-row layout-wrap"><md-list-item ng-repeat="service in $ctrl.totalServices track by $index" ng-show="$ctrl.$$showAllServices || $index < $ctrl.previewSize" class="am-fade-and-slide-right no-padding-top no-padding-right flex-100" ng-class="{\'flex-gt-sm-50\': $ctrl.totalServices.length > 1, \'no-padding-left\': !$ctrl.$mdMedia(\'gt-sm\'), \'no-padding\': service.$$editing}"><div ng-if="!service.$$editing" flex layout layout-wrap layout-align="start center" layout-padding-sm class="no-secondary-container"><div ng-if="$ctrl.$$servicesIcons[service.type.nameKey]"><md-icon class="{{$ctrl.$$servicesIcons[service.type.nameKey]}} md-30 circle-icon material-icons" ng-class="service.$$serviceSold ? \'bg-success text-white\' : \'bg-gray-lighter text-gray-light\'"></md-icon></div><div ng-if="!$ctrl.$$servicesIcons[service.type.nameKey]"><md-icon class="mdi mdi-check md-30 circle-icon" ng-class="service.$$serviceSold ? \'bg-success text-white\' : \'bg-gray-lighter text-gray-light\'"></md-icon></div><div class="flex layout-column flex-order-xs-1 flex-order-sm-1" ng-if="!service.$$serviceSold"><strong ng-click="$ctrl.$showServiceInfo($event, service)" aria-label="Show service info" class="clickable"><span ng-if="service.maxCount > 1">{{service.maxCount}}&nbsp;x&nbsp;</span><span translate="{{service.type.nameKey}}"></span>&nbsp;<md-icon class="mdi mdi-information-outline md-14"></md-icon></strong><span ng-switch="service.paymentType" class="text-lowercase text-gray-light text-small"><span ng-switch-when="FREE"><span translate="common.free"></span></span><span ng-switch-when="SINGLE"><span>{{service.paymentOptions[0].amount.finalAmount|chCurrency}}</span>&nbsp;<span ng-if="service.frequency == \'DAILY\'" class="text-lowercase"><span translate="date.frequency.daily"></span></span><span ng-if="service.frequency == \'MONTHLY\'" class="text-lowercase"><span translate="date.frequency.monthly"></span></span><span ng-if="service.frequency == \'YEARLY\'" class="text-lowercase"><span translate="date.frequency.yearly"></span></span><span ng-if="service.frequency == \'LUMP_SUM\'" class="text-lowercase"><span translate="common.entire.stay"></span></span></span><span ng-switch-when="PER_PERSON"><span translate="reservation.starting.from"></span>&nbsp;<span>{{service.$$bestPrice|chCurrency}}</span>&nbsp;<span ng-if="service.frequency == \'DAILY\'" class="text-lowercase"><span translate="date.frequency.daily"></span></span><span ng-if="service.frequency == \'MONTHLY\'" class="text-lowercase"><span translate="date.frequency.monthly"></span></span><span ng-if="service.frequency == \'YEARLY\'" class="text-lowercase"><span translate="date.frequency.yearly"></span></span><span ng-if="service.frequency == \'LUMP_SUM\'" class="text-lowercase"><span translate="common.entire.stay"></span></span></span></span></div><div class="flex layout-column flex-order-xs-1 flex-order-sm-1" ng-if="service.$$serviceSold"><strong ng-click="$ctrl.$showServiceInfo($event, service)" aria-label="Show service info" class="clickable"><span ng-if="service.$$serviceSold.count > 1">{{service.$$serviceSold.count}}&nbsp;x&nbsp;</span><span translate="{{service.type.nameKey}}"></span><md-icon class="mdi mdi-information-outline md-14"></md-icon></strong><div ng-if="service.paymentType == \'PER_PERSON\'" class="text-gray-light text-small"><ch-people-summary people="service.$$serviceSold.people"></ch-people-summary></div><div ng-if="!service.$$serviceSold.$$removed && service.$$serviceSold.amount" class="md-subhead"><span ng-if="service.$$serviceSold.amount.finalAmount > 0">{{service.$$serviceSold.amount.finalAmount|chCurrency}}</span><span ng-if="service.$$serviceSold.amount.finalAmount == 0" class="text-success"><span translate="common.free"></span></span></div></div><div class="layout-column layout-align-center-center flex-order-xs-2 flex-order-sm-2" ng-class="{\'text-center\': !$ctrl.$mdMedia(\'gt-sm\')}" ng-if="service.$$serviceSold"><div class="text-center"><md-icon class="mdi mdi-checkbox-marked-circle-outline text-success md-18"></md-icon>&nbsp;<small class="text-success" translate="common.booked.male"></small></div><md-button ng-if="service.$$editable" hide show-gt-sm class="button-small text-blue-sea text-small" ng-class="$ctrl.$mdMedia(\'gt-sm\') ? \'auto-height row-1\' : \'only-border border-blue-sea\'" ng-disabled="$ctrl.$$editingService" ng-click="$ctrl.$editService(service)" aria-label="Edit service"><md-icon class="mdi mdi-pencil md-18 text-blue-sea"></md-icon><span translate="common.edit"></span></md-button></div><div class="no-padding-right flex-order-xs-3 flex-order-sm-3" ng-class="{\'flex-100 layout-column text-center\': !$ctrl.$mdMedia(\'gt-sm\')}" ng-if="!service.$$serviceSold"><md-button class="button-small only-border" ng-class="{\'border-success text-success\': !$ctrl.$$editingService}" ng-disabled="$ctrl.$$editingService" ng-click="$ctrl.$addService(service)" aria-label="Add service"><md-icon class="mdi mdi-plus md-18" ng-class="{\'text-success\': !$ctrl.$$editingService}"></md-icon><small translate="common.add"></small></md-button></div><div class="no-padding-right flex-order-xs-3 flex-order-sm-3" ng-class="$ctrl.$mdMedia(\'gt-sm\') ? \'layout-row layout-align-end-center\' : \'flex-100 layout-column\'" ng-if="service.$$serviceSold"><md-button ng-if="service.$$editable" hide-gt-sm class="button-small text-blue-sea text-small" ng-class="$ctrl.$mdMedia(\'gt-sm\') ? \'auto-height row-1\' : \'only-border border-blue-sea\'" ng-disabled="$ctrl.$$editingService" ng-click="$ctrl.$editService(service)" aria-label="Edit service"><md-icon class="mdi mdi-pencil md-18 text-blue-sea"></md-icon><span translate="common.edit"></span></md-button><md-button class="text-small" ng-class="{\'no-margin md-icon-button\': $ctrl.$mdMedia(\'gt-sm\')}" ng-disabled="$ctrl.$$editingService" ng-click="$ctrl.$removeService(service.$$serviceSold)" aria-label="Remove service"><md-icon class="mdi mdi-close md-18"></md-icon><span hide-gt-sm translate="common.remove"></span><md-tooltip hide show-gt-sm><span translate="common.remove"></span></md-tooltip></md-button></div></div><div flex ng-if="service.$$editing && $ctrl.$$editingService"><ch-service-sold-edit class="md-whiteframe-z2 md-margin layout-column layout-padding-sm" service-sold="$ctrl.$$editingService" nights="$ctrl.nights" people-limits="$ctrl.$$peopleLimits" people-age-ranges="$ctrl.peopleAgeRanges" on-confirm="$ctrl.$confirmServiceEdit($serviceSold)" on-cancel="$ctrl.$cancelServiceEdit($serviceSold)"></ch-service-sold-edit></div><md-divider ng-if="!$last" class="md-margin hide-gt-sm"></md-divider></md-list-item></md-list><div ng-if="($ctrl.totalServices.length - $ctrl.previewSize) > 0" class="flex-100 layout-column"><md-button class="button-mini text-small" ng-click="$ctrl.$toggleAllServices()" aria-label="Show other services"><span ng-if="!$ctrl.$$showAllServices"><span ng-if="($ctrl.totalServices.length - $ctrl.previewSize) <= 1"><span translate="common.show.other"></span><span>{{($ctrl.totalServices.length - $ctrl.previewSize)}}</span><span translate="service.services"></span></span><span ng-if="($ctrl.totalServices.length - $ctrl.previewSize) > 1"><span translate="common.show.others"></span><span>{{($ctrl.totalServices.length - $ctrl.previewSize)}}</span><span translate="service.services"></span></span></span><span ng-if="$ctrl.$$showAllServices"><span translate="reservation.services.hide"></span></span><md-icon class="mdi md-18" ng-class="$ctrl.$$showAllServices ? \'mdi-chevron-up\' : \'mdi-chevron-down\'"></md-icon></md-button></div></div></div>'),t.put("/tpls/room-edit/room-edit.tpl",'<div class="relative" id="ch-room-edit_{{$ctrl.$$index}}"><div ng-if="$ctrl.title || $ctrl.onRemove" class="layout-row layout-padding-sm"><div ng-if="$ctrl.title" class="text-primary md-subhead"><span ng-bind="$ctrl.title"></span></div><div flex></div><div ng-if="$ctrl.onRemove"><md-button class="md-icon-button" ng-click="$ctrl.$removeRoom($event)" aria-label="Remove room"><md-icon class="mdi mdi-close md-24"></md-icon><md-tooltip><span translate="common.remove"></span></md-tooltip></md-button></div></div><div class="layout-gt-sm-row layout-padding no-padding layout-wrap"><div class="square-room-image no-padding-left"><img class="no-padding-left clickable" ng-src="{{$ctrl.$$roomImage}}" lazy-image alt="Room cover image" ng-click="$ctrl.$openGallery($event)"><md-tooltip><span translate="photo.photos.view.all"></span></md-tooltip></div><div flex><div layout layout-wrap><div flex><h3 class="no-margin md-title" translate="{{$ctrl.room.type.roomType.nameKey}}"></h3><div class="row-mini text-gray-light"><small flex><span ng-if="$ctrl.room.type.description[$ctrl.localeIso]">{{$ctrl.room.type.description[$ctrl.localeIso]}}</span><span ng-if="!$ctrl.room.type.description[$ctrl.localeIso]"><span translate="{{$ctrl.room.type.roomType.descriptionKey}}"></span></span></small></div><div><span class="md-caption"><span><span translate="room.category"></span>:&nbsp;</span><span class="text-normal text-uppercase" translate="room.category.{{$ctrl.room.type.category}}"></span></span></div><div><span class="md-caption text-lowercase"><span>{{$ctrl.$$guestsCount.total}}</span>&nbsp;<span ng-if="$ctrl.$$guestsCount.total != 1" translate="people.people"></span><span ng-if="$ctrl.$$guestsCount.total == 1" translate="people.person"></span></span></div></div><div><div class="layout-row layout-wrap layout-align-gt-sm-end-center flex-xs-100 flex-sm-100" ng-class="{\'layout-align-center-start\': $ctrl.$$promotion, \'layout-align-center-center\': !$ctrl.$$promotion}"><div class="layout-column" ng-class="{\'text-center\': !$ctrl.$mdMedia(\'gt-sm\'), \'text-right\': $ctrl.$mdMedia(\'gt-sm\')}"><div ng-if="$ctrl.$$promotion" ng-switch="$ctrl.$$promotion.promotionType"><span ng-switch-when="STANDARD" class="label label-xs bg-info"><ch-truncate text="{{$ctrl.$$promotion.name[$ctrl.localeIso]}}" max-length="20" suffix="..."></ch-truncate>&nbsp;<span ng-if="$ctrl.$$promotion.discount.type==\'PERCENTAGE\'">-{{$ctrl.$$promotion.discount.finalAmount}}%</span><span ng-if="$ctrl.$$promotion.discount.type==\'PRICE\'">-{{$ctrl.$$promotion.discount.finalAmount|chCurrency}}</span></span><span ng-switch-when="MINIMUM_STAY" class="label label-xs bg-primary-light"><span translate="promotions.promotion.label.minstay.nights" translate-value-count="{{$ctrl.$$promotion.minStay}}"></span>&nbsp;<span ng-if="$ctrl.$$promotion.discount.type==\'PERCENTAGE\'">-{{$ctrl.$$promotion.discount.finalAmount}}%</span><span ng-if="$ctrl.$$promotion.discount.type==\'PRICE\'">-{{$ctrl.$$promotion.discount.finalAmount|chCurrency}}</span></span><span ng-switch-when="BOOK_TODAY" class="label label-xs bg-primary"><span translate="promotions.promotion.label.only.today"></span>!&nbsp;<span ng-if="$ctrl.$$promotion.discount.type==\'PERCENTAGE\'">-{{$ctrl.$$promotion.discount.finalAmount}}%</span><span ng-if="$ctrl.$$promotion.discount.type==\'PRICE\'">-{{$ctrl.$$promotion.discount.finalAmount|chCurrency}}</span></span><span ng-switch-when="EARLY_BOOKING" class="label label-xs bg-success"><span translate="promotions.early"></span>&nbsp;<span ng-if="$ctrl.$$promotion.discount.type==\'PERCENTAGE\'">-{{$ctrl.$$promotion.discount.finalAmount}}%</span><span ng-if="$ctrl.$$promotion.discount.type==\'PRICE\'">-{{$ctrl.$$promotion.discount.finalAmount|chCurrency}}</span></span><span ng-switch-when="LAST_MINUTE" class="label label-xs bg-blue-sea"><span translate="promotions.last.minute"></span>&nbsp;<span ng-if="$ctrl.$$promotion.discount.type==\'PERCENTAGE\'">-{{$ctrl.$$promotion.discount.finalAmount}}%</span><span ng-if="$ctrl.$$promotion.discount.type==\'PRICE\'">-{{$ctrl.$$promotion.discount.finalAmount|chCurrency}}</span></span><span ng-switch-when="LAST_SECOND" class="label label-xs bg-warn"><span translate="promotions.last.second"></span>&nbsp;<span ng-if="$ctrl.$$promotion.discount.type==\'PERCENTAGE\'">-{{$ctrl.$$promotion.discount.finalAmount}}%</span><span ng-if="$ctrl.$$promotion.discount.type==\'PRICE\'">-{{$ctrl.$$promotion.discount.finalAmount|chCurrency}}</span></span></div><div layout="column" layout-align="center end" ng-class="{\'md-padding\': !$ctrl.$mdMedia(\'gt-sm\')}"><small ng-if="$ctrl.room.totalPrice.initialAmount > 0 && $ctrl.room.totalPrice.initialAmount > $ctrl.room.totalPrice.finalAmount"><i><del>{{$ctrl.room.totalPrice.initialAmount|chCurrency}}</del></i>&nbsp;&nbsp;</small><h3 class="no-margin md-headline">{{$ctrl.room.totalPrice.finalAmount|chCurrency}}</h3></div><div class="text-center layout-column flex-50"><div ng-switch="$ctrl.room.totalRate.type"><span ng-switch-when="STANDARD"><span ng-if="$ctrl.room.totalRate.cancellationPolicy.flexible" class="label bg-warn" translate="reservation.rate.flexible"></span><span ng-if="!$ctrl.room.totalRate.cancellationPolicy.flexible" class="label bg-success" translate="reservation.cancellation.free"></span></span><span ng-switch-when="NOT_REFUNDABLE" class="label" translate="ratesheet.rate.type.notRefundable.abbr"></span></div></div></div></div></div></div><div ng-if="$ctrl.room.totalRate.$$bestHotelRate" class="layout-row layout-wrap layout-align-start-center layout-padding border-radius border-success text-success only-border md-body-2 margin-auto-20"><span class="no-padding"><md-icon class="mdi mdi-thumb-up-outline md-24 text-success"></md-icon>&nbsp;<span translate="room.best.hotel.rate"></span></span></div><div ng-if="!$ctrl.room.totalRate.$$bestHotelRate" class="layout-row layout-wrap layout-align-start-center layout-padding border-radius border-blue-sea text-blue-sea only-border md-body-2 margin-auto-20"><span class="no-padding"><md-icon class="mdi mdi-thumb-up-outline md-24 text-blue-sea"></md-icon>&nbsp;<span translate="room.best.lovely.choise"></span></span></div></div></div><div ng-if="!$ctrl.showConfig"><div layout="column" ng-class="{\'md-padding\': $ctrl.$mdMedia(\'gt-sm\')}"><div class="font-14 text-blue-sea text-center"><span translate="room.config.now.question"></span></div><md-button class="bg-blue-sea text-wrap button-small" ng-click="$ctrl.$toggleRoomConfig(true)" aria-label="Config room"><span><span translate="room.config.now"></span>!</span><md-icon class="mdi mdi-chevron-down md-24 text-white animated infinite bounce"></md-icon></md-button></div></div><div ng-if="$ctrl.showConfig"><div class="layout-column flex-100 layout-align-center-center margin-20-no-x-sides"><div class="md-title text-center"><span translate="reservation.rooms.config.title"></span></div></div><div layout="column" class="margin-20-no-x-sides no-margin-top"><div><div class="md-subhead md-margin text-blue-sea"><md-icon class="mdi mdi-account-multiple md-32 text-blue-sea no-margin"></md-icon>&nbsp;<span translate="bed.sleep.here.room"></span></div><md-divider></md-divider><div ng-if="$ctrl.room.type.guestsCount.standard > 1" class="md-padding no-padding-top no-padding-bottom text-gray-light text-italic"><md-icon class="mdi mdi-information-outline md-14"></md-icon>&nbsp;<small><span ng-if="$ctrl.maxCount != $ctrl.$$guestsCount.standard"><span translate="people.people.add.more"></span>.&nbsp;</span><span ng-if="$ctrl.maxCount == $ctrl.$$guestsCount.standard"><span translate="people.people.edit"></span>.&nbsp;</span><span translate="common.edit.no.extra.cost"></span></small></div></div><ch-room-edit-people people="$ctrl.room.people" max-people="$ctrl.room.type.people" max-count="$ctrl.room.type.guestsCount.standard" limits="$ctrl.peopleLimits" age-ranges="$ctrl.peopleAgeRanges" on-change="$ctrl.$onPeopleChange($people)"></ch-room-edit-people></div><div layout="column" class="margin-20-no-x-sides no-margin-top"><div ng-if="!$ctrl.$bedsConfig"><div class="md-subhead md-margin text-blue-sea"><md-icon class="mdi mdi-hotel md-32 text-blue-sea no-margin"></md-icon>&nbsp;<span flex><ch-people-summary people="$ctrl.room.people"></ch-people-summary><span class="text-lowercase">&nbsp;<span ng-if="$ctrl.$$guestsCount.standard == 1" translate="people.person.will.sleep"></span><span ng-if="$ctrl.$$guestsCount.standard > 1" translate="people.people.will.sleep"></span>&nbsp;<span ng-if="$ctrl.room.beds.length == 1" translate="bed.bed.follow"></span><span ng-if="$ctrl.room.beds.length > 1" translate="bed.beds.follow"></span></span></span></div><md-divider></md-divider><div class="md-padding no-padding-top no-padding-bottom text-gray-light text-italic"><md-icon class="mdi mdi-information-outline md-14"></md-icon>&nbsp;<small ng-if="$ctrl.room.type.beds.length > $ctrl.room.beds.length"><span translate="bed.choise.type"></span><span translate="common.edit.no.extra.cost"></span></small><small ng-if="$ctrl.room.type.beds.length <= $ctrl.room.beds.length"><span translate="bed.beds.principal.description"></span></small></div></div><div ng-if="$ctrl.$bedsConfig"><div class="md-subhead md-margin text-blue-sea"><md-icon class="mdi mdi-hotel md-32 text-blue-sea no-margin"></md-icon>&nbsp;<span flex translate="bed.beds.principal.list"></span></div><md-divider></md-divider><div class="md-padding no-padding-top no-padding-bottom text-gray-light text-italic"><md-icon class="mdi mdi-information-outline md-14"></md-icon>&nbsp;<small><span translate="bed.beds.principal.max.selectable.label1"></span>&nbsp;<span>{{$ctrl.room.type.bedCount}}</span><span class="text-lowercase" ng-if="$ctrl.room.type.bedCount > 1" translate="bed.beds.principal"></span><span class="text-lowercase" ng-if="$ctrl.room.type.bedCount == 1" translate="bed.bed.principal"></span>&nbsp;<span class="text-lowercase" translate="bed.beds.principal.max.selectable.label2"></span><span>.&nbsp;<span translate="common.choice.no.extra.cost"></span>.</span></small></div></div><div><ch-room-edit-beds room="$ctrl.room" nights="$ctrl.nights" beds="$ctrl.room.beds" total-beds="$ctrl.room.type.beds" min-count="1" max-count="$ctrl.room.type.bedCount" on-toggle-config="$ctrl.$onToggleBedsConfig($open)" on-add="$ctrl.$onBedAdd($bed)" on-remove="$ctrl.$onBedRemove($bed)" on-change="$ctrl.$onBedChange($bed)"></ch-room-edit-beds></div></div><div ng-if="$ctrl.room.type.otherBeds.length" layout="column" class="margin-20-no-x-sides no-margin-top"><div><div class="md-subhead md-margin text-blue-sea"><md-icon class="mdi mdi-plus md-18 text-blue-sea no-margin"></md-icon><md-icon class="mdi mdi-hotel md-32 text-blue-sea no-margin"></md-icon>&nbsp;<span ng-show="$ctrl.room.otherBeds.length" translate="bed.beds.list.title"></span><span ng-show="!$ctrl.room.otherBeds.length" translate="bed.beds.list.title.other"></span><md-button ng-if="!$ctrl.room.otherBeds.length" ng-show="!$ctrl.$$extraBedsConfig" class="button-small no-margin-top no-margin-bottom text-blue-sea" ng-disabled="$ctrl.$$extraBedsConfig" aria-label="Show/Hide extra beds" ng-click="$ctrl.$toggleExtraBeds()"><small ng-if="!$ctrl.$$showExtraBeds"><md-icon class="mdi mdi-plus md-18 text-blue-sea"></md-icon><span translate="common.add"></span></small><small ng-if="$ctrl.$$showExtraBeds"><md-icon class="mdi mdi-chevron-up md-18 text-blue-sea"></md-icon><span translate="common.hide"></span></small></md-button></div><md-divider></md-divider><div class="md-padding no-padding-top no-padding-bottom text-gray-light text-italic"><md-icon class="mdi mdi-information-outline md-14"></md-icon>&nbsp;<small ng-if="$ctrl.room.otherBeds.length"><span translate="bed.this.operation"></span>&nbsp;<span>{{$ctrl.$$guestsCount.extra}}</span>&nbsp;<span class="text-lowercase"><span ng-if="$ctrl.$$guestsCount.extra == 1" translate="people.person"></span><span ng-if="$ctrl.$$guestsCount.extra != 1" translate="people.people"></span>&nbsp;<span translate="room.room.in.yours"></span></span></small><small ng-if="!$ctrl.room.otherBeds.length"><span translate="bed.beds.add.more"></span>&nbsp;<span>{{$ctrl.room.type.maxOtherBeds - $ctrl.room.otherBeds.length}}</span>&nbsp;<span class="text-lowercase"><span ng-if="($ctrl.room.type.maxOtherBeds - $ctrl.room.otherBeds.length) == 1" translate="bed.bed"></span><span ng-if="($ctrl.room.type.maxOtherBeds - $ctrl.room.otherBeds.length) != 1" translate="bed.beds"></span>&nbsp;<span translate="reservation.total.night"></span>&nbsp;<span>{{$ctrl.room.type.guestsCount.extra - $ctrl.$$guestsCount.extra}}</span>&nbsp;<span ng-if="($ctrl.room.type.guestsCount.extra - $ctrl.$$guestsCount.extra) == 1" translate="people.person"></span><span ng-if="($ctrl.room.type.guestsCount.extra - $ctrl.$$guestsCount.extra) != 1" translate="people.people"></span></span></small></div></div><div ng-if="$ctrl.$$showExtraBeds" id="ch-room-edit-{{$ctrl.$$index}}-config-extra-beds"><ch-room-edit-beds room="$ctrl.room" nights="$ctrl.nights" beds="$ctrl.room.otherBeds" total-beds="$ctrl.room.type.otherBeds" max-count="$ctrl.room.type.maxOtherBeds" config-bed="true" people-age-ranges="$ctrl.peopleAgeRanges" on-toggle-config="$ctrl.$onToggleExtraBedsConfig($open)" on-add="$ctrl.$onExtraBedAdd($bed)" on-remove="$ctrl.$onExtraBedRemove($bed)" on-change="$ctrl.$onExtraBedChange($bed)"></ch-room-edit-beds><div ng-if="$ctrl.room.otherBeds.length == $ctrl.room.type.maxOtherBeds" class="text-center"><md-icon class="mdi mdi-thumb-up-outline text-success"></md-icon>&nbsp;<span translate="bed.all.added.success.message" class="text-success"></span></div></div></div><div ng-if="$ctrl.$$includedServices.length" layout="column" class="margin-20-no-x-sides no-margin-top"><div><div class="md-subhead md-margin text-blue-sea"><md-icon class="mdi mdi-checkbox-multiple-marked-circle-outline md-32 text-blue-sea no-margin"></md-icon>&nbsp;<span translate="room.facilities"></span></div><md-divider></md-divider><div class="md-padding text-gray-light"><span translate="room.facilities.text"></span>&nbsp;<md-button class="no-margin button-small text-blue-sea" ng-click="$ctrl.$toggleIncludedServices()" aria-label="Show/Hide room facilities"><small><span ng-if="!$ctrl.$$showIncluedServices" translate="common.show"></span><span ng-if="$ctrl.$$showIncluedServices" translate="common.hide"></span>&nbsp;<md-icon class="mdi text-blue-sea" ng-class="$ctrl.$$showIncluedServices ? \'mdi-chevron-up\' : \'mdi-chevron-down\'"></md-icon></small></md-button></div></div><div ng-if="$ctrl.$$showIncluedServices" class="layout-column flex-100 md-padding no-padding-top"><div layout layout-wrap layout-padding-sm><div ng-repeat="service in $ctrl.$$includedServices track by $index" class="flex-100 flex-gt-sm-50"><md-icon ng-if="$ctrl.$$servicesIcons[service.type.nameKey]" class="{{$ctrl.$$servicesIcons[service.type.nameKey]}} text-success material-icons"></md-icon><md-icon ng-if="!$ctrl.$$servicesIcons[service.type.nameKey]" class="mdi mdi-check text-success material-icons"></md-icon>&nbsp;<span translate="{{service.type.nameKey}}"></span></div></div></div></div><div ng-if="$ctrl.$$freeServices.length" layout="column" class="margin-20-no-x-sides no-margin-top"><div><div class="md-subhead md-margin text-blue-sea"><md-icon class="mdi mdi-gift md-32 text-blue-sea no-margin"></md-icon>&nbsp;<span translate="service.services.free.text"></span></div><md-divider></md-divider><div class="md-padding no-padding-top no-padding-bottom text-gray-light text-italic"><md-icon class="mdi mdi-information-outline md-14"></md-icon>&nbsp;<small translate="service.services.free.info"></small></div></div><div><ch-room-edit-services room="$ctrl.room" nights="$ctrl.nights" services="$ctrl.room.services" total-services="$ctrl.$$freeServices" preview-size="4" people-age-ranges="$ctrl.peopleAgeRanges" on-add="$ctrl.$onServiceAdd($service)" on-remove="$ctrl.$onServiceRemove($service)" on-change="$ctrl.$onServiceChange($service)"></ch-room-edit-services></div></div><div ng-if="$ctrl.$$paymentServices.length" layout="column" class="margin-20-no-x-sides no-margin-top"><div><div class="md-subhead md-margin text-blue-sea"><md-icon class="mdi mdi-currency-usd md-32 text-blue-sea no-margin"></md-icon>&nbsp;<span translate="service.services.popular.text"></span></div><md-divider></md-divider><div class="md-padding no-padding-top no-padding-bottom text-gray-light text-italic"><md-icon class="mdi mdi-information-outline md-14"></md-icon>&nbsp;<small translate="service.services.popular.info"></small></div></div><div><ch-room-edit-services room="$ctrl.room" nights="$ctrl.nights" services="$ctrl.room.services" total-services="$ctrl.$$paymentServices" preview-size="4" people-age-ranges="$ctrl.peopleAgeRanges" on-add="$ctrl.$onServiceAdd($service)" on-remove="$ctrl.$onServiceRemove($service)" on-change="$ctrl.$onServiceChange($service)"></ch-room-edit-services></div></div><div layout="column" class="margin-20-no-x-sides no-margin-top"><div><div class="md-subhead md-margin text-blue-sea"><md-icon class="mdi mdi-account-card-details md-32 text-blue-sea no-margin"></md-icon>&nbsp;<span translate="reservation.text.identityDocuments.list"></span></div><md-divider></md-divider><div class="md-padding no-padding-top no-padding-bottom"><span translate="reservation.text.identityDocuments.label"></span>&nbsp;<md-button class="no-margin button-small text-blue-sea text-small" ng-click="$ctrl.$toggleIdentityDocuments()" aria-label="Hide/show room facilities"><span ng-if="!$ctrl.$$showIdentityDocuments"><span ng-if="!$ctrl.room.identityDocuments.length" translate="reservation.text.identityDocuments.enter"></span><span ng-if="$ctrl.room.identityDocuments.length" translate="reservation.text.identityDocuments.show"></span></span><span ng-if="$ctrl.$$showIdentityDocuments" translate="reservation.text.identityDocuments.hide"></span><md-icon class="mdi text-blue-sea" ng-class="$ctrl.$$showIdentityDocuments ? \'mdi-chevron-up\' : \'mdi-chevron-down\'"></md-icon></md-button></div></div><div ng-if="$ctrl.$$showIdentityDocuments" id="ch-room-edit-{{$ctrl.$$index}}-config-documents"><ch-room-edit-identity-documents identity-documents="$ctrl.room.identityDocuments" total-count="$ctrl.$$guestsCount.total" guest-type="$ctrl.identityDocumentGuestType" on-add="$ctrl.$onIdentityDocumentAdd($document)" on-remove="$ctrl.$onIdentityDocumentRemove($document)" on-change="$ctrl.$onIdentityDocumentChange($document)"></ch-room-edit-identity-documents></div></div><div layout="column"><md-button class="text-blue-sea text-small text-wrap row-1" ng-click="$ctrl.$toggleRoomConfig(false)" aria-label="Close room config"><span translate="room.config.close"></span><md-icon class="mdi mdi-chevron-up md-18 text-blue-sea"></md-icon></md-button></div></div></div>'),t.put("/tpls/room/room-info.tpl",'<div id="{{\'ch-room-\' + $ctrl.chRoomCtrl.$$index + \'-info\'}}" ng-show="$ctrl.chRoomCtrl.$$showInfo" ng-class="{\'animated fadeIn\': $ctrl.chRoomCtrl.$$showInfo}"><div class="md-padding no-padding-bottom text-gray-light"><div ng-show="$ctrl.chRoomCtrl.room.maxOtherBeds > 0" class="md-padding no-padding-bottom text-blue-sea text-center"><md-icon class="mdi mdi-hotel animated tada infinite text-blue-sea md-24"></md-icon>&nbsp;<span translate="reservation.room.extra.beds.bookable"></span><span ng-if="$ctrl.chRoomCtrl.$$hasFreeBeds" class="text-uppercase" translate="common.for.free"></span><span ng-if="!$ctrl.chRoomCtrl.$$hasFreeBeds" class="text-lowercase" translate="common.for.fee"></span></div><div class="layout layout-wrap"><div class="layout-column flex"><div layout layout-wrap class="bg-white layout-padding layout-row layout-wrap layout-align-space-around md-whiteframe-1dp"><div class="flex-gt-xs flex-xs-100 no-padding no-margin text-center"><ch-people-icons people="$ctrl.chRoomCtrl.room.people" max="$ctrl.chRoomCtrl.room.guestsCount.standard" extra-people="$ctrl.chRoomCtrl.room.extraPeople" extra-max="$ctrl.chRoomCtrl.room.guestsCount.extra" hidetooltip="!$ctrl.$mdMedia(\'gt-sm\')" size="big" theme="dark" hide-extra-people="true"></ch-people-icons></div><md-divider hide-xs></md-divider><div class="flex-gt-xs flex-xs-100 no-padding no-margin text-center"><div><md-icon class="mdi mdi-hotel md-48"></md-icon></div><div class="text-small"><span>{{::$ctrl.chRoomCtrl.room.beds.length}}</span><span ng-if="$ctrl.chRoomCtrl.room.beds.length == 1"><span translate="bed.{{::$ctrl.chRoomCtrl.room.beds[0].type}}"></span></span><span ng-if="$ctrl.chRoomCtrl.room.beds.length != 1" translate="bed.beds.principal"></span></div></div><md-divider hide-xs></md-divider><div class="flex-gt-xs flex-xs-100 no-padding no-margin text-center"><div style="height: 48px; line-height: 58px"><span class="md-title">{{::$ctrl.chRoomCtrl.room.metres}} m</span></div><div class="text-small"><span translate="room.size"></span></div></div></div><div ng-if="$ctrl.chRoomCtrl.room.guestsCount.extra > 0" layout layout-wrap class="bg-white layout-padding layout-row layout-wrap layout-align-space-around md-whiteframe-1dp" style="margin-top: 10px"><div class="flex-gt-xs flex-xs-100 no-padding no-margin text-center"><ch-people-icons people="$ctrl.chRoomCtrl.room.people" max="$ctrl.chRoomCtrl.room.guestsCount.standard" extra-people="$ctrl.chRoomCtrl.room.extraPeople" extra-max="$ctrl.chRoomCtrl.room.guestsCount.extra" hidetooltip="!$ctrl.$mdMedia(\'gt-sm\')" size="big" theme="dark" hide-people="true"></ch-people-icons></div><md-divider hide-xs></md-divider><div class="flex-gt-xs flex-xs-100 no-padding no-margin text-center"><div><md-icon class="mdi mdi-hotel md-48"></md-icon></div><div class="text-small"><span>{{::$ctrl.chRoomCtrl.room.maxOtherBeds}}</span><span ng-if="$ctrl.chRoomCtrl.room.maxOtherBeds == 1" translate="bed.otherbed"></span><span ng-if="$ctrl.chRoomCtrl.room.maxOtherBeds != 1" translate="bed.otherbeds"></span></div></div><md-divider hide-xs></md-divider><div class="flex-gt-xs flex-xs-100 no-padding no-margin text-center"><div style="height: 48px;line-height: 58px"><span class="md-title">{{::$ctrl.chRoomCtrl.room.bathMetres}} m</span></div><div class="text-small"><span translate="room.bath.size"></span></div></div></div></div></div><h4 class="md-subhead no-margin-bottom"><strong translate="room.description"></strong></h4><div class="layout layout-wrap"><div flex><span ng-if="$ctrl.chRoomCtrl.room.description[$ctrl.chRoomCtrl.currentLang]"><span hm-read-more hm-text="{{$ctrl.chRoomCtrl.room.description[$ctrl.chRoomCtrl.currentLang]}}" hm-limit="50" hm-more-text="{{\'common.read.more\'|translate}}" hm-less-text="{{\'common.read.less\'|translate}}" hm-link-class="clickable text-primary"></span></span><span ng-if="!$ctrl.chRoomCtrl.room.description[$ctrl.chRoomCtrl.currentLang]"><span translate="{{::$ctrl.chRoomCtrl.room.roomType.descriptionKey}}"></span></span></div></div><div layout="column" ng-if="$ctrl.chRoomCtrl.room.metres"><h4 class="md-subhead no-margin-bottom"><strong translate="room.size"></strong></h4><div layout><strong translate="room.room"></strong>:&nbsp;<span>{{::$ctrl.chRoomCtrl.room.metres}} mq</span>&nbsp;<span>({{::($ctrl.chRoomCtrl.room.metres * 10.764 | number:2)}} sq ft.)</span></div><div layout><strong translate="service.type.BATHROOM"></strong>:&nbsp;<span>{{::$ctrl.chRoomCtrl.room.bathMetres}} mq</span>&nbsp;<span>({{::($ctrl.chRoomCtrl.room.bathMetres * 10.764 | number:2)}} sq ft.)</span></div></div><div layout="column"><strong ng-if="$ctrl.chRoomCtrl.room.bathIncluded" class="md-subhead no-margin-bottom"><span translate="room.bath.included"></span></strong><strong ng-if="!$ctrl.chRoomCtrl.room.bathIncluded" class="md-subhead no-margin-bottom"><span translate="room.bath.not.included"></span></strong></div><div layout="column" ng-if="$ctrl.chRoomCtrl.room.beds && $ctrl.chRoomCtrl.room.beds.length > 0"><h4 class="md-subhead no-margin-bottom"><strong ng-if="$ctrl.chRoomCtrl.room.beds.length == 1" translate="bed.bed.principal"></strong><strong ng-if="$ctrl.chRoomCtrl.room.beds.length != 1" translate="bed.beds.principal"></strong></h4><span ng-repeat="bed in $ctrl.chRoomCtrl.room.beds track by $index"><span>{{::bed.count}}&nbsp;x&nbsp;</span><span ng-if="bed.type" translate="bed.{{::bed.type}}"></span><span ng-if="!$last">,&nbsp;</span></span></div><div layout="column" ng-if="$ctrl.chRoomCtrl.room.otherBeds && $ctrl.chRoomCtrl.room.otherBeds.length > 0"><h4 class="md-subhead no-margin-bottom"><strong translate="bed.otherbeds"></strong></h4><div class="text-small"><span ng-if="$ctrl.chRoomCtrl.room.maxOtherBeds > 1"><span class="layout-padding no-padding-left" translate="reservation.info.max.otherBeds" translate-value-count="{{::$ctrl.chRoomCtrl.room.maxOtherBeds}}"></span></span><span ng-if="$ctrl.chRoomCtrl.room.maxOtherBeds == 1"><span class="layout-padding no-padding-left" translate="reservation.info.max.otherBed"></span></span><span class="text-lowercase" translate="common.choice.between"></span>:</div><md-list class="no-padding-bottom"><md-list-item ng-repeat="otherBed in $ctrl.chRoomCtrl.room.otherBeds track by $index"><div class="layout flex layout-padding no-padding"><div class="layout-column flex layout-padding-sm no-padding layout-align-center-start"><div class="no-padding-left"><span>{{otherBed.count}}&nbsp;x&nbsp;</span><strong translate="bed.{{otherBed.type}}"></strong>&nbsp;<span class="text-lowercase"><span translate="bed.max.person"></span>&nbsp;<span>{{otherBed.maxPerson}}</span>&nbsp;<span ng-if="otherBed.maxPerson > 1" translate="people.people"></span><span ng-if="otherBed.maxPerson <= 1" translate="people.person"></span><span translate="bed.per.bed"></span></span></div><div class="no-padding text-gray-light text-lowercase"><small ng-if="otherBed.people.adults"><span><span translate="people.adults"></span>&nbsp;(<span class="text-lowercase" translate="common.max"></span>&nbsp;{{otherBed.people.adults}}):</span><span ng-if="otherBed.adultsPrice">{{otherBed.adultsPrice|currency:\'\'}}</span><span ng-if="!otherBed.adultsPrice" translate="common.free"></span></small><small ng-if="otherBed.people.boys"><span ng-if="otherBed.people.adults">&nbsp;-</span><span><span translate="people.boys"></span>&nbsp;(<span class="text-lowercase" translate="common.max"></span>&nbsp;{{otherBed.people.boys}}):</span><span ng-if="otherBed.boysPrice">{{otherBed.boysPrice|currency:\'\'}}</span><span ng-if="!otherBed.boysPrice" translate="common.free"></span></small><small ng-if="otherBed.people.children"><span ng-if="otherBed.people.adults || otherBed.people.boys">&nbsp;-</span><span><span translate="people.children"></span>&nbsp;(<span class="text-lowercase" translate="common.max"></span>&nbsp;{{otherBed.people.children}}):</span><span ng-if="otherBed.childrenPrice">{{otherBed.childrenPrice|currency:\'\'}}</span><span ng-if="!otherBed.childrenPrice" translate="common.free"></span></small><small ng-if="otherBed.people.kids"><span ng-if="otherBed.people.adults || otherBed.people.boys || otherBed.people.children">&nbsp;-</span><span><span translate="people.kids"></span>&nbsp;(<span class="text-lowercase" translate="common.max"></span>&nbsp;{{otherBed.people.kids}}):</span><span ng-if="otherBed.kidsPrice">{{otherBed.kidsPrice|currency:\'\'}}</span><span ng-if="!otherBed.kidsPrice" translate="common.free"></span></small></div><div class="no-padding-top no-padding-left text-gray-light text-italic" ng-switch="otherBed.frequency"><small translate="common.price.is.intend"></small><small class="text-lowercase" ng-switch-when="DAILY|NIGHTLY" ng-switch-when-separator="|">&nbsp;<span translate="service.type.payment.NIGHTLY"></span></small><small class="text-lowercase" ng-switch-when="LUMP_SUM">&nbsp;<span translate="service.type.payment.LUMP_SUM"></span></small></div></div></div></md-list-item></md-list></div><div layout="column"><h4 class="md-subhead no-margin-bottom"><strong translate="reservation.guest.info"></strong></h4><div class="md-padding no-padding-left"><div class="md-padding no-padding-left no-padding-top"><span translate="room.people.host"></span></div><ul><li><strong>{{$ctrl.chRoomCtrl.room.guestsCount.standard}}&nbsp;</strong><strong class="text-lowercase" ng-if="$ctrl.chRoomCtrl.room.guestsCount.standard == 1" translate="people.person.beds"></strong><strong class="text-lowercase" ng-if="$ctrl.chRoomCtrl.room.guestsCount.standard != 1" translate="people.people.beds"></strong><span class="text-lowercase">&nbsp;(<span ng-if="$ctrl.chRoomCtrl.room.people.boys || $ctrl.chRoomCtrl.room.people.children || $ctrl.chRoomCtrl.room.people.kids"><span translate="common.choice.between"></span>&nbsp;</span><ch-people-summary class="text-lowercase" people="$ctrl.chRoomCtrl.room.people"></ch-people-summary>)</span></li></ul><ul ng-if="$ctrl.chRoomCtrl.room.guestsCount.extra"><li><strong>{{$ctrl.chRoomCtrl.room.guestsCount.extra}}&nbsp;</strong><strong class="text-lowercase" ng-if="$ctrl.chRoomCtrl.room.guestsCount.extra == 1" translate="people.person.extra.beds"></strong><strong class="text-lowercase" ng-if="$ctrl.chRoomCtrl.room.guestsCount.extra != 1" translate="people.people.extra.beds"></strong><span class="text-lowercase">&nbsp;(<span ng-if="$ctrl.chRoomCtrl.room.extraPeople.boys || $ctrl.chRoomCtrl.room.extraPeople.children || $ctrl.chRoomCtrl.room.extraPeople.kids"><span translate="common.choice.between"></span>&nbsp;</span><ch-people-summary class="text-lowercase" people="$ctrl.chRoomCtrl.room.extraPeople"></ch-people-summary>)</span></li></ul><div ng-if="$ctrl.chRoomCtrl.room.people.boys || $ctrl.chRoomCtrl.room.people.children || $ctrl.chRoomCtrl.room.people.kids || $ctrl.chRoomCtrl.room.extraPeople.boys || $ctrl.chRoomCtrl.room.extraPeople.children || $ctrl.chRoomCtrl.room.extraPeople.kids" class="md-padding no-padding-left no-padding-bottom"><em translate="error.room.guest.not.selected"></em></div></div><div><h5 class="md-body-2 md-margin no-margin-bottom no-margin-left no-margin-top text-gray-light"><strong translate="people.adults"></strong></h5><div><i translate="people.adults.policy" translate-value-age="{{::(18)}}"></i></div><div><span translate="common.capacity.max"></span>:&nbsp;<span>{{::$ctrl.chRoomCtrl.room.people.adults}}</span></div></div><div ng-switch="$ctrl.chRoomCtrl.room.people.boys"><h5 class="md-body-2 md-margin no-margin-bottom no-margin-left text-gray-light"><strong translate="people.boys"></strong></h5><div><i translate="people.boys.policy" translate-values="{min: 13, max: 17}"></i></div><div><span translate="common.capacity.max"></span>:&nbsp;<i ng-switch-when="0" translate="common.none.male"></i><span ng-switch-default>{{::$ctrl.chRoomCtrl.room.people.boys}}</span></div></div><div ng-switch="$ctrl.chRoomCtrl.room.people.children"><h5 class="md-body-2 md-margin no-margin-bottom no-margin-left text-gray-light"><strong translate="people.children"></strong></h5><div><i translate="people.children.policy" translate-values="{min: 3, max: 12}"></i></div><div><span translate="common.capacity.max"></span>:&nbsp;<i ng-switch-when="0" translate="common.none.male"></i><span ng-switch-default>{{::$ctrl.chRoomCtrl.room.people.children}}</span></div></div><div ng-switch="$ctrl.chRoomCtrl.room.people.kids"><h5 class="md-body-2 md-margin no-margin-bottom no-margin-left text-gray-light"><strong translate="people.kids"></strong></h5><div><i translate="people.kids.policy" translate-values="{min: 0, max: 2}"></i></div><div><span translate="common.capacity.max"></span>:&nbsp;<i ng-switch-when="0" translate="common.none.male"></i><span ng-switch-default>{{::$ctrl.chRoomCtrl.room.people.kids}}</span></div></div></div><div layout="column" ng-if="::($ctrl.chRoomCtrl.$$includedServices && $ctrl.chRoomCtrl.$$includedServices.length > 0)"><h4 class="md-subhead no-margin-bottom"><strong translate="room.facilities"></strong></h4><div layout layout-wrap><div class="flex-gt-sm-50 flex-100" ng-repeat="service in ::$ctrl.chRoomCtrl.$$includedServices track by service.id" ng-switch="service.type.nameKey"><md-icon class="mdi mdi-check md-18 text-success"></md-icon><span translate="{{::service.type.nameKey}}"></span></div></div></div><div layout="column" ng-if="::($ctrl.chRoomCtrl.$$bookableServices && $ctrl.chRoomCtrl.$$bookableServices.length > 0)"><h4 class="md-subhead no-margin-bottom"><strong translate="common.service.on.demand"></strong></h4><div layout layout-wrap><div class="flex-gt-sm-50 flex-100" ng-repeat="service in ::$ctrl.chRoomCtrl.$$bookableServices track by service.id" ng-switch="service.paymentType"><md-icon class="mdi mdi-check md-18 text-success"></md-icon><span translate="{{::service.type.nameKey}}"></span><span ng-switch-when="FREE">(<span translate="payment.free"></span>)</span><span ng-switch-default class="text-lowercase"><small ng-repeat="paymentOpt in ::service.paymentOptions track by $index"><span ng-if="paymentOpt.size == \'PER_ADULT\' || paymentOpt.size == \'SINGLE\'">(<span>{{paymentOpt.amount.finalAmount|chCurrency}}</span><span ng-if="service.frequency == \'DAILY\'">/<span translate="date.day"></span></span><span ng-if="service.frequency == \'MONTHLY\'">/<span translate="date.month"></span></span><span ng-if="service.frequency == \'YEARLY\'">/<span translate="date.year"></span></span><span ng-if="paymentOpt.size == \'PER_ADULT\'">/<span translate="people.person"></span></span>)</span></small></span></div></div></div><div layout layout-xs="column" layout-padding layout-align="center center" class="no-padding-bottom"><md-button class="row-mini button-mini auto-height text-initial" ng-click="$ctrl.$toggleRates(true)" aria-label="Open room rates"><strong class="text-center text-success" ng-clas="{\'no-padding\': !$ctrl.$mdMedia(\'gt-sm\')}"><span><span translate="reservation.dont.miss.room"></span>.&nbsp;</span><span translate="reservation.book.now.holiday"></span></strong></md-button></div></div><div class="text-center"><md-button class="row-mini button-mini auto-height text-gray-light text-initial" ng-click="$ctrl.$toggleInfo(false)" aria-label="Close room info"><md-icon class="mdi mdi-chevron-up text-gray-light md-18 material-icon"></md-icon><span translate="common.hide"></span></md-button></div></div>'),t.put("/tpls/room/room-rate.tpl",'<div ng-switch="$ctrl.rate.type"><md-list-item class="no-padding secondary-button-padding"><div class="md-list-item-text no-padding" layout-xs="column" layout-sm="column" layout-gt-sm="row" layout-padding flex><div flex layout layout-wrap layout-align="center center" ng-class="{\'no-padding-bottom\': !$ctrl.$mdMedia(\'gt-sm\')}"><md-button class="md-fab md-micro hide show-gt-sm" ng-click="$ctrl.$toggleInfo()" aria-label="Show rate info"><md-icon class="mdi md-18 text-white" ng-class="{\'mdi-chevron-down\': !$ctrl.$$showInfo, \'mdi-chevron-up\': $ctrl.$$showInfo}"></md-icon></md-button><div class="clickable flex layout" layout-xs="column" ng-class="::{\'layout-padding\': $ctrl.$mdMedia(\'gt-xs\')}" ng-click="$ctrl.$toggleInfo()" aria-label="Rate info"><div layout="column" layout-align="center center"><div ng-class="{\'text-warn\': $ctrl.rate.type == \'STANDARD\' && $ctrl.rate.cancellationPolicy.flexible, \'text-success\': $ctrl.rate.type == \'STANDARD\' && !$ctrl.rate.cancellationPolicy.flexible, \n\t\t\t\t\t\t\t\'text-blue-sea\': $ctrl.rate.type == \'NOT_REFUNDABLE\'}" class="layout-align-start-center layout-column row-mini layout-padding"><small class="no-padding" ng-if="$ctrl.$$nights != 1"><span translate="reservation.price.for.nights" translate-values="::{count: $ctrl.$$nights}"></span></small><small class="no-padding" ng-if="$ctrl.$$nights == 1"><span translate="reservation.price.for.one.night"></span></small><small class="no-padding" ng-if="$ctrl.rate.amount.initialAmount > 0 && $ctrl.rate.amount.initialAmount > $ctrl.rate.amount.finalAmount"><span class="text-initial" translate="common.from"></span><i><del>{{$ctrl.rate.amount.initialAmount|chCurrency}}</del></i></small><span class="no-padding md-title" ng-switch-when="STANDARD"><strong>{{$ctrl.rate.amount.finalAmount|chCurrency}}</strong></span><span class="no-padding md-title" ng-switch-when="NOT_REFUNDABLE"><strong>{{$ctrl.rate.amount.finalAmount|chCurrency}}</strong></span></div></div><div layout="column" layout-align="center" class="row-mini g"><div layout layout-align="center center" layout-align-gt-sm="start end"><span ng-switch-when="STANDARD" layout><span ng-if="$ctrl.rate.cancellationPolicy.flexible" class="row-mini text-warn" translate="reservation.rate.flexible"></span><span ng-if="!$ctrl.rate.cancellationPolicy.flexible" class="row-mini text-success" translate="reservation.cancellation.free"></span></span><span ng-switch-when="NOT_REFUNDABLE" class="row-mini text-blue-sea" translate="ratesheet.rate.type.notRefundable.abbr"></span><span><md-icon class="mdi mdi-information-outline md-14 material-icons" ng-class="{\'text-warn\': $ctrl.rate.type == \'STANDARD\' && $ctrl.rate.cancellationPolicy.flexible, \n\t\t\t\t\t\t\t\t\'text-success\': $ctrl.rate.type == \'STANDARD\' && !$ctrl.rate.cancellationPolicy.flexible, \'text-blue-sea\': $ctrl.rate.type == \'NOT_REFUNDABLE\'}" aria-hidden="true"></md-icon></span></div><div layout layout-align="center center" layout-align-gt-sm="start end" class="text-gray-light"><small ng-switch-when="STANDARD" layout><span ng-if="$ctrl.rate.cancellationPolicy.flexible"><span translate="reservation.rate.flexible.info.label"></span></span><span ng-if="!$ctrl.rate.cancellationPolicy.flexible"><span translate="reservation.rate.free.info.label"></span></span></small><small ng-switch-when="NOT_REFUNDABLE"><span translate="reservation.rate.not.refundable.info.label"></span></small></div><div ng-if="$ctrl.$$promotion" ng-switch="$ctrl.$$promotion.promotionType" class="layout-gt-sm-row layout-wrap" ng-class="{\'text-center\': !$ctrl.$mdMedia(\'gt-sm\')}"><span ng-switch-when="STANDARD" class="label flex-xs flex-sm label-inline-block text-wrap bg-info"><ch-truncate text="{{$ctrl.$$promotion.name[$ctrl.chRoomCtrl.localeIso]}}" max-length="20" suffix="..."></ch-truncate>&nbsp;<span ng-if="$ctrl.$$promotion.discount.type==\'PERCENTAGE\'">-{{$ctrl.$$promotion.discount.finalAmount}}%</span><span ng-if="$ctrl.$$promotion.discount.type==\'PRICE\'">-{{$ctrl.$$promotion.discount.finalAmount|chCurrency}}</span></span><span ng-switch-when="MINIMUM_STAY" class="label flex-xs flex-sm label-inline-block text-wrap bg-primary-light"><span translate="promotions.promotion.label.minstay.nights" translate-value-count="{{$ctrl.$$promotion.minStay}}"></span>&nbsp;<span ng-if="$ctrl.$$promotion.discount.type==\'PERCENTAGE\'">-{{$ctrl.$$promotion.discount.finalAmount}}%</span><span ng-if="$ctrl.$$promotion.discount.type==\'PRICE\'">-{{$ctrl.$$promotion.discount.finalAmount|chCurrency}}</span></span><span ng-switch-when="BOOK_TODAY" class="label flex-xs flex-sm label-inline-block text-wrap bg-primary"><span translate="promotions.promotion.label.only.today"></span>!&nbsp;<span ng-if="$ctrl.$$promotion.discount.type==\'PERCENTAGE\'">-{{$ctrl.$$promotion.discount.finalAmount}}%</span><span ng-if="$ctrl.$$promotion.discount.type==\'PRICE\'">-{{$ctrl.$$promotion.discount.finalAmount|chCurrency}}</span></span><span ng-switch-when="EARLY_BOOKING" class="label flex-xs flex-sm label-inline-block text-wrap bg-success"><span translate="promotions.early"></span>&nbsp;<span ng-if="$ctrl.$$promotion.discount.type==\'PERCENTAGE\'">-{{$ctrl.$$promotion.discount.finalAmount}}%</span><span ng-if="$ctrl.$$promotion.discount.type==\'PRICE\'">-{{$ctrl.$$promotion.discount.finalAmount|chCurrency}}</span></span><span ng-switch-when="LAST_MINUTE" class="label flex-xs flex-sm label-inline-block text-wrap bg-blue-sea"><span translate="promotions.last.minute"></span>&nbsp;<span ng-if="$ctrl.$$promotion.discount.type==\'PERCENTAGE\'">-{{$ctrl.$$promotion.discount.finalAmount}}%</span><span ng-if="$ctrl.$$promotion.discount.type==\'PRICE\'">-{{$ctrl.$$promotion.discount.finalAmount|chCurrency}}</span></span><span ng-switch-when="LAST_SECOND" class="label flex-xs flex-sm label-inline-block text-wrap bg-warn"><span translate="promotions.last.second"></span>&nbsp;<span ng-if="$ctrl.$$promotion.discount.type==\'PERCENTAGE\'">-{{$ctrl.$$promotion.discount.finalAmount}}%</span><span ng-if="$ctrl.$$promotion.discount.type==\'PRICE\'">-{{$ctrl.$$promotion.discount.finalAmount|chCurrency}}</span></span></div><div ng-if="$ctrl.rate.type == \'STANDARD\' && ($ctrl.$$promotion.onArrival || !$ctrl.rate.cancellationPolicy.flexible)" class="md-margin no-margin-left no-margin-top" ng-class="{\'text-center\': !$ctrl.$mdMedia(\'gt-sm\')}"><span class="label label-sm bg-success"><span translate="reservation.no.advance.payment"></span></span></div></div></div></div><div layout layout-align="end center" ng-class="{\'no-padding-top\': !$ctrl.$mdMedia(\'gt-sm\')}"><div ng-if="!$ctrl.rate.count || $ctrl.rate.count <= 0" class="layout-column flex"><md-button class="border-radius only-border" ng-class="{\'border-warn text-warn\': $ctrl.$$totalCounter.actual > 0 && $ctrl.$$counter.actual > 0 && $ctrl.rate.type == \'STANDARD\' && $ctrl.rate.cancellationPolicy.flexible, \'border-success text-success\': $ctrl.$$totalCounter.actual > 0 && $ctrl.$$counter.actual > 0 && $ctrl.rate.type == \'STANDARD\' && !$ctrl.rate.cancellationPolicy.flexible, \n\t\t\t\t\t\t\t\'border-blue-sea text-blue-sea\': $ctrl.$$totalCounter.actual > 0 && $ctrl.$$counter.actual > 0 && $ctrl.rate.type == \'NOT_REFUNDABLE\', \'text-gray-medium\': $ctrl.$$totalCounter.actual <= 0 || $ctrl.$$counter.actual <= 0}" aria-label="Add room" ng-disabled="$ctrl.$$totalCounter.actual <= 0 || $ctrl.$$counter.actual <= 0" ng-click="$ctrl.$selectRate()"><span translate="common.select"></span></md-button></div><div ng-if="$ctrl.rate.count && $ctrl.rate.count > 0" flex><div class="layout-align-center-center layout-align-gt-sm-end-center layout-row"><small class="text-bold text-gray-light" ng-if="$ctrl.$$totalCounter.actual > 0 && $ctrl.$$counter.actual > 0" translate="room.add.other.one"></small><small class="text-bold text-success text-center" ng-class="{\'text-warn\': $ctrl.rate.type == \'STANDARD\' && $ctrl.rate.cancellationPolicy.flexible, \'text-success\': $ctrl.rate.type == \'STANDARD\' && !$ctrl.rate.cancellationPolicy.flexible, \n\t\t\t  \t\t\t\t\'text-blue-sea\': $ctrl.rate.type == \'NOT_REFUNDABLE\'}" ng-if="$ctrl.$$totalCounter.actual <= 0 || $ctrl.$$counter.actual <= 0" translate="room.last.rate.selected"></small></div><div class="layout-align-center-center layout-align-gt-sm-end-center layout-row"><ch-counter ng-model="$ctrl.rate.count" min="0" btn-class="md-icon-button only-border" btn-active-class="{{$ctrl.rate.type == \'STANDARD\' ? $ctrl.rate.cancellationPolicy.flexible ? \'border-warn\' : \'border-success\' : \'border-blue-sea\'}}" icon-active-class="{{$ctrl.rate.type == \'STANDARD\' ? $ctrl.rate.cancellationPolicy.flexible ? \'text-warn\' : \'text-success\' : \'text-blue-sea\'}}" plus-disabled="$ctrl.$$totalCounter.actual <= 0 || $ctrl.$$counter.actual <= 0" on-plus="$ctrl.$addRate()" on-minus="$ctrl.$removeRate()"></ch-counter></div></div></div></div></md-list-item><div class="layout-row layout-wrap layout-padding-sm text-center"><span ng-if="$ctrl.isBestRate" class="text-success md-subhead"><md-icon class="mdi mdi-check-all text-success animated infinite tada"></md-icon><strong>&nbsp;<span translate="reservation.bestHotelRate.description"></span></strong></span><span ng-if="!$ctrl.isBestRate && $ctrl.$$promotion" ng-switch="$ctrl.$$promotion.promotionType" class="layout-row layout-wrap"><span ng-switch-when="STANDARD|EARLY_BOOKING|MINIMUM_STAY" ng-switch-when-separator="|" class="text-wrap" ng-class="{\'text-info\': $ctrl.$$promotion.promotionType == \'STANDARD\', \'text-primary-light\': $ctrl.$$promotion.promotionType == \'EARLY_BOOKING\',  \'text-success\': $ctrl.$$promotion.promotionType == \'MINIMUM_STAY\'}"><md-icon class="mdi mdi-alarm-check animated infinite tada" ng-class="{\'text-info\': $ctrl.$$promotion.promotionType == \'STANDARD\', \'text-primary-light\': $ctrl.$$promotion.promotionType == \'EARLY_BOOKING\',  \'text-success\': $ctrl.$$promotion.promotionType == \'MINIMUM_STAY\'}"></md-icon><span>&nbsp;<span translate="reservation.promotion.STANDARD.description"></span></span></span><span ng-switch-when="BOOK_TODAY" class="text-wrap text-primary"><md-icon class="mdi mdi-alarm-check text-primary animated infinite tada"></md-icon><span>&nbsp;<span translate="reservation.promotion.BOOK_TODAY.description"></span></span></span><span ng-switch-when="LAST_MINUTE" class="text-wrap text-blue-sea"><md-icon class="mdi mdi-alarm-check text-blue-sea animated infinite tada"></md-icon><span>&nbsp;<span translate="reservation.promotion.LAST_MINUTE.description"></span></span></span><span ng-switch-when="LAST_SECOND" class="text-wrap text-warn"><md-icon class="mdi mdi-alarm-check text-warn animated infinite tada"></md-icon><span>&nbsp;<span translate="reservation.promotion.LAST_SECOND.description"></span></span></span></span><span ng-if="!$ctrl.isBestRate && !$ctrl.$$promotion && $ctrl.rate.type == \'STANDARD\' && !$ctrl.rate.cancellationPolicy.flexible" class="text-success"><md-icon class="mdi mdi-heart-pulse text-success animated infinite tada"></md-icon><span>&nbsp;<span translate="reservation.rate.free.text.description"></span></span></span><span ng-if="!$ctrl.isBestRate && !$ctrl.$$promotion && $ctrl.rate.type == \'NOT_REFUNDABLE\' && $ctrl.rate.savingAmount.finalAmount" class="text-blue-sea"><md-icon class="mdi mdi-auto-fix text-blue-sea animated infinite tada"></md-icon><span>&nbsp;<span translate="reservation.rate.not.refundable.text.description" translate-value-price="{{$ctrl.rate.savingAmount.finalAmount|chCurrency}}"></span></span></span></div><div id="{{\'ch-room-\' + $ctrl.chRoomCtrl.$$index + \'-rates-\' + $ctrl.$$index}}" ng-show="$ctrl.$$showInfo" layout="column" layout-padding ng-class="{\'animated fadeIn\': $ctrl.$$showInfo}" class="text-gray-light text-small"><div><div class="md-margin no-margin-top no-margin-left no-margin-right"><ch-payment-policy-info rate-type="$ctrl.rate.type" cancellation-policy="$ctrl.rate.cancellationPolicy" city="$ctrl.chRoomCtrl.city" offset="$ctrl.chRoomCtrl.offset"></ch-payment-policy-info></div><div layout="column"><span><span ng-if="$ctrl.$$nights == 1" translate="reservation.rates.info.night"></span><span ng-if="$ctrl.$$nights > 1" translate="reservation.rates.info.nights" translate-value-count="{{$ctrl.$$nights}}"></span></span><span ng-if="$ctrl.$$vatTax"><strong><span translate="common.included"></span>:</strong>&nbsp;{{$ctrl.$$vatTax}}%&nbsp;<span translate="billing.vat.tax"></span></span><span ng-if="$ctrl.$$cityTax"><strong><span translate="common.included.not"></span>:</strong>&nbsp;{{$ctrl.$$cityTax|chCurrency}}&nbsp;<span translate="reservation.cityTax.description"></span></span></div><div ng-if="$ctrl.rate.type == \'STANDARD\' && $ctrl.$$promotion.onArrival" class="bg-success text-white layout-margin"><md-icon md-font-set="fas" class="fas fa-h-square md-18 text-white"></md-icon><span translate="reservation.policy.payment.onArrival"></span></div><div ng-if="$ctrl.paymentSettings" layout="column" class="md-padding no-padding-left"><strong><span translate="payment.methods.accepted"></span>:</strong><span ng-if="$ctrl.$$promotion.paymentMethod.length" ng-repeat="paymentMethod in $ctrl.$$promotion.paymentMethod track by $index" ng-switch="paymentMethod.type" class="layout-margin ng-scope layout-wrap layout-row layout-align-start-center"><span ng-switch-when="PAYPAL" ng-if="$ctrl.paymentSettings.paypal" class="no-margin-left"><md-icon class="pf pf-paypal md-18"></md-icon><md-tooltip><span translate="payment.type.PAYPAL"></span></md-tooltip></span><span ng-switch-when="CREDIT_CARD" ng-if="$ctrl.paymentSettings.creditCards.length"><span ng-repeat="type in $ctrl.paymentSettings.creditCards track by $index" ng-switch="type.circuit"><span ng-switch-when="VISA" class="layout-margin no-margin-left"><md-icon class="pf pf-visa md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.VISA"></span></md-tooltip></span><span ng-switch-when="MASTERCARD" class="layout-margin no-margin-left"><md-icon class="pf pf-mastercard md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.MASTERCARD"></span></md-tooltip></span><span ng-switch-when="AMEX" class="layout-margin no-margin-left"><md-icon class="pf pf-american-express md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.AMEX"></span></md-tooltip></span><span ng-switch-when="BIT_COIN" class="layout-margin no-margin-left"><md-icon class="pf pf-bitcoin md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.BIT_COIN"></span></md-tooltip></span><span ng-switch-when="CARTA_SI" class="layout-margin no-margin-left"><md-icon class="pf pf-carta-si md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.CARTA_SI"></span></md-tooltip></span><span ng-switch-when="DINERS_CLUB" class="layout-margin no-margin-left"><md-icon class="pf pf-diners md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.DINERS_CLUB"></span></md-tooltip></span><span ng-switch-when="DISCOVER" class="layout-margin no-margin-left"><md-icon class="pf pf-discover md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.DISCOVER"></span></md-tooltip></span><span ng-switch-when="JCB" class="layout-margin no-margin-left"><md-icon class="pf pf-jcb md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.JCB"></span></md-tooltip></span><span ng-switch-when="UNION_PAY" class="layout-margin no-margin-left"><md-icon class="pf pf-unionpay md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.UNION_PAY"></span></md-tooltip></span></span></span><span ng-switch-when="OTHER_CARD" ng-if="$ctrl.paymentSettings.otherCards.length"><span ng-repeat="type in $ctrl.paymentSettings.otherCards track by $index" ng-switch="type.circuit"><span ng-switch-when="VISA_ELECTRON" class="layout-margin no-margin-left"><md-icon class="pf pf-visa-electron md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.VISA_ELECTRON"></span></md-tooltip></span><span ng-switch-when="V_PAY" class="layout-margin no-margin-left"><md-icon class="pf pf-visa md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.V_PAY"></span></md-tooltip></span><span ng-switch-when="MAESTRO" class="layout-margin no-margin-left"><md-icon class="pf pf-maestro md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.MAESTRO"></span></md-tooltip></span><span ng-switch-when="CIRRUS" class="layout-margin no-margin-left"><md-icon class="pf pf-cirrus md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.CIRRUS"></span></md-tooltip></span><span ng-switch-when="POSTEPAY" class="layout-margin no-margin-left"><md-icon class="pf pf-postepay md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.POSTEPAY"></span></md-tooltip></span><span ng-switch-when="APPLE_PAY" class="layout-margin no-margin-left"><md-icon class="pf pf-apple-pay md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.APPLE_PAY"></span></md-tooltip></span><span ng-switch-when="PAGSEGURO" class="layout-margin no-margin-left"><md-icon class="pf pf-pagseguro md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.PAGSEGURO"></span></md-tooltip></span><span ng-switch-when="BANCONTACT" class="layout-margin no-margin-left"><md-icon class="pf pf-bancontact-mister-cash md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.BANCONTACT"></span></md-tooltip></span><span ng-switch-when="BANCOMAT" class="layout-margin no-margin-left"><md-icon class="pf pf-card md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.BANCOMAT"></span></md-tooltip></span></span></span></span><span ng-if="!$ctrl.$$promotion.paymentMethod" class="layout-margin ng-scope layout-wrap layout-row layout-align-start-center"><span ng-if="$ctrl.paymentSettings.paypal" class="layout-margin no-margin-left"><md-icon class="pf pf-paypal md-18"></md-icon><md-tooltip><span translate="payment.type.PAYPAL"></span></md-tooltip></span><span ng-if="$ctrl.paymentSettings.creditCards.length" class="no-margin"><span ng-repeat="type in $ctrl.paymentSettings.creditCards track by $index" ng-switch="type.circuit"><span ng-switch-when="VISA" class="layout-margin no-margin-left"><md-icon class="pf pf-visa md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.VISA"></span></md-tooltip></span><span ng-switch-when="MASTERCARD" class="layout-margin no-margin-left"><md-icon class="pf pf-mastercard md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.MASTERCARD"></span></md-tooltip></span><span ng-switch-when="AMEX" class="layout-margin no-margin-left"><md-icon class="pf pf-american-express md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.AMEX"></span></md-tooltip></span><span ng-switch-when="BIT_COIN" class="layout-margin no-margin-left"><md-icon class="pf pf-bitcoin md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.BIT_COIN"></span></md-tooltip></span><span ng-switch-when="CARTA_SI" class="layout-margin no-margin-left"><md-icon class="pf pf-carta-si md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.CARTA_SI"></span></md-tooltip></span><span ng-switch-when="DINERS_CLUB" class="layout-margin no-margin-left"><md-icon class="pf pf-diners md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.DINERS_CLUB"></span></md-tooltip></span><span ng-switch-when="DISCOVER" class="layout-margin no-margin-left"><md-icon class="pf pf-discover md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.DISCOVER"></span></md-tooltip></span><span ng-switch-when="JCB" class="layout-margin no-margin-left"><md-icon class="pf pf-jcb md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.JCB"></span></md-tooltip></span><span ng-switch-when="UNION_PAY" class="layout-margin no-margin-left"><md-icon class="pf pf-unionpay md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.UNION_PAY"></span></md-tooltip></span></span></span><span ng-if="$ctrl.paymentSettings.otherCards.length" class="no-margin"><span ng-repeat="type in $ctrl.paymentSettings.otherCards track by $index" ng-switch="type.circuit"><span ng-switch-when="VISA_ELECTRON" class="layout-margin no-margin-left"><md-icon class="pf pf-visa-electron md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.VISA_ELECTRON"></span></md-tooltip></span><span ng-switch-when="V_PAY" class="layout-margin no-margin-left"><md-icon class="pf pf-visa md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.V_PAY"></span></md-tooltip></span><span ng-switch-when="MAESTRO" class="layout-margin no-margin-left"><md-icon class="pf pf-maestro md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.MAESTRO"></span></md-tooltip></span><span ng-switch-when="CIRRUS" class="layout-margin no-margin-left"><md-icon class="pf pf-cirrus md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.CIRRUS"></span></md-tooltip></span><span ng-switch-when="POSTEPAY" class="layout-margin no-margin-left"><md-icon class="pf pf-postepay md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.POSTEPAY"></span></md-tooltip></span><span ng-switch-when="APPLE_PAY" class="layout-margin no-margin-left"><md-icon class="pf pf-apple-pay md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.APPLE_PAY"></span></md-tooltip></span><span ng-switch-when="PAGSEGURO" class="layout-margin no-margin-left"><md-icon class="pf pf-pagseguro md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.PAGSEGURO"></span></md-tooltip></span><span ng-switch-when="BANCONTACT" class="layout-margin no-margin-left"><md-icon class="pf pf-bancontact-mister-cash md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.BANCONTACT"></span></md-tooltip></span><span ng-switch-when="BANCOMAT" class="layout-margin no-margin-left"><md-icon class="pf pf-card md-18"></md-icon><md-tooltip><span translate="payment.type.carrier.BANCOMAT"></span></md-tooltip></span></span></span></span></div></div><div><h4 class="md-body-1 no-margin-bottom no-margin-top"><strong translate="reservation.rates.daily.details"></strong></h4><div layout layout-wrap layout-padding-sm><div ng-repeat="dailyRate in $ctrl.rate.dailyRates track by $index" layout="column" layout-padding-sm layout-align="start center"><strong class="no-padding-bottom">{{dailyRate.date|date:"shortDate"}}</strong><div class="no-padding-bottom row-mini" layout="column" layout-align="center center"><div ng-if="dailyRate.promotion" ng-switch="dailyRate.promotion.promotionType"><span ng-switch-when="STANDARD" class="label label-xs bg-info"><ch-truncate text="{{dailyRate.promotion.name[$ctrl.chRoomCtrl.localeIso]}}" max-length="20" suffix="..."></ch-truncate>&nbsp;<span ng-if="dailyRate.promotion.discount.type==\'PERCENTAGE\'">-{{dailyRate.promotion.discount.finalAmount}}%</span><span ng-if="dailyRate.promotion.discount.type==\'PRICE\'">-{{dailyRate.promotion.discount.finalAmount|chCurrency}}</span></span><span ng-switch-when="MINIMUM_STAY" class="label label-xs bg-primary-light"><span translate="promotions.promotion.label.minstay.nights" translate-value-count="{{promotion.minStay}}"></span>&nbsp;<span ng-if="dailyRate.promotion.discount.type==\'PERCENTAGE\'">-{{dailyRate.promotion.discount.finalAmount}}%</span><span ng-if="dailyRate.promotion.discount.type==\'PRICE\'">-{{dailyRate.promotion.discount.finalAmount|chCurrency}}</span></span><span ng-switch-when="BOOK_TODAY" class="label label-xs bg-primary"><span translate="promotions.promotion.label.only.today"></span>!&nbsp;<span ng-if="dailyRate.promotion.discount.type==\'PERCENTAGE\'">-{{dailyRate.promotion.discount.finalAmount}}%</span><span ng-if="dailyRate.promotion.discount.type==\'PRICE\'">-{{dailyRate.promotion.discount.finalAmount|chCurrency}}</span></span><span ng-switch-when="EARLY_BOOKING" class="label label-xs bg-success"><span translate="promotions.early"></span>&nbsp;<span ng-if="dailyRate.promotion.discount.type==\'PERCENTAGE\'">-{{dailyRate.promotion.discount.finalAmount}}%</span><span ng-if="dailyRate.promotion.discount.type==\'PRICE\'">-{{dailyRate.promotion.discount.finalAmount|chCurrency}}</span></span><span ng-switch-when="LAST_MINUTE" class="label label-xs bg-blue-sea"><span translate="promotions.last.minute"></span>&nbsp;<span ng-if="dailyRate.promotion.discount.type==\'PERCENTAGE\'">-{{dailyRate.promotion.discount.finalAmount}}%</span><span ng-if="dailyRate.promotion.discount.type==\'PRICE\'">-{{dailyRate.promotion.discount.finalAmount|chCurrency}}</span></span><span ng-switch-when="LAST_SECOND" class="label label-xs bg-warn"><span translate="promotions.last.second"></span>&nbsp;<span ng-if="dailyRate.promotion.discount.type==\'PERCENTAGE\'">-{{dailyRate.promotion.discount.finalAmount}}%</span><span ng-if="dailyRate.promotion.discount.type==\'PRICE\'">-{{dailyRate.promotion.discount.finalAmount|chCurrency}}</span></span></div><small class="text-gray-light" ng-if="dailyRate.amount.initialAmount > 0 && dailyRate.amount.initialAmount > dailyRate.amount.finalAmount"><i><del>{{dailyRate.amount.initialAmount|chCurrency}}</del></i></small></div><div class="no-padding-top">{{dailyRate.amount.finalAmount|chCurrency}}</div></div></div></div><div class="no-padding"><div class="md-margin no-margin-top no-margin-left no-margin-right"><ch-cancellation-policy-info rate-type="$ctrl.rate.type" cancellation-policy="$ctrl.rate.cancellationPolicy" city="$ctrl.chRoomCtrl.city" offset="$ctrl.chRoomCtrl.offset" title="{{$ctrl.rate.cancellationPolicy.cancellation.deposit ? (\'reservation.deposit.conditions\'|translate) : null}}"></ch-cancellation-policy-info><ch-no-show-policy-info ng-if="$ctrl.rate.cancellationPolicy && !$ctrl.rate.cancellationPolicy.cancellation.deposit" no-show-policy="$ctrl.rate.noShowPolicy"></ch-no-show-policy-info></div></div><md-button class="text-gray-light auto-height row-mini" ng-click="$ctrl.$toggleInfo(false)" aria-label="Hide info"><md-icon class="mdi mdi-chevron-up text-gray-light md-18"></md-icon><small translate="common.hide"></small></md-button></div><md-divider ng-if="!$last"></md-divider></div>'),t.put("/tpls/service-sold-edit/service-sold-edit.tpl",'<div><ng-form name="serviceSoldEditForm"><div layout="column" layout-padding-sm><div flex layout layout-padding-sm layout-align="start center" class="no-padding"><div class="no-padding" ng-if="$ctrl.$$servicesIcons[$ctrl.serviceSold.service.type.nameKey]"><md-icon class="material-icons {{$ctrl.$$servicesIcons[$ctrl.serviceSold.service.type.nameKey]}} md-30 circle-icon bg-gray-lighter text-gray-light"></md-icon></div><div ng-if="!$ctrl.$$servicesIcons[$ctrl.serviceSold.service.type.nameKey]"><md-icon class="mdi mdi-check md-30 circle-icon bg-gray-lighter text-gray-light"></md-icon></div><div flex layout layout-wrap layout-align="start center" layout-padding-sm><div flex><strong><span translate="{{$ctrl.serviceSold.service.type.nameKey}}"></span></strong></div><div layout="column" layout-align="center center" class="text-center"><strong ng-if="$ctrl.serviceSold.amount" class="md-headline" ng-class="{\'text-striked\': $ctrl.serviceSold.$$removed}"><span ng-if="$ctrl.serviceSold.amount.finalAmount > 0">{{$ctrl.serviceSold.amount.finalAmount|chCurrency}}</span><span ng-if="$ctrl.serviceSold.amount.finalAmount == 0 && $ctrl.serviceSold.service.paymentType != \'PER_PERSON\'" translate="common.free"></span></strong><small class="text-gray-light no-padding-bottom"><span ng-if="$ctrl.nights > 1" translate="reservation.price.for.nights" translate-values="{count: $ctrl.nights}"></span><span ng-if="$ctrl.nights == 1" translate="reservation.price.for.one.night"></span></small></div></div></div><div ng-if="$ctrl.serviceSold.service.description[$ctrl.Lang.current.iso]"><p class="text-gray-light no-margin-bottom"><span>{{$ctrl.serviceSold.service.description[$ctrl.Lang.current.iso]}}</span></p></div><div class="md-padding no-padding-bottom no-padding-left no-padding-right text-small"><div><span><span translate="common.price.details"></span>:</span></div><div ng-switch="$ctrl.serviceSold.service.paymentType"><div ng-switch-when="FREE"><span class="text-success" translate="common.free"></span></div><div ng-switch-when="SINGLE" class="text-gray-light"><span ng-if="$ctrl.$$priceDetails.amount.finalAmount > 0"><span>{{$ctrl.$$priceDetails.amount.finalAmount|chCurrency}}</span></span><span ng-if="$ctrl.$$priceDetails.amount.finalAmount <= 0" translate="service.type.payment.free"></span><div class="text-italic text-gray-light text-lowercase" ng-switch="$ctrl.serviceSold.service.frequency"><span class="text-initial" translate="common.price.is.intend"></span><span ng-switch-when="DAILY">&nbsp;<span translate="date.frequency.daily"></span></span><span ng-switch-when="MONTHLY">&nbsp;<span translate="date.frequency.monthly"></span></span><span ng-switch-when="YEARLY">&nbsp;<span translate="date.frequency.yearly"></span></span><span ng-switch-when="LUMP_SUM">&nbsp;<span translate="common.entire.stay"></span></span></div></div><div ng-switch-when="PER_PERSON" class="text-gray-light text-lowercase"><div><span ng-if="$ctrl.$$priceDetails.adults.amount.finalAmount > 0"><span>{{$ctrl.$$priceDetails.adults.amount.finalAmount|chCurrency}}&nbsp;</span><span translate="people.adult.per"></span>,&nbsp;</span><span ng-if="!$ctrl.$$priceDetails.adults.amount.finalAmount"><span class="text-lowercase"><span translate="people.adults"></span>&nbsp;</span><span translate="service.type.payment.free"></span>,&nbsp;</span><span ng-if="$ctrl.$$priceDetails.boys.amount.finalAmount > 0"><span>{{$ctrl.$$priceDetails.boys.amount.finalAmount|chCurrency}}&nbsp;</span><span translate="people.boy.per"></span>,&nbsp;</span><span ng-if="!$ctrl.$$priceDetails.boys.amount.finalAmount"><span class="text-lowercase"><span translate="people.boys"></span>&nbsp;</span><span translate="service.type.payment.free"></span>,&nbsp;</span><span ng-if="$ctrl.$$priceDetails.children.amount.finalAmount > 0"><span>{{$ctrl.$$priceDetails.children.amount.finalAmount|chCurrency}}&nbsp;</span><span translate="people.child.per"></span>,&nbsp;</span><span ng-if="!$ctrl.$$priceDetails.children.amount.finalAmount"><span class="text-lowercase"><span translate="people.children"></span>&nbsp;</span><span translate="service.type.payment.free"></span>,&nbsp;</span><span ng-if="$ctrl.$$priceDetails.kids.amount.finalAmount > 0"><span>{{$ctrl.$$priceDetails.kids.amount.finalAmount|chCurrency}}&nbsp;</span><span translate="people.kid.per"></span></span><span ng-if="!$ctrl.$$priceDetails.kids.amount.finalAmount"><span class="text-lowercase"><span translate="people.kids"></span>&nbsp;</span><span translate="service.type.payment.free"></span></span></div><div class="text-italic text-gray-light text-lowercase" ng-switch="$ctrl.serviceSold.service.frequency"><span class="text-initial" translate="common.price.is.intend"></span>&nbsp;<span translate="service.type.payment.person"></span><span ng-switch-when="DAILY">&nbsp;<span translate="date.frequency.daily"></span></span><span ng-switch-when="MONTHLY">&nbsp;<span translate="date.frequency.monthly"></span></span><span ng-switch-when="YEARLY">&nbsp;<span translate="date.frequency.yearly"></span></span><span ng-switch-when="LUMP_SUM">&nbsp;<span translate="common.entire.stay"></span></span></div></div></div></div></div><div><div ng-if="$ctrl.serviceSold.service.paymentType == \'PER_PERSON\'"><div class="layout-margin no-margin-left"><em class="md-body-2 text-bold no-margin-left" translate="service.people.question"></em><div class="no-margin text-gray-light text-italic"><md-icon class="mdi mdi-information-outline md-14"></md-icon><small translate="service.price.varies.to.people"></small></div></div><div><ch-people-counters name="people" ng-model="$ctrl.serviceSold.people" min="1" limits="$ctrl.peopleLimits" age-ranges="$ctrl.peopleAgeRanges" on-change="$ctrl.$onPeopleChange($people)"></ch-people-counters></div><div ng-show="serviceSoldEditForm.people.$dirty" ng-messages="serviceSoldEditForm.people.$error" class="md-padding no-padding-top text-danger text-small"><div ng-message="min"><span translate="error.service.no.people"></span></div></div></div><div ng-if="$ctrl.serviceSold.service.maxCount > 1 || $ctrl.serviceSold.service.maxCount == -1"><ch-counter flexible="true" count-class="bg-white only-border" field-name="count" label="{{\'common.book\'|translate}}" label-direction="left" ng-model="$ctrl.serviceSold.count" max="$ctrl.serviceSold.service.maxCount" min="1"></ch-counter><div ng-show="serviceSoldEditForm.count.$dirty" ng-messages="serviceSoldEditForm.count.$error" class="md-padding no-padding-top text-danger text-small"><div ng-message="min"><span translate="error.service.min" translate-value-count="1"></span></div><div ng-message="max"><span translate="error.service.max" translate-value-count="{{$ctrl.serviceSold.service.maxCount}}"></span></div></div></div></div><div layout="column" layout-gt-sm="row" layout-padding-sm layout-align="center center"><md-button ng-click="$ctrl.$cancel()" aria-label="Cancel service edit"><md-icon class="mdi mdi-close md-24"></md-icon><span translate="common.cancel"></span></md-button><md-button class="bg-success text-white" ng-click="$ctrl.$confirm()" ng-disabled="serviceSoldEditForm.$invalid" aria-label="Confirm service edit"><md-icon class="mdi mdi-check md-24 text-white"></md-icon><span translate="common.confirm"></span></md-button></div></ng-form></div>'),t.put("/tpls/simple-stepper/simple-step.tpl",'<div class="ch-simple-step" ng-class="{\'ch-active\': $ctrl.$active }"><ch-simple-stepper-header class="ch-simple-stepper-header ch-simple-stepper-vertical"><md-button class="ch-simple-stepper-indicator" ng-class="{\n\t        \'ch-active\': $ctrl.$$stepNumber === $ctrl.chStepperCtrl.$$currentStep.index,\n\t        \'ch-completed\': $ctrl.$completed,\n\t        \'ch-error\': $ctrl.hasError,\n\t        \'ch-simple-stepper-optional\': $ctrl.optional || $ctrl.hasError\n        \t}" ng-click="$ctrl.chStepperCtrl.goto($ctrl.$$stepNumber)" ng-disabled="($ctrl.chStepperCtrl.linear && ($ctrl.$$stepNumber > $ctrl.chStepperCtrl.$$currentStep.index || !$ctrl.chStepperCtrl.previousStepClick)) || $ctrl.ngDisabled" aria-label="Go to step"><div class="ch-simple-stepper-indicator-wrapper"><div class="ch-simple-stepper-number" ng-hide="$ctrl.hasError"><span ng-if="!$ctrl.$completed"><span ng-if="!$ctrl.iconClass" ng-bind="$ctrl.$$stepNumber+1"></span><span ng-if="$ctrl.iconClass"><md-icon class="{{$ctrl.iconClass}}"></md-icon></span></span><span ng-if="$ctrl.$completed"><md-icon class="ch-simple-stepper-icon material-icons mdi" ng-class="$ctrl.iconCompletedClass ? $ctrl.iconCompletedClass : \'mdi-check md-18\'"></md-icon></span></div><div class="ch-simple-stepper-error-indicator" ng-show="$ctrl.hasError"><md-icon class="steppers-warning mdi mdi-alert md-24"></md-icon></div><div class="ch-simple-stepper-title"><div><span ng-show="!$ctrl.$completed || !$ctrl.completedLabel" ng-bind-html="$ctrl.label"></span><span ng-if="$ctrl.completedLabel" ng-show="$ctrl.$completed" ng-bind-html="$ctrl.completedLabel"></span><small ng-if="$ctrl.optional" ng-show="!$ctrl.hasError">&nbsp;(<span ng-bind-html="$ctrl.optionalLabel"></span>)</small></div><div class="ch-simple-stepper-subtitle"><span ng-if="$ctrl.subtitle" ng-show="!$ctrl.$completed || !$ctrl.completedSubtitle" ng-bind-html="$ctrl.subtitle"></span><span ng-if="$ctrl.completedSubtitle" ng-show="$ctrl.$completed" ng-bind-html="$ctrl.completedSubtitle"></span></div><small class="ch-simple-stepper-error-message" ng-show="$ctrl.hasError" ng-bind-html="$ctrl.message"></small></div></div></md-button><div class="ch-simple-stepper-feedback-message" ng-show="$ctrl.chStepperCtrl.hasFeedback"><span ng-bind-html="$ctrl.chStepperCtrl.feedbackMessage"></span></div></ch-simple-stepper-header><ch-simple-stepper-scope layout="column" class="ch-simple-stepper-scope" ng-if="$ctrl.$active" ng-transclude></ch-simple-stepper-scope></div>'),t.put("/tpls/simple-stepper/simple-stepper.tpl","<div flex class=\"ch-simple-stepper\" ng-class=\"{ \n    'ch-simple-stepper-linear': $ctrl.linear, \n    'ch-simple-stepper-alternative': $ctrl.alternative,\n    'ch-simple-stepper-vertical': $ctrl.vertical,\n    'ch-simple-stepper-mobile-step-text': $ctrl.mobileMode,\n    'ch-simple-stepper-has-feedback': $ctrl.hasFeedback\n    }\"><div class=\"ch-simple-stepper-header-region\"><ch-simple-stepper-header class=\"ch-simple-stepper-header ch-simple-stepper-horizontal ch-whiteframe-1dp\"><md-button class=\"ch-simple-stepper-indicator\" ng-repeat=\"($stepNumber, $step) in $ctrl.$$steps track by $index\" ng-class=\"{\n                'ch-active': $stepNumber === $ctrl.$$currentStep.index,\n                'ch-completed': $step.$completed,\n                'ch-error': $step.hasError,\n                'ch-simple-stepper-optional': $step.optional || $step.hasError\n"+'            \t}" ng-click="$ctrl.goto($stepNumber)" ng-disabled="($ctrl.linear && ($stepNumber > $ctrl.$$currentStep.index || !$ctrl.previousStepClick)) || $step.ngDisabled" aria-label="Go to step"><div class="ch-simple-stepper-indicator-wrapper"><div class="ch-simple-stepper-number" ng-hide="$step.hasError"><span ng-if="!$step.$completed"><span ng-if="!$step.iconClass" ng-bind="$stepNumber+1"></span><span ng-if="$step.iconClass"><md-icon class="{{$step.iconClass}}"></md-icon></span></span><span ng-if="$step.$completed"><md-icon class="ch-simple-stepper-icon material-icons mdi" ng-class="$step.iconCompletedClass ? $step.iconCompletedClass : \'mdi-check md-18\'"></md-icon></span></div><div class="ch-simple-stepper-error-indicator" ng-show="$step.hasError"><md-icon class="steppers-warning mdi mdi-alert md-24"></md-icon></div><div class="ch-simple-stepper-title"><div><span ng-show="!$step.$completed || !$step.completedLabel" ng-bind-html="$step.label"></span><span ng-if="$step.completedLabel" ng-show="$step.$completed" ng-bind-html="$step.completedLabel"></span><small ng-if="$step.optional" ng-show="!$step.hasError">&nbsp;(<span ng-bind-html="$step.optionalLabel"></span>)</small></div><div class="ch-simple-stepper-subtitle"><span ng-if="$step.subtitle" ng-show="!$step.$completed || !$step.completedSubtitle" ng-bind-html="$step.subtitle"></span><span ng-if="$step.completedSubtitle" ng-show="$step.$completed" ng-bind-html="$step.completedSubtitle"></span></div><small class="ch-simple-stepper-error-message" ng-show="$step.hasError" ng-bind-html="$step.message"></small></div></div></md-button></ch-simple-stepper-header><ch-simple-stepper-mobile-header class="ch-simple-stepper-mobile-header"><md-toolbar flex="none" class="ch-whiteframe-1dp" style="background: #f6f6f6 !important; color: #202020 !important"><div class="md-toolbar-tools ch-simple-stepper-indicator" ng-class="{\n                \t\'ch-error\': $ctrl.$$currentStep.hasError,\n                \t\'ch-simple-stepper-optional\': $ctrl.$$currentStep.optional || $ctrl.$$currentStep.hasError}"><div class="ch-simple-stepper-indicator-wrapper"><div class="ch-simple-stepper-error-indicator" ng-show="$ctrl.$$currentStep.hasError"><md-icon class="steppers-warning mdi mdi-alert md-18"></md-icon></div><div class="ch-simple-stepper-title"><div><span class="ch-simple-stepper-step-counter-label"><span ng-bind-html="$ctrl.labelStep"></span>&nbsp;<span ng-bind-html="$ctrl.$$currentStep.index+1"></span>&nbsp;<span ng-bind-html="$ctrl.labelOf"></span>&nbsp;<span ng-bind-html="$ctrl.$$steps.length"></span>:&nbsp;</span><span><span ng-bind-html="$ctrl.$$currentStep.label"></span><small ng-if="$ctrl.$$currentStep.optional" ng-show="!$ctrl.$$currentStep.hasError">&nbsp;(<span ng-bind-html="$ctrl.$$currentStep.optionalLabel"></span>)</small></span></div><div class="ch-simple-stepper-subtitle"><span ng-if="$ctrl.$$currentStep.subtitle" ng-bind-html="$ctrl.$$currentStep.subtitle"></span></div><small class="ch-simple-stepper-error-message" ng-show="$ctrl.$$currentStep.hasError" ng-bind-html="$ctrl.$$currentStep.message"></small></div></div></div></md-toolbar></ch-simple-stepper-mobile-header><div class="ch-simple-stepper-feedback-message" ng-show="$ctrl.hasFeedback"><span ng-bind-html="$ctrl.feedbackMessage"></span></div></div><ch-simple-stepper-content class="ch-simple-stepper-content" ng-transclude></ch-simple-stepper-content><div class="ch-simple-stepper-overlay"></div></div>'),t.put("/tpls/value-input/value-input.tpl",'<ng-form name="chValueForm"><div layout layout-padding class="no-padding"><div ng-if="!$ctrl.$$manualCount"><md-input-container md-no-float><md-select name="count" ng-model="$ctrl.ngModel.count" ng-required="$ctrl.ngRequired" ng-readonly="$ctrl.readonly" ng-change="$ctrl.$update()" aria-label="Value count" ng-disabled="$ctrl.ngDisabled"><md-option ng-repeat="count in $ctrl.$$counts track by $index" ng-value="count.value" ng-disabled="count.disabled" ng-selected="$ctrl.$$counts.length == 1 || $ctrl.ngModel.count == count.value || (!$ctrl.ngModel.count && $first)"><span ng-bind="count.value"></span></md-option><md-option ng-click="$ctrl.$toggleManualCount()" aria-label="Open manual count input"><span translate-once="common.other"></span></md-option></md-select><div ng-messages="chValueForm.count.$error"><div ng-message="required"><span translate-once="error.required"></span></div></div></md-input-container></div><div ng-if="$ctrl.$$manualCount"><md-input-container md-no-float class="md-icon-right"><input type="number" name="count" placeholder="{{\'common.value\'|translate}}" ng-model="$ctrl.ngModel.count" ng-min="$ctrl.ngMin" ng-step="$ctrl.ngStep" ng-max="$ctrl.ngMax" ng-required="$ctrl.ngRequired" ng-readonly="$ctrl.ngReadonly" ng-change="$ctrl.$update()" ng-disabled="$ctrl.ngDisabled"><md-icon class="mdi mdi-close md-24 clickable" ng-click="$ctrl.$toggleManualCount()" aria-label="Close manual count input"><md-tooltip><span translate-once="common.cancel"></span></md-tooltip></md-icon><div ng-messages="chValueForm.count.$error"><div ng-message="required"><span translate-once="error.required"></span></div><div ng-message="min"><span translate="error.field.min" translate-value-num="{{$ctrl.ngMin}}"></span></div><div ng-message="max"><span translate="error.field.min" translate-value-num="{{$ctrl.ngMax}}"></span></div><div ng-message="step"><span translate-once="error.filed.invalid"></span></div></div></md-input-container></div><div ng-if="!$ctrl.hideUnit"><md-input-container md-no-float><md-select name="unit" ng-model="$ctrl.ngModel.unit" ng-required="$ctrl.ngRequired" ng-readonly="$ctrl.readonly" ng-disabled="$ctrl.ngDisabled" ng-change="$ctrl.$update()" aria-label="Value unit"><md-option ng-repeat="unit in $ctrl.$$units track by $index" ng-value="unit.value" ng-disabled="unit.disabled" ng-selected="$ctrl.$$units.length == 1 || $ctrl.ngModel.unit == unit.value || (!$ctrl.ngModel.unit && $first)"><span ng-switch="unit.value"><span ng-switch-when="NUMBERS"><span ng-show="$ctrl.ngModel.count == 1" translate-once="common.unit"></span><span ng-show="$ctrl.ngModel.count != 1" translate-once="common.units"></span></span><span ng-switch-when="HOURS"><span ng-show="$ctrl.ngModel.count == 1" translate-once="date.hour"></span><span ng-show="$ctrl.ngModel.count != 1" translate-once="date.hours"></span></span><span ng-switch-when="DAYS"><span ng-show="$ctrl.ngModel.count == 1" translate-once="date.day"></span><span ng-show="$ctrl.ngModel.count != 1" translate-once="date.days"></span></span><span ng-switch-when="NIGHTS"><span ng-show="$ctrl.ngModel.count == 1" translate-once="common.night"></span><span ng-show="$ctrl.ngModel.count != 1" translate-once="common.nights"></span></span><span ng-switch-when="WEEKS"><span ng-show="$ctrl.ngModel.count == 1" translate-once="date.week"></span><span ng-show="$ctrl.ngModel.count != 1" translate-once="date.weeks"></span></span><span ng-switch-when="MONTHS"><span ng-show="$ctrl.ngModel.count == 1" translate-once="date.month"></span><span ng-show="$ctrl.ngModel.count != 1" translate-once="date.months"></span></span><span ng-switch-when="YEARS"><span ng-show="$ctrl.ngModel.count == 1" translate-once="date.year"></span><span ng-show="$ctrl.ngModel.count != 1" translate-once="date.years"></span></span></span></md-option></md-select><div ng-messages="chValueForm.unit.$error"><div ng-message="required"><span translate-once="error.required"></span></div></div></md-input-container></div></div></ng-form>'),t.put("/tpls/value/value.tpl",'<span ng-switch="$ctrl.value.unit" class="text-lowercase"><span ng-bind="$ctrl.value.count"></span>&nbsp;<span ng-switch-when="NUMBERS"><span ng-show="$ctrl.value.count == 1" translate="common.unit"></span><span ng-show="$ctrl.value.count != 1" translate="common.units"></span></span><span ng-switch-when="HOURS"><span ng-show="$ctrl.value.count == 1" translate="date.hour"></span><span ng-show="$ctrl.value.count != 1" translate="date.hours"></span></span><span ng-switch-when="DAYS"><span ng-show="$ctrl.value.count == 1" translate="date.day"></span><span ng-show="$ctrl.value.count != 1" translate="date.days"></span></span><span ng-switch-when="NIGHTS"><span ng-show="$ctrl.value.count == 1" translate="common.night"></span><span ng-show="$ctrl.value.count != 1" translate="common.nights"></span></span><span ng-switch-when="WEEKS"><span ng-show="$ctrl.value.count == 1" translate="date.week"></span><span ng-show="$ctrl.value.count != 1" translate="date.weeks"></span></span><span ng-switch-when="MONTHS"><span ng-show="$ctrl.value.count == 1" translate="date.month"></span><span ng-show="$ctrl.value.count != 1" translate="date.months"></span></span><span ng-switch-when="YEARS"><span ng-show="$ctrl.value.count == 1" translate="date.year"></span><span ng-show="$ctrl.value.count != 1" translate="date.years"></span></span></span>'),t.put("/tpls/wizard/wizard-step-done.tpl",'<div ng-if="!$ctrl.$$step.$active" flex class="md-padding" ng-class="{\'animated fadeInUp\': $ctrl.chWizardStepsDoneContentCtrl.chWizardCtrl.direction == \'vertical\' && !$ctrl.$$step.$stopAnimation, \n\t\t\'animated fadeInRight\': $ctrl.chWizardStepsDoneContentCtrl.chWizardCtrl.direction == \'horizontal\' && !$ctrl.$$step.$stopAnimation}"><div ng-transclude></div><div flex layout layout-padding-sm layout-align="start center"><div flex layout layout-align="start center"><md-button class="md-primary" ng-click="$ctrl.$edit()" aria-label="Edit step"><md-icon class="mdi mdi-pencil md-24"></md-icon>&nbsp;<span translate="common.edit"></span></md-button></div></div></div>'),t.put("/tpls/wizard/wizard-step.tpl","<div ng-if=\"$ctrl.$$step.$active\" flex class=\"md-padding\" ng-class=\"{'animated fadeInUp': $ctrl.chWizardCtrl.direction == 'vertical' && !$ctrl.$$step.$stopAnimation, \n\t\t'animated fadeInRight': $ctrl.chWizardCtrl.direction == 'horizontal' && !$ctrl.$$step.$stopAnimation}\" ng-transclude></div>"),t.put("/tpls/wizard/wizard-steps-done-content.tpl",'<div ng-if="$ctrl.$$doneSteps"><ch-wizard-steps-done-container ng-transclude></ch-wizard-steps-done-container></div>'),t.put("/tpls/wizard/wizard.tpl",'<div><div><ng-form name="chFormWizardForm"><ch-wizard-steps-container ng-transclude></ch-wizard-steps-container><div flex layout layout-padding-sm layout-align="start center"><div flex layout layout-align="start center"><md-button ng-if="!$ctrl.$$currentStep.$first" ng-click="$ctrl.$back()" aria-label="Go back"><span translate="common.back"></span></md-button></div><div flex layout layout-align="end center" ng-if="!$ctrl.$$currentStep.$last"><md-button class="md-raised md-primary" ng-click="$ctrl.$forward()" aria-label="Go forward"><span translate="common.forward"></span></md-button></div><div flex layout layout-align="end center" ng-if="$ctrl.$$currentStep.$last"><md-button class="md-raised md-primary" ng-click="$ctrl.$confirm()" aria-label="Confirm"><span translate="common.confirm"></span></md-button></div></div></ng-form></div></div>')}]);